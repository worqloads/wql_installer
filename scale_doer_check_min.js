var _0x6cbe=['max_instance_running','kpiname_separator','kpi_prefix_sap','_sap_statuses','SAPControl-GREEN','SAPControl-YELLOW','SAPControl-RED','SAPControl-GRAY','SAP\x20control\x20WS\x20not\x20reachable','No\x20SAP\x20system\x20or\x20no\x20system\x20connection\x20active','No\x20active\x20SAP\x20instance\x20available','certif_dir','logger','cronjob','CronJob','default','hasOwnProperty','prototype','length','/version/','keys','map','join','counter','#\x20TYPE\x20counter_','\x20counter\x0a','\x20{system_id=\x22','\x22,policy_name=\x22','\x22}\x20','post','generateGroupings','catch','error','pushCounter\x20error:','up_timeseries','status_up','assign_hierarchy','#\x20TYPE\x20status_up\x20gauge\x0astatus_up\x20{instance=\x22','\x22,sid=\x22','\x22,cp_region=\x22','\x22\x20}\x20','gtw_url','/metrics/job/','pushUpInstance\x20error:','scaling_up','#\x20TYPE\x20scaling_up\x20gauge\x0ascaling_up\x20{instance=\x22','pushUpScaling\x20error:','forEach','status_instance_up','instancenr','status_instance_up\x20{instance=\x22','\x22,entity_id=\x22','\x22,sn=\x22','status','#\x20TYPE\x20status_instance_up\x20gauge\x0a','pushUpSAPInstance\x20error:','filter','each','\x20gauge\x0a','pushInstance\x20error:','replace','round','YYYY/MM/DD\x20hh:mm:ss','format','split','indexOf','splice','delete','pshgtw::del::error\x20:','then','pshgtw::delSerie::error\x20:','pshgtw::delInstance::error\x20:','ABAPGetComponentList','GetProcessList','GetAlerts','GetEnvironment','GetVersionInfo','GetQueueStatistic','GetInstanceProperties','ABAPGetWPTable','Start','Stop','ABAPGetSystemWPTable','GetCallstack','J2EEGetProcessList2','J2EEGetThreadList2','J2EEGetWebSessionList','J2EEGetVMHeapInfo','J2EEGetEJBSessionList','J2EEGetRemoteObjectList','J2EEGetClusterMsgList','J2EEGetSharedTableInfo','J2EEGetThreadTaskStack','J2EEGetComponentList','ICMGetThreadList','ICMGetConnectionList','ICMGetProxyConnectionList','EnqGetLockTable','sid',')\x20:','body','GetAlertTree','unit','_per_','toLowerCase','kpi','parent','name','assign','max','slice','Filesystems','Disk_','Lan','OperatingSystem','Network_','Microsoft\x20SQL\x20Server','Space\x20management','pop','Performance','I/O','substring','InstanceAsTask','Server\x20Configuration','match','R3Services','ICM','item','tree','push','ActualValue','description','concat','reduce','idx','instance=\x22','_id','features','hostname',',hostname=\x22','ip_internal',',ip_internal=\x22','filesystem','network_int',',network_int=\x22',',database=\x22','database','db_datafile',',db_datafile=\x22','pushgtw_cli','set',',sn=\x22',',rule_id=\x22',',filesystem=\x22','value','up2','enq','btc','spo','wait','ended','new','down','toUpperCase','_workprocess_','__nb','workprocess','Status','Typ','\x22,type=\x22',',workproces=\x22','log','Result\x20of\x20(',')=\x20','EnqGetStatistic','enqueue_','__sec',',features=\x22','process','GetSystemInstanceList','instance','msg','lines','env','ICMGetCacheEntries','entry','thread','J2EEGetCacheStatistic2','cache','jsf','heap','J2EEGetThreadCallStack','items','waterfall','InstanceStatuses','InstanceState','Code','InstanceStatus','SystemStatus','getEC2ID','ec2_not_found','describeInstanceStatus','E\x20isEC2RunningFromID\x20error:','isEC2StoppedFromID','E\x20isEC2StoppedFromID\x20error:','describeInstances','private-ip-address','Reservations','Instances','E\x20getEC2ID_Type\x20error','InstanceId','ec2_not_stopped','isEC2RunningFromID','ec2_not_started','global_log_level','call','separator','toJSON','LOG_LEVEL_MIN','apply','ScaleDoer\x20init\x20start','parallel','watchStuckJobs','code','\x20-\x20','command','origin','gateway','://','credentials','/pshgtw','existsSync','ScaleDoer\x20init\x20completed\x20with\x20queues:','conn_retries',':\x20delete\x20\x27','\x27\x20timeserie\x20data,\x20set\x20status=0\x20\x27up\x27\x20timeserie','pushUpSAPInstance','createClient','method','setSecurity','BasicAuthSecurity','options','user','pwd','ClientSSLSecurityPFX','pfx','setEndpoint','SAPControl.cgi','access','.pfx','writeFile','from','NODE_TLS_REJECT_UNAUTHORIZED','connect\x20sap:','system','update_sending_ssl','syst_id','is_encrypted','https','protocol','port_suffix','addInstance','new_soap_client','auth_method','username','password','soapcli','padStart','dispstatus','green','yellow','check_system_status','red','gray','conn_failed','pushUpInstance','entity_id','ws_not_reachable','address','MESSAGESERVER','ENQUE','http','error\x20connecting\x20to\x20instance:\x20','\x20with\x20error:\x20','sap\x20connect\x20other\x20error:','instances','pushInstance','scale','no_active_instance','>E\x20','no_system_conn','deletePrometheus','ETIMEDOUT','errno','collect_exec','data','connect_sap','func','type',':\x20execution',':\x20exec\x20error:','rule_id','collect_exec:\x20no\x20data\x20provided','findIndex','AccessCheck','checkconn_exec\x20authorization\x20error\x20for\x20SAP\x20instance:','trim','No\x20IP','aws_cli','cloud_instance_id','instance_id','cloud_instance_type','checkconn_exec\x20error\x20getting\x20SAP\x20instance\x20details\x20(IP,\x20cloud\x20instance\x20ID\x20and\x20type):','checkconn_exec:\x20SAP\x20instance\x20updated\x20OK:','checkconn_exec:\x20no\x20data\x20provided','error\x20geeting\x20SAP\x20instances\x20list\x20','instanceNr','Timeout\x20reached','check_start_sap_instance:','No\x20instance\x20found','isEC2Stopped','alert','labels','stop\x20instance\x20of\x20system\x20','keys_buff','port','values','stop\x20Request:\x20','\x20alert\x20','alertname','System\x20Instance\x20cannot\x20be\x20stopped\x20due\x20to\x20minimal\x20running\x20instance\x20for\x20','updated_system_instances','updated\x20SAP\x20instances\x20with\x20WIP\x20stop\x20to\x20Receiver\x20','series','trigger\x20stop\x20SAP\x20instance:','action','SAP\x20instance\x20stop\x20error','waiting\x20for\x20instance\x20to\x20stop\x20before\x20timeout\x20300\x20sec:\x20','stopEC2','stop\x20instances\x20error:','ceil','sap\x20stop\x20failed:','[COMPLETED]\x20fully\x20stopped:','\x20(counter=','pushCounter\x20stop:\x20','pushCounter','stop','no\x20soap\x20client\x20created\x20for\x20system\x20instance\x20','system\x20instance\x20','error\x20for\x20alert:','No\x20system\x20provided','start\x20instance\x20system\x20','start\x20system\x20',':\x20start\x20sap\x20instance:','updated\x20SAP\x20instances\x20with\x20WIP\x20start\x20to\x20Receiver\x20','startEC2','waiting\x20for\x20EC2\x20instance\x20to\x20actually\x20start\x20within\x20timeout\x20300\x20sec:','test','trigger\x20start\x20SAP\x20instance:','Instance\x20already\x20started','E\x20starting\x20sap\x20instance\x20error:','waiting\x20for\x20instance\x20to\x20actually\x20start\x20within\x20timeout\x20300\x20sec:','[COMPLETED]\x20fully\x20started\x20','pushCounter\x20start:\x20','start','start\x20instance\x20error:','No\x20eligible\x20system\x20instance\x20to\x20be\x20started','instance_nr','E\x20do_update_scaling_instance\x20system\x20not\x20indexed:\x20','parameters','alerts','\x20notification','firing','section','mrkdwn','<https://app.worqloads.com|','fingerprint','*Notification*\x0a','*System*\x0a','divider','New\x20notifications','email','endpoint','webhook_exec','UpdateScalingInstance','action\x20type\x20not\x20supported:','webhook_exec:\x20no\x20data\x20provided','get','get_cloud_region\x20','get_cloud_region\x20:\x20no\x20data','get_cloud_region:','conn_retries_max','debug','/conf.json','E\x20missing\x20configuration\x20file:','parse','readFileSync','production','init','checkconnection','SIGUSR1','I\x20switching\x20debug\x20mode\x20ON','I\x20switching\x20debug\x20mode\x20OFF','exit','I\x20Scale\x20Doer\x20Check\x20!\x20About\x20to\x20exit\x20with\x20code\x20','object','undefined','exports','axios','async','aws-sdk','kue','cron','soap','function','amd','moment','version','staging','metrics_caches','ec2','2016-11-15','mappings_ip_id','_errors','No\x20EC2\x20instance\x20found','AWS\x20credentials\x20keys\x20not\x20loadded','Error\x20starting\x20EC2\x20instance','Error\x20stopping\x20EC2\x20instance','config','getCredentials','credentials_not_loaded','__DEBUG__','LOG_LEVEL_ERROR','LOG_LEVEL_INFO','LOG_LEVEL_DEBUG','level_letter','\x20:\x20','queue','QUEUES','CHECK','company','region','nb_workers','sending_sslcertifs','conn_retries_delay_msec','min_instance_running'];(function(_0x1b4154,_0x42e8c4){var _0x252289=function(_0x993393){while(--_0x993393){_0x1b4154['push'](_0x1b4154['shift']());}};_0x252289(++_0x42e8c4);}(_0x6cbe,0x195));var _0x3998=function(_0x55ed2c,_0x40157a){_0x55ed2c=_0x55ed2c-0x0;var _0x3dc2c0=_0x6cbe[_0x55ed2c];return _0x3dc2c0;};!function(_0x1aff1b,_0x5d9601){_0x3998('0x0')==typeof exports&&_0x3998('0x1')!=typeof module?module[_0x3998('0x2')]=_0x5d9601(require(_0x3998('0x3')),require(_0x3998('0x4')),require('moment'),require(_0x3998('0x5')),require(_0x3998('0x6')),require('fs'),require(_0x3998('0x7')),require(_0x3998('0x8'))):_0x3998('0x9')==typeof define&&define[_0x3998('0xa')]?define(['axios','async',_0x3998('0xb'),_0x3998('0x5'),'kue','fs',_0x3998('0x7'),_0x3998('0x8')],_0x5d9601):_0x1aff1b['scaledoercheck']=_0x5d9601(_0x1aff1b[_0x3998('0x3')],_0x1aff1b[_0x3998('0x4')],_0x1aff1b['moment'],_0x1aff1b['aws-sdk'],_0x1aff1b[_0x3998('0x6')],_0x1aff1b['fs'],_0x1aff1b[_0x3998('0x7')],_0x1aff1b[_0x3998('0x8')]);}(this,function(_0x3c399c,_0x10ced8,_0x29469a,_0x3b7181,_0x33c9bd,_0x490d99,_0x14142f,_0xdf5000){'use strict';function _0x5c5d97(_0x3c399c,_0x10ced8){this[_0x3998('0xc')]=_0x10ced8,this[_0x3998('0xd')]=staging,this['gtw_url']=_0x3c399c,this[_0x3998('0xe')]={},this['up_timeseries']={};}function _0x299ce9(){var _0x3c399c=this;this[_0x3998('0xf')]=new _0x3b7181['EC2']({'apiVersion':_0x3998('0x10'),'region':'eu-west-3'}),this[_0x3998('0x11')]={},this[_0x3998('0x12')]={'ec2_not_found':_0x3998('0x13'),'credentials_not_loaded':_0x3998('0x14'),'ec2_not_started':_0x3998('0x15'),'ec2_not_stopped':_0x3998('0x16')},_0x3b7181[_0x3998('0x17')][_0x3998('0x18')](function(_0x10ced8){_0x10ced8&&console['error'](_0x3c399c[_0x3998('0x12')][_0x3998('0x19')]+':',_0x10ced8['stack']);});}function _0x488d14(_0x3c399c=0x1){this['global_log_level']=_0x3c399c,this[_0x3998('0x1a')]=!0x1,this[_0x3998('0x1b')]=0x0,this['LOG_LEVEL_MIN']=0x1,this[_0x3998('0x1c')]=0x2,this[_0x3998('0x1d')]=0x3,this[_0x3998('0x1e')]=['E','M','I','D'],this['separator']=_0x3998('0x1f');}function _0x33040a(){this[_0x3998('0x20')]=null,this[_0x3998('0x21')]={'collect_exec':'COLLECT','checkconn_exec':_0x3998('0x22'),'webhook_exec':'DO'},this[_0x3998('0x23')]='',this[_0x3998('0x24')]='',this[_0x3998('0x25')]=0x1,this[_0x3998('0x26')]={},this['conn_retries']={},this['conn_retries_max']=0x3,this[_0x3998('0x27')]=0x9c40,this['updated_system_instances']={},this[_0x3998('0x28')]=0x1,this[_0x3998('0x29')]=0xa,this[_0x3998('0x2a')]='_',this[_0x3998('0x2b')]='sap'+this[_0x3998('0x2a')],this[_0x3998('0x2c')]={'green':_0x3998('0x2d'),'yellow':_0x3998('0x2e'),'red':_0x3998('0x2f'),'gray':_0x3998('0x30')},this[_0x3998('0x12')]={'conn_failed':'Connection\x20to\x20SAP\x20system\x20failed','ws_not_reachable':_0x3998('0x31'),'no_system_conn':_0x3998('0x32'),'no_active_instance':_0x3998('0x33')},this[_0x3998('0x34')]=__dirname+'/.keys',this['aws_cli']=new _0x535cb2(),this[_0x3998('0x35')]=new _0x78af39(),this[_0x3998('0x36')]=_0x14142f[_0x3998('0x37')];}_0x3c399c=_0x3c399c&&_0x3c399c['hasOwnProperty'](_0x3998('0x38'))?_0x3c399c[_0x3998('0x38')]:_0x3c399c,_0x10ced8=_0x10ced8&&_0x10ced8[_0x3998('0x39')]('default')?_0x10ced8[_0x3998('0x38')]:_0x10ced8,_0x29469a=_0x29469a&&_0x29469a[_0x3998('0x39')]('default')?_0x29469a[_0x3998('0x38')]:_0x29469a,_0x3b7181=_0x3b7181&&_0x3b7181[_0x3998('0x39')](_0x3998('0x38'))?_0x3b7181[_0x3998('0x38')]:_0x3b7181,_0x33c9bd=_0x33c9bd&&_0x33c9bd[_0x3998('0x39')](_0x3998('0x38'))?_0x33c9bd[_0x3998('0x38')]:_0x33c9bd,_0x490d99=_0x490d99&&_0x490d99[_0x3998('0x39')](_0x3998('0x38'))?_0x490d99['default']:_0x490d99,_0x14142f=_0x14142f&&_0x14142f['hasOwnProperty'](_0x3998('0x38'))?_0x14142f[_0x3998('0x38')]:_0x14142f,_0xdf5000=_0xdf5000&&_0xdf5000[_0x3998('0x39')]('default')?_0xdf5000[_0x3998('0x38')]:_0xdf5000,_0x5c5d97[_0x3998('0x3a')]={'Constructor':_0x5c5d97,'assign_hierarchy'(_0x3c399c,_0x10ced8,_0x29469a){lastKeyIndex=_0x10ced8[_0x3998('0x3b')]-0x1;for(var _0x3b7181=0x0;_0x3b7181<lastKeyIndex;++_0x3b7181)key=_0x10ced8[_0x3b7181],key in _0x3c399c||(_0x3c399c[key]={}),_0x3c399c=_0x3c399c[key];_0x3c399c[_0x10ced8[lastKeyIndex]]=_0x29469a;},'generateGroupings':function(_0x3c399c){const _0x10ced8=this;if(!_0x3c399c)return _0x3998('0x3c')+_0x10ced8[_0x3998('0xc')]+'/staging/'+_0x10ced8[_0x3998('0xd')];var _0x29469a=Object['assign'](_0x3c399c,{'version':_0x10ced8[_0x3998('0xc')],'staging':_0x10ced8[_0x3998('0xd')]});return Object[_0x3998('0x3d')](_0x29469a)[_0x3998('0x3e')](_0x3c399c=>'/'+encodeURIComponent(_0x3c399c)+'/'+encodeURIComponent(_0x29469a[_0x3c399c]))[_0x3998('0x3f')]('');},'addInstance':function(_0x3c399c){this[_0x3998('0xe')][_0x3c399c]||(this[_0x3998('0xe')][_0x3c399c]={});},'pushCounter':function(_0x10ced8=_0x3998('0x40'),_0x29469a,_0x3b7181,_0x33c9bd,_0x490d99,_0x14142f,_0xdf5000){var _0x5c5d97=this;const _0x299ce9={'instance':_0x3b7181};var _0x488d14=_0x3998('0x41')+_0x29469a+_0x3998('0x42');_0x488d14+='counter_'+_0x29469a+_0x3998('0x43')+_0x33c9bd+_0x3998('0x44')+_0x14142f+'\x22,instancenr=\x22'+_0x490d99+_0x3998('0x45')+_0xdf5000+'\x0a',_0x3c399c[_0x3998('0x46')](_0x5c5d97['gtw_url']+'/metrics/job/'+encodeURIComponent(_0x10ced8)+_0x5c5d97[_0x3998('0x47')](_0x299ce9),_0x488d14)[_0x3998('0x48')](function(_0x3c399c){console[_0x3998('0x49')](_0x3998('0x4a'),_0x3c399c);});},'pushUpInstance':function(_0x10ced8='up',_0x29469a,_0x3b7181,_0x33c9bd,_0x490d99,_0x14142f){var _0xdf5000=this,_0x5c5d97=_0xdf5000[_0x3998('0x4b')][_0x3b7181]&&_0xdf5000[_0x3998('0x4b')][_0x3b7181][_0x3998('0x4c')]&&_0xdf5000[_0x3998('0x4b')][_0x3b7181]['status_up'][_0x29469a+'+'+_0x33c9bd+'+'+_0x490d99];if(null==_0x5c5d97&&_0xdf5000[_0x3998('0x4d')](_0xdf5000[_0x3998('0x4b')],[_0x3b7181,_0x3998('0x4c'),_0x29469a+'+'+_0x33c9bd+'+'+_0x490d99],_0x14142f),_0x5c5d97!==_0x14142f){var _0x299ce9=_0x3998('0x4e')+_0x3b7181+'\x22,entity_id=\x22'+_0x29469a+_0x3998('0x4f')+_0x490d99+_0x3998('0x50')+_0x33c9bd+_0x3998('0x51')+_0x14142f+'\x0a';_0x3c399c[_0x3998('0x46')](_0xdf5000[_0x3998('0x52')]+_0x3998('0x53')+encodeURIComponent(_0x10ced8)+_0xdf5000[_0x3998('0x47')]({'instance':_0x3b7181}),_0x299ce9)['catch'](function(_0x3c399c){console[_0x3998('0x49')](_0x3998('0x54'),_0x3c399c);});}},'pushUpScaling':function(_0x10ced8='up',_0x29469a,_0x3b7181,_0x33c9bd){var _0x490d99=this,_0x14142f=_0x490d99[_0x3998('0x4b')][_0x3b7181]&&_0x490d99[_0x3998('0x4b')][_0x3b7181][_0x3998('0x55')]&&_0x490d99[_0x3998('0x4b')][_0x3b7181][_0x3998('0x55')][_0x29469a];if(null==_0x14142f&&_0x490d99[_0x3998('0x4d')](_0x490d99['up_timeseries'],[_0x3b7181,_0x3998('0x55'),_0x29469a],_0x33c9bd),_0x14142f!==_0x33c9bd){var _0xdf5000=_0x3998('0x56')+_0x3b7181+'\x22,entity_id=\x22'+_0x29469a+_0x3998('0x51')+_0x33c9bd+'\x0a';_0x3c399c[_0x3998('0x46')](_0x490d99['gtw_url']+_0x3998('0x53')+encodeURIComponent(_0x10ced8)+_0x490d99[_0x3998('0x47')]({'instance':_0x3b7181}),_0xdf5000)[_0x3998('0x48')](function(_0x3c399c){console[_0x3998('0x49')](_0x3998('0x57'),_0x3c399c);});}},'pushUpSAPInstance':function(_0x10ced8='up',_0x29469a,_0x3b7181,_0x33c9bd,_0x490d99,_0x14142f){var _0xdf5000=this,_0x5c5d97='';_0x14142f[_0x3998('0x58')](_0x3c399c=>{_0xdf5000[_0x3998('0x4b')][_0x3b7181]&&_0xdf5000['up_timeseries'][_0x3b7181]['status_instance_up']&&null==_0xdf5000[_0x3998('0x4b')][_0x3b7181][_0x3998('0x59')][_0x29469a+'+'+_0x33c9bd+'+'+_0x490d99+'+'+_0x3c399c[_0x3998('0x5a')]]&&_0xdf5000[_0x3998('0x4d')](_0xdf5000[_0x3998('0x4b')],[_0x3b7181,'status_instance_up',_0x29469a+'+'+_0x33c9bd+'+'+_0x490d99+'+'+_0x3c399c['instancenr']],_0x3c399c['status']);_0x5c5d97+=_0x3998('0x5b')+_0x3b7181+_0x3998('0x5c')+_0x29469a+_0x3998('0x4f')+_0x490d99+_0x3998('0x50')+_0x33c9bd+_0x3998('0x5d')+_0x3c399c['instancenr']+_0x3998('0x45')+_0x3c399c[_0x3998('0x5e')]+'\x0a';}),''!=_0x5c5d97&&_0x3c399c[_0x3998('0x46')](_0xdf5000['gtw_url']+_0x3998('0x53')+encodeURIComponent(_0x10ced8)+_0xdf5000['generateGroupings']({'instance':_0x3b7181}),_0x3998('0x5f')+_0x5c5d97)[_0x3998('0x48')](function(_0x3c399c){console[_0x3998('0x49')](_0x3998('0x60'),_0x3c399c);});},'pushInstance':function(_0x29469a,_0x3b7181,_0x33c9bd){var _0x490d99=this;if(_0x490d99[_0x3998('0xe')][_0x3b7181]){var _0x14142f=Object[_0x3998('0x3d')](_0x490d99[_0x3998('0xe')][_0x3b7181])[_0x3998('0x61')](_0x3c399c=>_0x490d99[_0x3998('0xe')][_0x3b7181][_0x3c399c]['length']>0x0);_0x10ced8[_0x3998('0x62')](_0x14142f,function(_0x10ced8,_0x33c9bd){const _0x14142f='#\x20TYPE\x20'+_0x10ced8+_0x3998('0x63')+_0x490d99[_0x3998('0xe')][_0x3b7181][_0x10ced8][_0x3998('0x3e')](_0x3c399c=>_0x10ced8+'\x20'+_0x3c399c)['join']('\x0a')+'\x0a';_0x3c399c[_0x3998('0x46')](_0x490d99['gtw_url']+'/metrics/job/'+encodeURIComponent(_0x29469a)+_0x490d99[_0x3998('0x47')]({'instance':_0x3b7181}),_0x14142f)['then'](function(_0x3c399c){_0x490d99[_0x3998('0xe')][_0x3b7181][_0x10ced8]=[],_0x33c9bd();})[_0x3998('0x48')](function(_0x3c399c){_0x490d99[_0x3998('0xe')][_0x3b7181][_0x10ced8]=[],_0x33c9bd(_0x3c399c);});},function(_0x3c399c){_0x3c399c&&console['error'](_0x3998('0x64'),_0x3c399c),_0x490d99[_0x3998('0xe')][_0x3b7181]={},_0x33c9bd&&_0x33c9bd();});}else _0x33c9bd&&_0x33c9bd();},'set':function(_0x3c399c,_0x10ced8,_0x3b7181,_0x33c9bd){var _0x490d99=this,_0x14142f=_0x10ced8[_0x3998('0x65')](/-|\(|\)|\[|\]|\%|\+|\.|\s/g,'_'),_0xdf5000=null==_0x3b7181?0x0:isNaN(_0x3b7181)?Math[_0x3998('0x66')](parseInt(_0x29469a(_0x3b7181,_0x3998('0x67'))[_0x3998('0x68')]('X'))):Math[_0x3998('0x66')](parseInt(_0x3b7181));_0x490d99[_0x3998('0xe')][_0x33c9bd][_0x14142f]||(_0x490d99['metrics_caches'][_0x33c9bd][_0x14142f]=[]);const _0x5c5d97=_0x490d99[_0x3998('0xe')][_0x33c9bd][_0x14142f][_0x3998('0x3e')](_0x3c399c=>_0x3c399c[_0x3998('0x69')]('\x20')[0x0])[_0x3998('0x6a')](_0x3c399c);_0x5c5d97>=0x0&&_0x490d99[_0x3998('0xe')][_0x33c9bd][_0x14142f][_0x3998('0x6b')](_0x5c5d97,0x1),_0x490d99[_0x3998('0xe')][_0x33c9bd][_0x14142f]['push'](_0x3c399c+'\x20'+_0xdf5000);},'del':function(_0x10ced8,_0x29469a){var _0x3b7181=this;_0x3c399c[_0x3998('0x6c')](_0x3b7181['gtw_url']+_0x3998('0x53')+encodeURIComponent(_0x10ced8)+_0x3b7181[_0x3998('0x47')]({'instance':_0x29469a}))['then'](function(_0x3c399c){})[_0x3998('0x48')](function(_0x3c399c){console[_0x3998('0x49')](_0x3998('0x6d'),_0x3c399c);});},'delSerie':function(_0x10ced8,_0x29469a){var _0x3b7181=this;_0x3c399c[_0x3998('0x6c')](_0x3b7181[_0x3998('0x52')]+_0x3998('0x53')+encodeURIComponent(_0x10ced8)+_0x3b7181[_0x3998('0x47')](_0x29469a))[_0x3998('0x6e')](function(_0x3c399c){})['catch'](function(_0x3c399c){console[_0x3998('0x49')](_0x3998('0x6f'),_0x3c399c);});},'delInstance':function(_0x10ced8,_0x29469a){var _0x3b7181=this;_0x3c399c[_0x3998('0x6c')](_0x3b7181[_0x3998('0x52')]+_0x3998('0x53')+encodeURIComponent(_0x10ced8)+_0x3b7181[_0x3998('0x47')]({'instance':_0x29469a}))[_0x3998('0x6e')](function(_0x3c399c){})['catch'](function(_0x3c399c){console[_0x3998('0x49')](_0x3998('0x70'),_0x3c399c);});}};var _0x42c80f=_0x5c5d97,_0x172931={'sapcontrol_operations':{'ABAPGetComponentList':function(_0x3c399c,_0x10ced8){this[_0x3998('0x71')](_0x3c399c,_0x10ced8);},'GetProcessList':function(_0x3c399c,_0x10ced8){this[_0x3998('0x72')](_0x3c399c,_0x10ced8);},'GetAlerts':function(_0x3c399c,_0x10ced8){this[_0x3998('0x73')](_0x3c399c,_0x10ced8);},'GetAlertTree':function(_0x3c399c,_0x10ced8){this['GetAlertTree'](_0x3c399c,_0x10ced8);},'GetEnvironment':function(_0x3c399c,_0x10ced8){this[_0x3998('0x74')](_0x3c399c,_0x10ced8);},'GetVersionInfo':function(_0x3c399c,_0x10ced8){this[_0x3998('0x75')](_0x3c399c,_0x10ced8);},'GetQueueStatistic':function(_0x3c399c,_0x10ced8){this[_0x3998('0x76')](_0x3c399c,_0x10ced8);},'GetInstanceProperties':function(_0x3c399c,_0x10ced8){this[_0x3998('0x77')](_0x3c399c,_0x10ced8);},'ABAPGetWPTable':function(_0x3c399c,_0x10ced8){this[_0x3998('0x78')](_0x3c399c,_0x10ced8);},'Start':function(_0x3c399c,_0x10ced8){this[_0x3998('0x79')](_0x3c399c,_0x10ced8);},'Stop':function(_0x3c399c,_0x10ced8){this[_0x3998('0x7a')](_0x3c399c,_0x10ced8);},'GetSystemInstanceList':function(_0x3c399c,_0x10ced8){this['GetSystemInstanceList'](_0x3c399c,_0x10ced8);},'ABAPGetSystemWPTable':function(_0x3c399c,_0x10ced8){this[_0x3998('0x7b')](_0x3c399c,_0x10ced8);},'GetCallstack':function(_0x3c399c,_0x10ced8){this[_0x3998('0x7c')](_0x3c399c,_0x10ced8);},'J2EEGetProcessList2':function(_0x3c399c,_0x10ced8){this[_0x3998('0x7d')](_0x3c399c,_0x10ced8);},'J2EEGetThreadList2':function(_0x3c399c,_0x10ced8){this[_0x3998('0x7e')](_0x3c399c,_0x10ced8);},'J2EEGetWebSessionList':function(_0x3c399c,_0x10ced8){this[_0x3998('0x7f')](_0x3c399c,_0x10ced8);},'J2EEGetCacheStatistic2':function(_0x3c399c,_0x10ced8){this['J2EEGetCacheStatistic2'](_0x3c399c,_0x10ced8);},'J2EEGetVMHeapInfo':function(_0x3c399c,_0x10ced8){this[_0x3998('0x80')](_0x3c399c,_0x10ced8);},'J2EEGetEJBSessionList':function(_0x3c399c,_0x10ced8){this[_0x3998('0x81')](_0x3c399c,_0x10ced8);},'J2EEGetRemoteObjectList':function(_0x3c399c,_0x10ced8){this[_0x3998('0x82')](_0x3c399c,_0x10ced8);},'J2EEGetClusterMsgList':function(_0x3c399c,_0x10ced8){this[_0x3998('0x83')](_0x3c399c,_0x10ced8);},'J2EEGetSharedTableInfo':function(_0x3c399c,_0x10ced8){this[_0x3998('0x84')](_0x3c399c,_0x10ced8);},'J2EEGetThreadCallStack':function(_0x3c399c,_0x10ced8){this['J2EEGetThreadCallStack'](_0x3c399c,_0x10ced8);},'J2EEGetThreadTaskStack':function(_0x3c399c,_0x10ced8){this[_0x3998('0x85')](_0x3c399c,_0x10ced8);},'J2EEGetComponentList':function(_0x3c399c,_0x10ced8){this[_0x3998('0x86')](_0x3c399c,_0x10ced8);},'ICMGetThreadList':function(_0x3c399c,_0x10ced8){this[_0x3998('0x87')](_0x3c399c,_0x10ced8);},'ICMGetConnectionList':function(_0x3c399c,_0x10ced8){this[_0x3998('0x88')](_0x3c399c,_0x10ced8);},'ICMGetCacheEntries':function(_0x3c399c,_0x10ced8){this['ICMGetCacheEntries'](_0x3c399c,_0x10ced8);},'ICMGetProxyConnectionList':function(_0x3c399c,_0x10ced8){this[_0x3998('0x89')](_0x3c399c,_0x10ced8);},'WebDispGetServerList':function(_0x3c399c,_0x10ced8){this['WebDispGetServerList'](_0x3c399c,_0x10ced8);},'EnqGetLockTable':function(_0x3c399c,_0x10ced8){this[_0x3998('0x8a')](_0x3c399c,_0x10ced8);},'EnqGetStatistic':function(_0x3c399c,_0x10ced8){this['EnqGetStatistic'](_0x3c399c,_0x10ced8);}},'sapctrl_process_func':function(_0x3c399c,_0x10ced8,_0x29469a,_0x3b7181,_0x33c9bd,_0x490d99,_0x14142f,_0xdf5000,_0x5c5d97,_0x299ce9){var _0x488d14=this;if(_0x3c399c)console[_0x3998('0x49')]('execution\x20error\x20of\x20('+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0x8c')+_0x3c399c&&_0x3c399c[_0x3998('0x8d')]),_0x299ce9();else switch(_0x29469a){case _0x3998('0x73'):case _0x3998('0x8e'):var _0x33040a=-0x1,_0x42c80f=[],_0x172931=[],_0x109790=[];const _0x3c399c=_0x488d14[_0x3998('0x2a')],_0x1a8e78=function(_0x10ced8,_0x29469a){var _0x3b7181=_0x29469a[_0x3998('0x8f')][_0x3998('0x65')](/\%/g,'percent')[_0x3998('0x65')](/\//g,_0x3998('0x90'))['replace'](/\W+/g,'')[_0x3998('0x91')]();return''==_0x3b7181&&(_0x3b7181='nb'),_0x488d14[_0x3998('0x2b')]+_0x29469a[_0x3998('0x92')][_0x3998('0x65')](/\W+/g,_0x3c399c)+'__'+_0x3b7181;},_0x2359dd=function(_0x3c399c,_0x10ced8,_0x29469a,_0x3b7181){var _0x33c9bd={'value':isNaN(_0x3b7181[0x0][_0x3998('0x65')](/\s/g,''))?0x0:Math['round'](parseInt(_0x3b7181[0x0][_0x3998('0x65')](/\s/g,''))),'type':_0x490d99,'unit':_0x3b7181[_0x3998('0x3b')]>0x1&&_0x3b7181[0x1]||''};if(!(_0x29469a[_0x3998('0x93')]>0x1))return null;if(_0x3c399c[_0x3998('0x3b')]>=0x2)switch(_0x3c399c[0x1][_0x3998('0x94')]){case'OperatingSystem':if(!(_0x3c399c['length']>=0x4))return Object[_0x3998('0x95')](_0x33c9bd,{'category':_0x3c399c[Math[_0x3998('0x96')](_0x3c399c[_0x3998('0x3b')]-0x2,0x1)][_0x3998('0x94')],'kpi':_0x3c399c[_0x3998('0x97')](Math[_0x3998('0x96')](_0x3c399c['length']-0x1,0x0),_0x3c399c['length'])[_0x3998('0x3e')](_0x3c399c=>_0x3c399c[_0x3998('0x94')])[_0x3998('0x3f')](_0x10ced8)+_0x10ced8+_0x29469a[_0x3998('0x94')]});switch(_0x3c399c[0x2][_0x3998('0x94')]){case _0x3998('0x98'):return Object['assign'](_0x33c9bd,{'filesystem':_0x3c399c[0x3][_0x3998('0x94')],'category':'OperatingSystem','kpi':_0x3998('0x99')+_0x29469a['name']});case _0x3998('0x9a'):return Object[_0x3998('0x95')](_0x33c9bd,{'network_int':_0x3c399c[0x3][_0x3998('0x94')],'category':_0x3998('0x9b'),'kpi':_0x3998('0x9c')+_0x29469a[_0x3998('0x94')]});default:return Object['assign'](_0x33c9bd,{'category':_0x3c399c[Math[_0x3998('0x96')](_0x3c399c['length']-0x2,0x1)][_0x3998('0x94')],'kpi':_0x3c399c[_0x3998('0x97')](Math[_0x3998('0x96')](_0x3c399c[_0x3998('0x3b')]-0x1,0x0),_0x3c399c[_0x3998('0x3b')])[_0x3998('0x3e')](_0x3c399c=>_0x3c399c[_0x3998('0x94')])['join'](_0x10ced8)+_0x10ced8+_0x29469a['name']});}break;case _0x3998('0x9d'):if(!(_0x3c399c['length']>=0x4))return Object[_0x3998('0x95')](_0x33c9bd,{'category':_0x3c399c[Math['max'](_0x3c399c[_0x3998('0x3b')]-0x2,0x1)][_0x3998('0x94')],'kpi':_0x3c399c[_0x3998('0x97')](Math[_0x3998('0x96')](_0x3c399c[_0x3998('0x3b')]-0x1,0x0),_0x3c399c[_0x3998('0x3b')])[_0x3998('0x3e')](_0x3c399c=>_0x3c399c[_0x3998('0x94')])[_0x3998('0x3f')](_0x10ced8)+_0x10ced8+_0x29469a[_0x3998('0x94')]});switch(_0x3c399c[0x2][_0x3998('0x94')]){case _0x3998('0x9e'):const _0x3b7181=_0x3c399c[0x4][_0x3998('0x94')][_0x3998('0x69')]('/')[_0x3998('0x9f')]();return Object[_0x3998('0x95')](_0x33c9bd,{'database':_0x3c399c[0x3][_0x3998('0x94')][_0x3998('0x69')](':')[0x1],'db_datafile':_0x3b7181,'category':_0x3c399c[0x2][_0x3998('0x94')],'kpi':_0x29469a[_0x3998('0x94')]['replace'](new RegExp(_0x3b7181[_0x3998('0x65')](/(\.[a-z]{3})$/gi,'')+'\x20','gi'),'')});case _0x3998('0xa0'):return _0x3998('0xa1')==_0x3c399c[0x3][_0x3998('0x94')]?Object[_0x3998('0x95')](_0x33c9bd,{'db_datafile':_0x29469a[_0x3998('0x94')][_0x3998('0xa2')](0x15,_0x29469a[_0x3998('0x94')]['length']),'category':_0x3c399c[0x2][_0x3998('0x94')],'kpi':_0x3c399c[0x3][_0x3998('0x94')]}):Object[_0x3998('0x95')](_0x33c9bd,{'category':_0x3c399c[0x2][_0x3998('0x94')],'kpi':_0x3c399c[0x3]['name']+_0x10ced8+_0x29469a[_0x3998('0x94')]});default:return Object[_0x3998('0x95')](_0x33c9bd,{'category':_0x3c399c[Math[_0x3998('0x96')](_0x3c399c[_0x3998('0x3b')]-0x2,0x1)][_0x3998('0x94')],'kpi':_0x3c399c[_0x3998('0x97')](Math[_0x3998('0x96')](_0x3c399c[_0x3998('0x3b')]-0x1,0x0),_0x3c399c[_0x3998('0x3b')])[_0x3998('0x3e')](_0x3c399c=>_0x3c399c['name'])[_0x3998('0x3f')](_0x10ced8)+_0x10ced8+_0x29469a[_0x3998('0x94')]});}break;case _0x3998('0xa3'):case _0x3998('0xa4'):if(_0x3b7181[0x0][_0x3998('0xa5')](/^([0-9]|\s)+(\.[0-9]+)?$/g))return Object[_0x3998('0x95')](_0x33c9bd,{'category':_0x3c399c[0x1][_0x3998('0x94')],'kpi':_0x3c399c[_0x3998('0x97')](Math['max'](_0x3c399c['length']-0x1,0x0),_0x3c399c[_0x3998('0x3b')])['map'](_0x3c399c=>_0x3c399c[_0x3998('0x94')])['join'](_0x10ced8)+_0x10ced8+_0x29469a[_0x3998('0x94')]});break;case _0x3998('0xa6'):return _0x3c399c[_0x3998('0x3b')]>=0x3&&_0x3998('0xa7')==_0x3c399c[0x2][_0x3998('0x94')]?Object[_0x3998('0x95')](_0x33c9bd,{'category':_0x3998('0xa6'),'kpi':_0x3c399c[_0x3998('0x97')](Math[_0x3998('0x96')](_0x3c399c[_0x3998('0x3b')]-0x2,0x0),_0x3c399c['length'])[_0x3998('0x3e')](_0x3c399c=>_0x3c399c['name'])[_0x3998('0x3f')](_0x10ced8)+_0x10ced8+_0x29469a[_0x3998('0x94')]}):Object[_0x3998('0x95')](_0x33c9bd,{'category':_0x3998('0xa6'),'kpi':_0x3c399c[_0x3998('0x97')](Math[_0x3998('0x96')](_0x3c399c[_0x3998('0x3b')]-0x1,0x0),_0x3c399c[_0x3998('0x3b')])[_0x3998('0x3e')](_0x3c399c=>_0x3c399c[_0x3998('0x94')])[_0x3998('0x3f')](_0x10ced8)+_0x10ced8+_0x29469a[_0x3998('0x94')]});default:return Object[_0x3998('0x95')](_0x33c9bd,{'category':_0x3c399c[Math[_0x3998('0x96')](_0x3c399c['length']-0x2,0x1)][_0x3998('0x94')],'kpi':_0x3c399c[_0x3998('0x97')](Math[_0x3998('0x96')](_0x3c399c[_0x3998('0x3b')]-0x1,0x0),_0x3c399c[_0x3998('0x3b')])['map'](_0x3c399c=>_0x3c399c['name'])['join'](_0x10ced8)+_0x10ced8+_0x29469a[_0x3998('0x94')]});}};_0x10ced8['tree']&&_0x10ced8['tree'][_0x3998('0xa8')]&&(_0x10ced8[_0x3998('0xa9')][_0x3998('0xa8')][_0x3998('0x58')](_0x29469a=>{if(_0x29469a[_0x3998('0x93')]>_0x33040a){_0x42c80f[_0x3998('0xaa')]({'idx':_0x29469a['parent'],'name':_0x10ced8[_0x3998('0xa9')][_0x3998('0xa8')][_0x29469a[_0x3998('0x93')]][_0x3998('0x94')],'status':_0x10ced8[_0x3998('0xa9')][_0x3998('0xa8')][_0x29469a['parent']][_0x3998('0xab')]});const _0x3b7181=_0x29469a[_0x3998('0xac')]['split']('\x20');_0x3b7181[0x0][_0x3998('0x6a')](':')>0x0?_0x3b7181['forEach'](_0x10ced8=>{const _0x3b7181=_0x10ced8[_0x3998('0x69')](':');0x2==_0x3b7181[_0x3998('0x3b')]&&_0x3b7181[0x1][_0x3998('0xa5')](/[0-9]+(\.[0-9]+)?/g)&&(_0x109790=_0x109790[_0x3998('0xad')]([_0x2359dd(_0x42c80f,_0x3c399c,Object['assign'](_0x29469a,{'name':_0x29469a['name']+_0x3c399c+_0x3b7181[0x0]}),[_0x3b7181[0x1]])]));}):_0x3b7181[0x0][_0x3998('0xa5')](/[0-9]+(\.[0-9]+)?/g)&&(_0x109790=_0x109790[_0x3998('0xad')]([_0x2359dd(_0x42c80f,_0x3c399c,_0x29469a,[_0x3b7181[_0x3998('0xae')]((_0x3c399c,_0x10ced8)=>_0x10ced8[_0x3998('0xa5')](/[0-9]+(\.[0-9]+)?/g)?_0x3c399c+_0x10ced8:_0x3c399c,''),_0x3b7181[_0x3b7181['length']-0x1][_0x3998('0x65')](/\s|[0-9]/g,'')])])),_0x33040a=_0x29469a[_0x3998('0x93')];}else if(_0x29469a[_0x3998('0x93')]==_0x33040a){const _0x10ced8=_0x29469a[_0x3998('0xac')][_0x3998('0x69')]('\x20');_0x10ced8[0x0][_0x3998('0x6a')](':')>0x0?_0x10ced8['forEach'](_0x10ced8=>{const _0x3b7181=_0x10ced8[_0x3998('0x69')](':');0x2==_0x3b7181[_0x3998('0x3b')]&&_0x3b7181[0x1]['match'](/[0-9]+(\.[0-9]+)?/g)&&(_0x109790=_0x109790[_0x3998('0xad')]([_0x2359dd(_0x42c80f,_0x3c399c,Object['assign'](_0x29469a,{'name':_0x29469a[_0x3998('0x94')]+_0x3c399c+_0x3b7181[0x0]}),[_0x3b7181[0x1]])]));}):_0x10ced8[0x0][_0x3998('0xa5')](/[0-9]+(\.[0-9]+)?/g)&&(_0x109790=_0x109790[_0x3998('0xad')]([_0x2359dd(_0x42c80f,_0x3c399c,_0x29469a,[_0x10ced8[_0x3998('0xae')]((_0x3c399c,_0x10ced8)=>_0x10ced8[_0x3998('0xa5')](/[0-9]+(\.[0-9]+)?/g)?_0x3c399c+_0x10ced8:_0x3c399c,''),_0x10ced8[_0x10ced8[_0x3998('0x3b')]-0x1][_0x3998('0x65')](/\s|[0-9]/g,'')])]));}else{_0x172931=_0x172931['concat'](_0x109790);for(var _0x3b7181=_0x42c80f[_0x3998('0x3b')]-0x1;_0x3b7181>=0x0&&_0x42c80f[_0x3b7181][_0x3998('0xaf')]>_0x29469a['parent'];)_0x42c80f['pop'](),_0x3b7181--;_0x109790=[],_0x33040a=_0x29469a['parent'];}}),_0xdf5000&&0x0!=_0xdf5000[_0x3998('0x3b')]?_0x172931[_0x3998('0x58')](_0x3c399c=>{if(_0x3c399c){var _0x10ced8=_0x1a8e78(0x0,_0x3c399c);if(_0xdf5000[_0x3998('0x6a')](_0x10ced8)>=0x0){var _0x29469a=_0x3998('0xb0')+_0x3b7181[_0x3998('0xb1')]+'\x22,sid=\x22'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0x5c')+_0x14142f+'\x22,features=\x22'+_0x33c9bd[_0x3998('0xb2')]+'\x22';void 0x0!=_0x33c9bd['sn']&&(_0x29469a+=',sn=\x22'+_0x33c9bd['sn']+'\x22'),void 0x0!=_0x5c5d97&&(_0x29469a+=',rule_id=\x22'+_0x5c5d97+'\x22'),void 0x0!=_0x33c9bd[_0x3998('0xb3')]&&(_0x29469a+=_0x3998('0xb4')+_0x33c9bd[_0x3998('0xb3')]+'\x22'),void 0x0!=_0x33c9bd[_0x3998('0xb5')]&&(_0x29469a+=_0x3998('0xb6')+_0x33c9bd[_0x3998('0xb5')]+'\x22'),void 0x0!=_0x3c399c[_0x3998('0xb7')]&&(_0x29469a+=',filesystem=\x22'+_0x3c399c[_0x3998('0xb7')]+'\x22'),void 0x0!=_0x3c399c[_0x3998('0xb8')]&&(_0x29469a+=_0x3998('0xb9')+_0x3c399c[_0x3998('0xb8')]+'\x22'),void 0x0!=_0x3c399c['database']&&(_0x29469a+=_0x3998('0xba')+_0x3c399c[_0x3998('0xbb')]+'\x22'),void 0x0!=_0x3c399c[_0x3998('0xbc')]&&(_0x29469a+=_0x3998('0xbd')+_0x3c399c['db_datafile']+'\x22'),_0x488d14[_0x3998('0xbe')][_0x3998('0xbf')]('{'+_0x29469a+'}',_0x10ced8,_0x3c399c['value'],_0x3b7181[_0x3998('0xb1')]);}}}):_0x172931[_0x3998('0x58')](_0x3c399c=>{if(_0x3c399c){var _0x10ced8=_0x3998('0xb0')+_0x3b7181[_0x3998('0xb1')]+'\x22,sid=\x22'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0x5c')+_0x14142f+'\x22,features=\x22'+_0x33c9bd[_0x3998('0xb2')]+'\x22';void 0x0!=_0x33c9bd['sn']&&(_0x10ced8+=_0x3998('0xc0')+_0x33c9bd['sn']+'\x22'),void 0x0!=_0x5c5d97&&(_0x10ced8+=_0x3998('0xc1')+_0x5c5d97+'\x22'),void 0x0!=_0x33c9bd[_0x3998('0xb3')]&&(_0x10ced8+=_0x3998('0xb4')+_0x33c9bd[_0x3998('0xb3')]+'\x22'),void 0x0!=_0x33c9bd['ip_internal']&&(_0x10ced8+=_0x3998('0xb6')+_0x33c9bd[_0x3998('0xb5')]+'\x22'),void 0x0!=_0x3c399c[_0x3998('0xb7')]&&(_0x10ced8+=_0x3998('0xc2')+_0x3c399c[_0x3998('0xb7')]+'\x22'),void 0x0!=_0x3c399c[_0x3998('0xb8')]&&(_0x10ced8+=',network_int=\x22'+_0x3c399c['network_int']+'\x22'),void 0x0!=_0x3c399c[_0x3998('0xbb')]&&(_0x10ced8+=_0x3998('0xba')+_0x3c399c['database']+'\x22'),void 0x0!=_0x3c399c['db_datafile']&&(_0x10ced8+=_0x3998('0xbd')+_0x3c399c[_0x3998('0xbc')]+'\x22'),_0x488d14[_0x3998('0xbe')]['set']('{'+_0x10ced8+'}',_0x1a8e78(0x0,_0x3c399c),_0x3c399c[_0x3998('0xc3')],_0x3b7181['_id']);}})),_0x299ce9();break;case _0x3998('0x78'):const _0x53b4ea=['dia','upd',_0x3998('0xc4'),_0x3998('0xc5'),_0x3998('0xc6'),_0x3998('0xc7')],_0x300c34=[_0x3998('0xc8'),'hold','run','stop',_0x3998('0xc9'),_0x3998('0xca'),_0x3998('0xcb')];var _0x5378c5={};const _0x454514=function(_0x3c399c,_0x10ced8){return'ALL'!=_0x3c399c[_0x3998('0xcc')]()?_0x488d14[_0x3998('0x2b')]+_0x3c399c[_0x3998('0x91')]()+_0x3998('0xcd')+_0x10ced8+_0x3998('0xce'):_0x488d14[_0x3998('0x2b')]+'_workprocess_'+_0x10ced8+_0x3998('0xce');};_0x53b4ea[_0x3998('0x58')](_0x3c399c=>{_0x300c34[_0x3998('0x58')](_0x10ced8=>{_0x5378c5[_0x454514(_0x490d99,_0x10ced8)]=_0x5378c5[_0x454514(_0x490d99,_0x10ced8)]?Object[_0x3998('0x95')]({},_0x5378c5[_0x454514(_0x490d99,_0x10ced8)],{[_0x3c399c]:0x0}):{[_0x3c399c]:0x0};});}),_0x10ced8[_0x3998('0xcf')]&&_0x10ced8[_0x3998('0xcf')][_0x3998('0xa8')]&&_0x10ced8[_0x3998('0xcf')]['item']['forEach'](_0x3c399c=>{_0x5378c5[_0x454514(_0x490d99,_0x3c399c[_0x3998('0xd0')]['toLowerCase']())]&&void 0x0!=_0x5378c5[_0x454514(_0x490d99,_0x3c399c[_0x3998('0xd0')][_0x3998('0x91')]())][_0x3c399c[_0x3998('0xd1')][_0x3998('0x91')]()]?_0x5378c5[_0x454514(_0x490d99,_0x3c399c[_0x3998('0xd0')][_0x3998('0x91')]())][_0x3c399c['Typ']['toLowerCase']()]++:console[_0x3998('0x49')]('not\x20definition\x20for\x20',_0x454514(_0x490d99,_0x3c399c[_0x3998('0xd0')][_0x3998('0x91')]()));});_0x1f53a8='instance=\x22'+_0x3b7181[_0x3998('0xb1')]+_0x3998('0x4f')+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd2')+_0x490d99+_0x3998('0x5c')+_0x14142f+'\x22';void 0x0!=_0x33c9bd[_0x3998('0xb3')]&&(_0x1f53a8+=_0x3998('0xb4')+_0x33c9bd[_0x3998('0xb3')]+'\x22'),void 0x0!=_0x33c9bd[_0x3998('0xb5')]&&(_0x1f53a8+=_0x3998('0xb6')+_0x33c9bd[_0x3998('0xb5')]+'\x22'),void 0x0!=_0x33c9bd['sn']&&(_0x1f53a8+=_0x3998('0xc0')+_0x33c9bd['sn']+'\x22'),void 0x0!=_0x5c5d97&&(_0x1f53a8+=_0x3998('0xc1')+_0x5c5d97+'\x22'),Object[_0x3998('0x3d')](_0x5378c5)[_0x3998('0x58')](_0x3c399c=>{_0xdf5000&&0x0!=_0xdf5000['length']?_0xdf5000[_0x3998('0x6a')](_0x3c399c)>=0x0&&_0x53b4ea['forEach'](_0x10ced8=>{_0x488d14[_0x3998('0xbe')][_0x3998('0xbf')]('{'+_0x1f53a8+_0x3998('0xd3')+_0x10ced8+'\x22}',_0x3c399c,_0x5378c5[_0x3c399c][_0x10ced8],_0x3b7181[_0x3998('0xb1')]);}):_0x53b4ea[_0x3998('0x58')](_0x10ced8=>{_0x488d14[_0x3998('0xbe')][_0x3998('0xbf')]('{'+_0x1f53a8+',workproces=\x22'+_0x10ced8+'\x22}',_0x3c399c,_0x5378c5[_0x3c399c][_0x10ced8],_0x3b7181['_id']);});}),_0x299ce9();break;case _0x3998('0x7b'):console[_0x3998('0xd4')](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181['sid']+_0x3998('0xd6'),_0x10ced8[_0x3998('0xcf')][_0x3998('0xa8')]),_0x299ce9();break;case _0x3998('0xd7'):const _0x598e0f=function(_0x3c399c){return _0x3c399c[_0x3998('0x91')]()[_0x3998('0xa5')](/.*time$/)?_0x488d14['kpi_prefix_sap']+_0x3998('0xd8')+_0x3c399c[_0x3998('0x91')]()[_0x3998('0x65')](/[^a-zA-Z0-9]/g,'_')+_0x3998('0xd9'):_0x488d14[_0x3998('0x2b')]+_0x3998('0xd8')+_0x3c399c[_0x3998('0x91')]()[_0x3998('0x65')](/[^a-zA-Z0-9]/g,'_')+_0x3998('0xce');};var _0x1f53a8='instance=\x22'+_0x3b7181[_0x3998('0xb1')]+_0x3998('0x4f')+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd2')+_0x490d99+'\x22,company_id=\x22'+company_id+_0x3998('0x5c')+_0x14142f+'\x22';void 0x0!=_0x33c9bd[_0x3998('0xb2')]&&(_0x1f53a8+=_0x3998('0xda')+_0x33c9bd['features']+'\x22'),void 0x0!=_0x33c9bd['hostname']&&(_0x1f53a8+=_0x3998('0xb4')+_0x33c9bd[_0x3998('0xb3')]+'\x22'),void 0x0!=_0x33c9bd[_0x3998('0xb5')]&&(_0x1f53a8+=',ip_internal=\x22'+_0x33c9bd[_0x3998('0xb5')]+'\x22'),void 0x0!=_0x33c9bd['sn']&&(_0x1f53a8+=_0x3998('0xc0')+_0x33c9bd['sn']+'\x22'),void 0x0!=_0x5c5d97&&(_0x1f53a8+=',rule_id=\x22'+_0x5c5d97+'\x22'),Object[_0x3998('0x3d')](_0x10ced8)['forEach'](_0x3c399c=>{_0x488d14['pushgtw_cli'][_0x3998('0xbf')]('{'+_0x1f53a8+'}',_0x598e0f(_0x3c399c),_0x10ced8[_0x3c399c],_0x3b7181[_0x3998('0xb1')]);}),_0x299ce9();break;case _0x3998('0x7d'):case _0x3998('0x72'):console[_0x3998('0xd4')](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd6'),_0x10ced8[_0x3998('0xdb')][_0x3998('0xa8')]),_0x299ce9();break;case _0x3998('0x86'):case'ABAPGetComponentList':console[_0x3998('0xd4')](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181['sid']+_0x3998('0xd6'),_0x10ced8['component'][_0x3998('0xa8')]),_0x299ce9();break;case _0x3998('0x76'):console[_0x3998('0xd4')](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+')=\x20',_0x10ced8[_0x3998('0x20')][_0x3998('0xa8')]),_0x299ce9();break;case _0x3998('0x75'):console[_0x3998('0xd4')]('Result\x20of\x20('+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd6'),_0x10ced8[_0x3998('0xc')][_0x3998('0xa8')]),_0x299ce9();break;case _0x3998('0xdc'):console[_0x3998('0xd4')](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd6'),_0x10ced8[_0x3998('0xdd')][_0x3998('0xa8')]),_0x299ce9();break;case _0x3998('0x83'):console[_0x3998('0xd4')](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd6'),_0x10ced8[_0x3998('0xde')]),_0x299ce9();break;case _0x3998('0x7c'):console[_0x3998('0xd4')](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+')=\x20',_0x10ced8[_0x3998('0xdf')][_0x3998('0xa8')]),_0x299ce9();break;case _0x3998('0x74'):console['log'](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+')=\x20',_0x10ced8[_0x3998('0xe0')][_0x3998('0xa8')]),_0x299ce9();break;case _0x3998('0x88'):case _0x3998('0x89'):console['log'](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181['sid']+_0x3998('0xd6'),_0x10ced8['connection']),_0x299ce9();break;case _0x3998('0xe1'):console[_0x3998('0xd4')]('Result\x20of\x20('+_0x29469a+'@'+_0x3b7181['sid']+_0x3998('0xd6'),_0x10ced8[_0x3998('0xe2')][_0x3998('0xa8')]),_0x299ce9();break;case _0x3998('0x87'):console[_0x3998('0xd4')]('Result\x20of\x20('+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd6'),_0x10ced8[_0x3998('0xe3')][_0x3998('0xa8')]),_0x299ce9();break;case'EnqGetLockTable':console[_0x3998('0xd4')](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd6'),_0x10ced8['lock']),_0x299ce9();break;case _0x3998('0x77'):console['log'](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd6'),_0x10ced8['properties']['item']),_0x299ce9();break;case _0x3998('0xe4'):console['log']('Result\x20of\x20('+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd6'),_0x10ced8[_0x3998('0xe5')][_0x3998('0xa8')]),_0x299ce9();break;case _0x3998('0x7e'):console[_0x3998('0xd4')](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd6'),_0x10ced8['thread'][_0x3998('0xa8')]),_0x299ce9();break;case _0x3998('0x84'):console['log']('Result\x20of\x20('+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd6'),_0x10ced8[_0x3998('0xe6')]['item']),_0x299ce9();break;case'J2EEGetVMHeapInfo':console[_0x3998('0xd4')]('Result\x20of\x20('+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd6'),_0x10ced8[_0x3998('0xe7')][_0x3998('0xa8')]),_0x299ce9();break;case _0x3998('0xe8'):case'J2EEGetThreadTaskStack':console[_0x3998('0xd4')](_0x3998('0xd5')+_0x29469a+'@'+_0x3b7181[_0x3998('0x8b')]+_0x3998('0xd6'),_0x10ced8[_0x3998('0x94')],'\x20',_0x10ced8[_0x3998('0xdf')][_0x3998('0xe9')]),_0x299ce9();break;default:console[_0x3998('0xd4')]('Result\x20of\x20('+_0x29469a+'@'+_0x3b7181['sid']+_0x3998('0xd6'),_0x10ced8),_0x299ce9();}}};_0x299ce9[_0x3998('0x3a')]={'Constructor':_0x299ce9,'isEC2sRunning':function(_0x3c399c,_0x29469a){var _0x3b7181=this;_0x10ced8[_0x3998('0xea')]([function(_0x10ced8){_0x3b7181[_0x3998('0xf')]['describeInstanceStatus']({'InstanceIds':Object[_0x3998('0x3d')](_0x3b7181[_0x3998('0x11')])['filter'](_0x10ced8=>_0x3c399c['indexOf'](_0x10ced8)>=0x0)[_0x3998('0x3e')](_0x3c399c=>_0x3b7181[_0x3998('0x11')][_0x3c399c]),'IncludeAllInstances':!0x0},_0x10ced8);},function(_0x3c399c,_0x10ced8){var _0x29469a={};_0x3c399c[_0x3998('0xeb')]['forEach'](_0x3c399c=>{_0x29469a[_0x3c399c['InstanceId']]=0x10==_0x3c399c[_0x3998('0xec')][_0x3998('0xed')]&&'ok'==_0x3c399c[_0x3998('0xee')][_0x3998('0xd0')]&&'ok'==_0x3c399c[_0x3998('0xef')]['Status'];}),_0x10ced8(null,_0x29469a);}],function(_0x3c399c,_0x10ced8){_0x3c399c&&console['error']('E\x20isEC2sRunning\x20error:',_0x3c399c),_0x29469a(_0x10ced8);});},'isEC2Running':function(_0x3c399c,_0x10ced8){var _0x29469a=this;_0x29469a[_0x3998('0xf0')](_0x3c399c,_0x3c399c=>{_0x3c399c?_0x29469a['isEC2RunningFromID'](_0x3c399c,_0x10ced8):(console[_0x3998('0x49')](_0x29469a[_0x3998('0x12')][_0x3998('0xf1')]),_0x10ced8());});},'isEC2RunningFromID':function(_0x3c399c,_0x29469a){var _0x3b7181=this;_0x10ced8[_0x3998('0xea')]([function(_0x10ced8){_0x3b7181[_0x3998('0xf')][_0x3998('0xf2')]({'InstanceIds':[_0x3c399c],'IncludeAllInstances':!0x0},_0x10ced8);},function(_0x3c399c,_0x10ced8){_0x3c399c[_0x3998('0xeb')]&&_0x3c399c[_0x3998('0xeb')][0x0]?_0x10ced8(null,0x10==_0x3c399c[_0x3998('0xeb')][0x0][_0x3998('0xec')][_0x3998('0xed')]&&'ok'==_0x3c399c[_0x3998('0xeb')][0x0][_0x3998('0xee')]['Status']&&'ok'==_0x3c399c[_0x3998('0xeb')][0x0][_0x3998('0xef')][_0x3998('0xd0')]):_0x10ced8(_0x3b7181['_errors']['ec2_not_found']);}],function(_0x3c399c,_0x10ced8){_0x3c399c&&console[_0x3998('0x49')](_0x3998('0xf3'),_0x3c399c),_0x29469a(_0x10ced8);});},'isEC2Stopped':function(_0x3c399c,_0x10ced8){var _0x29469a=this;_0x29469a['getEC2ID'](_0x3c399c,_0x3c399c=>{_0x3c399c?_0x29469a[_0x3998('0xf4')](_0x3c399c,_0x10ced8):(console[_0x3998('0x49')](_0x29469a[_0x3998('0x12')][_0x3998('0xf1')]),_0x10ced8());});},'isEC2StoppedFromID':function(_0x3c399c,_0x29469a){var _0x3b7181=this;_0x10ced8[_0x3998('0xea')]([function(_0x10ced8){_0x3b7181[_0x3998('0xf')][_0x3998('0xf2')]({'InstanceIds':[_0x3c399c],'IncludeAllInstances':!0x0},_0x10ced8);},function(_0x3c399c,_0x10ced8){_0x3c399c[_0x3998('0xeb')]&&_0x3c399c[_0x3998('0xeb')][0x0]?_0x10ced8(null,0x50==_0x3c399c[_0x3998('0xeb')][0x0][_0x3998('0xec')][_0x3998('0xed')]):_0x10ced8(_0x3b7181[_0x3998('0x12')][_0x3998('0xf1')]);}],function(_0x3c399c,_0x10ced8){_0x3c399c&&console['error'](_0x3998('0xf5'),_0x3c399c),_0x29469a(_0x10ced8);});},'getEC2ID':function(_0x3c399c,_0x29469a){var _0x3b7181=this;Object[_0x3998('0x3d')](_0x3b7181['mappings_ip_id'])[_0x3998('0x6a')](_0x3c399c)<0x0?_0x10ced8[_0x3998('0xea')]([function(_0x10ced8){_0x3b7181['ec2'][_0x3998('0xf6')]({'Filters':[{'Name':_0x3998('0xf7'),'Values':[_0x3c399c]}]},_0x10ced8);},function(_0x3c399c,_0x10ced8){_0x3c399c&&_0x3c399c[_0x3998('0xf8')]&&_0x3c399c[_0x3998('0xf8')][0x0]&&_0x3c399c[_0x3998('0xf8')][0x0][_0x3998('0xf9')]&&_0x3c399c[_0x3998('0xf8')][0x0]['Instances'][0x0]?_0x10ced8(null,_0x3c399c[_0x3998('0xf8')][0x0][_0x3998('0xf9')][0x0]['InstanceId']):_0x10ced8(_0x3b7181[_0x3998('0x12')]['ec2_not_found']);}],function(_0x10ced8,_0x33c9bd){_0x10ced8||!_0x33c9bd?(console[_0x3998('0x49')]('E\x20getEC2ID\x20error:',_0x10ced8,_0x33c9bd),_0x29469a()):(_0x3b7181[_0x3998('0x11')][_0x3c399c]=_0x33c9bd,_0x29469a(_0x33c9bd));}):_0x29469a(_0x3b7181['mappings_ip_id'][_0x3c399c]);},'getEC2ID_Type':function(_0x3c399c,_0x29469a){var _0x3b7181=this;_0x10ced8['waterfall']([function(_0x10ced8){_0x3b7181['ec2'][_0x3998('0xf6')]({'Filters':[{'Name':_0x3998('0xf7'),'Values':[_0x3c399c]}]},_0x10ced8);},function(_0x3c399c,_0x10ced8){_0x3c399c&&_0x3c399c[_0x3998('0xf8')]&&_0x3c399c[_0x3998('0xf8')][0x0]&&_0x3c399c['Reservations'][0x0][_0x3998('0xf9')]&&_0x3c399c[_0x3998('0xf8')][0x0][_0x3998('0xf9')][0x0]?_0x10ced8(null,_0x3c399c[_0x3998('0xf8')][0x0][_0x3998('0xf9')][0x0]):_0x10ced8(_0x3b7181[_0x3998('0x12')][_0x3998('0xf1')]);}],function(_0x10ced8,_0x33c9bd){_0x10ced8?(console['error'](_0x3998('0xfa'),_0x10ced8),_0x29469a()):(_0x3b7181[_0x3998('0x11')][_0x3c399c]=_0x33c9bd[_0x3998('0xfb')],_0x29469a({'instance_id':_0x33c9bd[_0x3998('0xfb')],'instance_type':_0x33c9bd['InstanceType']}));});},'stopEC2':function(_0x3c399c,_0x10ced8){var _0x29469a=this;_0x29469a[_0x3998('0xf0')](_0x3c399c,_0x3c399c=>{_0x3c399c?_0x29469a['isEC2StoppedFromID'](_0x3c399c,_0x3b7181=>{_0x3b7181?_0x10ced8():_0x29469a[_0x3998('0xf')]['stopInstances']({'InstanceIds':[_0x3c399c]},_0x3c399c=>{_0x3c399c?(console[_0x3998('0x49')](_0x29469a[_0x3998('0x12')]['ec2_not_stopped'],_0x3c399c),_0x10ced8(_0x29469a['_errors'][_0x3998('0xfc')])):_0x10ced8();});}):_0x10ced8(_0x29469a['_errors'][_0x3998('0xfc')]);});},'startEC2':function(_0x3c399c,_0x10ced8){var _0x29469a=this;_0x29469a['getEC2ID'](_0x3c399c,_0x3c399c=>{_0x3c399c?_0x29469a[_0x3998('0xfd')](_0x3c399c,_0x3b7181=>{_0x3b7181?_0x10ced8():_0x29469a[_0x3998('0xf')]['startInstances']({'InstanceIds':[_0x3c399c]},_0x3c399c=>{_0x3c399c?(console[_0x3998('0x49')](_0x29469a[_0x3998('0x12')][_0x3998('0xfe')],_0x3c399c),_0x10ced8(_0x29469a[_0x3998('0x12')][_0x3998('0xfe')])):_0x10ced8();});}):_0x10ced8(_0x29469a[_0x3998('0x12')][_0x3998('0xfe')]);});}};var _0x535cb2=_0x299ce9;_0x488d14[_0x3998('0x3a')]={'Constructor':_0x488d14,'log':function(_0x3c399c){var _0x10ced8=this;(_0x3c399c<=_0x10ced8[_0x3998('0xff')]||_0x10ced8[_0x3998('0x1a')])&&(Array[_0x3998('0x3a')][_0x3998('0x6b')][_0x3998('0x100')](arguments,0x0,0x1,function(_0x3c399c){switch(_0x3c399c){case _0x10ced8[_0x3998('0x1b')]:return'E'+_0x10ced8[_0x3998('0x101')]+new Date()[_0x3998('0x102')]()+_0x10ced8[_0x3998('0x101')];case _0x10ced8[_0x3998('0x103')]:return'M'+_0x10ced8[_0x3998('0x101')]+new Date()[_0x3998('0x102')]()+_0x10ced8['separator'];case _0x10ced8['LOG_LEVEL_INFO']:return'I'+_0x10ced8[_0x3998('0x101')]+new Date()[_0x3998('0x102')]()+_0x10ced8[_0x3998('0x101')];case _0x10ced8[_0x3998('0x1d')]:return'D'+_0x10ced8[_0x3998('0x101')]+new Date()[_0x3998('0x102')]()+_0x10ced8['separator'];default:return'';}}(_0x3c399c)),console[_0x3998('0xd4')][_0x3998('0x104')](null,Array[_0x3998('0x3a')][_0x3998('0x97')]['call'](arguments)));},'debug':function(_0x3c399c){console[_0x3998('0xd4')]('ON'),this['__DEBUG__']=_0x3c399c;}};var _0x78af39=_0x488d14,{sapcontrol_operations:sapcontrol_operations$1,sapctrl_process_func:sapctrl_process_func$1}=_0x172931;_0x33040a['prototype']={'Constructor':_0x33040a,'init':function(_0x3c399c,_0x29469a){var _0x3b7181=this;_0x3b7181[_0x3998('0x23')]=_0x3c399c[_0x3998('0x23')],_0x3b7181[_0x3998('0xc')]=_0x3c399c[_0x3998('0xc')],_0x3b7181['staging']=_0x3c399c['staging']||'production',_0x3b7181['QUEUES']['collect_exec']+='_'+_0x3b7181[_0x3998('0xd')],_0x3b7181['nb_workers']=_0x3c399c[_0x3998('0x25')],_0x3b7181[_0x3998('0x35')]['log'](_0x3b7181[_0x3998('0x35')][_0x3998('0x1c')],_0x3998('0x105')),_0x10ced8[_0x3998('0x106')]([function(_0x3c399c){_0x3b7181['get_cloud_region']['call'](_0x3b7181,_0x3c399c);},function(_0x10ced8){_0x3b7181[_0x3998('0x20')]=_0x33c9bd['createQueue']({'prefix':'q','redis':Object['assign'](_0x3c399c['db'],{'db':_0x3c399c['dbindex']})}),_0x3b7181[_0x3998('0x20')][_0x3998('0x107')](),_0x3b7181[_0x3998('0x20')]['setMaxListeners'](0x2*_0x3b7181[_0x3998('0x25')]),_0x3b7181[_0x3998('0x20')]['on']('error',function(_0x3c399c){_0x3b7181[_0x3998('0x35')][_0x3998('0xd4')](_0x3b7181[_0x3998('0x35')][_0x3998('0x1b')],'Oops\x20redis\x20queue\x20error:'+_0x3c399c[_0x3998('0x108')]+_0x3998('0x109')+_0x3c399c[_0x3998('0x10a')]+'\x20-\x20'+_0x3c399c[_0x3998('0x10b')]);}),_0x10ced8();},function(_0x10ced8){_0x3b7181['pushgtw_cli']=new _0x42c80f(_0x3c399c[_0x3998('0x10c')]['protocole']+_0x3998('0x10d')+(_0x3c399c['gateway'][_0x3998('0x10e')]?_0x3c399c[_0x3998('0x10c')][_0x3998('0x10e')]+'@':'')+_0x3c399c[_0x3998('0x10c')]['host']+':'+_0x3c399c[_0x3998('0x10c')]['port']+_0x3998('0x10f'),_0x3b7181[_0x3998('0xc')],_0x3b7181[_0x3998('0xd')]),_0x10ced8();},function(_0x3c399c){_0x490d99[_0x3998('0x110')](_0x3b7181[_0x3998('0x34')])||_0x490d99['mkdirSync'](_0x3b7181[_0x3998('0x34')]),_0x3c399c();}],function(){_0x3b7181[_0x3998('0x35')]['log'](_0x3b7181[_0x3998('0x35')][_0x3998('0x1c')],_0x3998('0x111'),_0x3b7181[_0x3998('0x21')]),_0x29469a['call'](_0x3b7181);});},'deletePrometheus':function(_0x3c399c,_0x10ced8,_0x29469a,_0x3b7181,_0x33c9bd){var _0x490d99=this;void 0x0==_0x490d99[_0x3998('0x112')][_0x29469a]&&(_0x490d99[_0x3998('0x112')][_0x29469a]=0x0),_0x490d99[_0x3998('0x35')][_0x3998('0xd4')](_0x490d99[_0x3998('0x35')]['LOG_LEVEL_INFO'],'pshgtw:'+_0x29469a+_0x3998('0x113')+_0x3c399c+_0x3998('0x114')),_0x490d99['pushgtw_cli']['delSerie'](_0x3c399c,{'instance':_0x29469a}),_0x490d99['pushgtw_cli']['pushUpInstance']('up',_0x10ced8,_0x29469a,_0x490d99['region'],_0x3b7181,0x0),_0x490d99[_0x3998('0xbe')][_0x3998('0x115')]('up',_0x10ced8,_0x29469a,_0x490d99[_0x3998('0x24')],_0x3b7181,_0x33c9bd),_0x490d99['conn_retries'][_0x29469a]=0x0;},'new_soap_client':function(_0x3c399c,_0x10ced8,_0x29469a,_0x3b7181){_0xdf5000[_0x3998('0x116')](_0x3c399c+'?wsdl',{'returnFault':!0x0},function(_0x33c9bd,_0x490d99){if(_0x33c9bd||!_0x490d99)_0x3b7181(_0x33c9bd,_0x29469a);else{switch(_0x10ced8[_0x3998('0x117')]){case 0x0:_0x490d99[_0x3998('0x118')](new _0xdf5000[(_0x3998('0x119'))](_0x10ced8[_0x3998('0x11a')][0x0][_0x3998('0x11b')],_0x10ced8['options'][0x0][_0x3998('0x11c')]));break;case 0x1:_0x490d99[_0x3998('0x118')](new _0xdf5000[(_0x3998('0x11d'))](_0x10ced8[_0x3998('0x11a')][0x1]['pfx'],null,{'rejectUnauthorized':!0x1}));break;default:_0x490d99[_0x3998('0x118')](new _0xdf5000[(_0x3998('0x11d'))](_0x10ced8[_0x3998('0x11a')][0x1][_0x3998('0x11e')],null,{'rejectUnauthorized':!0x1}));}_0x490d99[_0x3998('0x11f')](_0x3c399c+_0x3998('0x120')),_0x3b7181(null,{'soapcli':_0x490d99,'payload':_0x29469a});}});},'update_sending_ssl':function(_0x3c399c,_0x10ced8,_0x29469a){const _0x3b7181=this;_0x3c399c?_0x490d99[_0x3998('0x121')](_0x3b7181[_0x3998('0x34')]+'/'+_0x3c399c+_0x3998('0x122'),_0x490d99['F_OK'],_0x33c9bd=>{_0x33c9bd?_0x10ced8?_0x490d99[_0x3998('0x123')](_0x3b7181[_0x3998('0x34')]+'/'+_0x3c399c+_0x3998('0x122'),new Buffer[(_0x3998('0x124'))](JSON['parse'](_0x10ced8)),function(_0x10ced8){_0x3b7181['sending_sslcertifs'][_0x3c399c]=!!_0x10ced8,_0x29469a();}):(_0x3b7181[_0x3998('0x26')][_0x3c399c]=!0x0,_0x29469a()):(_0x3b7181[_0x3998('0x26')][_0x3c399c]=!0x1,_0x29469a());}):_0x29469a();},'connect_sap':function(_0x3c399c,_0x29469a,_0x3b7181){var _0x33c9bd=this;process[_0x3998('0xe0')][_0x3998('0x125')]='0',_0x33c9bd[_0x3998('0x35')][_0x3998('0xd4')](_0x33c9bd['logger'][_0x3998('0x1d')],_0x3998('0x126')+_0x3c399c[_0x3998('0x127')]['syst_id']),_0x10ced8[_0x3998('0xea')]([function(_0x10ced8){_0x33c9bd[_0x3998('0x128')](_0x3c399c[_0x3998('0x127')][_0x3998('0x129')],_0x3c399c['keys_buff'],_0x10ced8);},function(_0x10ced8){const _0x29469a=_0x3c399c[_0x3998('0x127')][_0x3998('0x12a')]?{'protocol':_0x3998('0x12b'),'port_suffix':'14'}:{'protocol':'http','port_suffix':'13'},_0x3b7181=_0x29469a[_0x3998('0x12c')]+_0x3998('0x10d')+(_0x3c399c['system'][_0x3998('0xb5')]||_0x3c399c[_0x3998('0x127')][_0x3998('0xb3')])+':5'+_0x3c399c['system']['sn']+_0x29469a[_0x3998('0x12d')]+'/';_0x33c9bd['pushgtw_cli'][_0x3998('0x12e')](_0x3c399c[_0x3998('0x127')][_0x3998('0x129')]),_0x33c9bd[_0x3998('0x12f')](_0x3b7181,{'method':_0x3c399c[_0x3998('0x127')][_0x3998('0x130')],'options':[{'user':_0x3c399c[_0x3998('0x127')][_0x3998('0x131')],'pwd':_0x3c399c[_0x3998('0x127')][_0x3998('0x132')]},{'pfx':0x1==_0x3c399c[_0x3998('0x127')][_0x3998('0x130')]&&_0x33c9bd[_0x3998('0x34')]+'/'+_0x3c399c['system'][_0x3998('0x129')]+'.pfx'}]},_0x3c399c,_0x10ced8);},function(_0x10ced8,_0x29469a){_0x10ced8[_0x3998('0x133')][_0x3998('0xdc')]({},function(_0x3b7181,_0x490d99){if(!_0x3b7181&&_0x490d99&&_0x490d99[_0x3998('0xdd')]&&_0x490d99[_0x3998('0xdd')][_0x3998('0xa8')]){var _0x14142f=_0x490d99['instance'][_0x3998('0xa8')][_0x3998('0x3e')](_0x3c399c=>({'hostname':_0x3c399c[_0x3998('0xb3')],'instancenr':(''+_0x3c399c['instanceNr'])[_0x3998('0x134')](0x2,'0'),'features':_0x3c399c[_0x3998('0xb2')][_0x3998('0x69')]('|'),'status':_0x3c399c[_0x3998('0x135')]==_0x33c9bd[_0x3998('0x2c')][_0x3998('0x136')]?0x1:_0x3c399c[_0x3998('0x135')]==_0x33c9bd['_sap_statuses'][_0x3998('0x137')]?-0x1:0x0})),_0xdf5000=_0x33c9bd[_0x3998('0x138')](_0x490d99[_0x3998('0xdd')]['item']);_0xdf5000==_0x33c9bd[_0x3998('0x2c')][_0x3998('0x139')]||_0xdf5000==_0x33c9bd[_0x3998('0x2c')][_0x3998('0x13a')]?_0x29469a(_0x33c9bd[_0x3998('0x12')][_0x3998('0x13b')],_0x10ced8[_0x3998('0x133')]):(_0x33c9bd[_0x3998('0xbe')][_0x3998('0x13c')]('up',_0x3c399c[_0x3998('0x13d')],_0x3c399c[_0x3998('0x127')][_0x3998('0x129')],_0x33c9bd[_0x3998('0x24')],_0x3c399c[_0x3998('0x127')][_0x3998('0x8b')],0x1),_0x33c9bd[_0x3998('0x112')][_0x3c399c[_0x3998('0x127')]['syst_id']]=0x0,_0x29469a(null,_0x14142f,_0x3c399c[_0x3998('0x127')][_0x3998('0x130')],_0x3c399c[_0x3998('0x127')][_0x3998('0x131')],_0x3c399c[_0x3998('0x127')]['password'],0x1==_0x3c399c[_0x3998('0x127')][_0x3998('0x130')]?_0x33c9bd['certif_dir']+'/'+_0x3c399c[_0x3998('0x127')][_0x3998('0x129')]+'.pfx':null,{'is_encrypted':_0x3c399c[_0x3998('0x127')][_0x3998('0x12a')],'is_direct':_0x3c399c[_0x3998('0x127')]['is_direct']},_0x3c399c));}else _0x29469a(_0x33c9bd[_0x3998('0x12')][_0x3998('0x13e')],_0x3b7181&&_0x3b7181[_0x3998('0x13f')]+'\x20'+_0x3b7181['port']);});},function(_0x3b7181,_0x490d99,_0x14142f,_0xdf5000,_0x5c5d97,_0x299ce9,_0x488d14,_0x33040a){_0x33c9bd[_0x3998('0x35')]['log'](_0x33c9bd[_0x3998('0x35')]['LOG_LEVEL_DEBUG'],'['+_0x3c399c[_0x3998('0x127')][_0x3998('0x129')]+']\x20instances:'+_0x3b7181['map'](_0x3c399c=>_0x3c399c['hostname']+'-'+_0x3c399c[_0x3998('0x5a')]+'-'+_0x3c399c[_0x3998('0x5e')])[_0x3998('0x3f')](',\x20'));var _0x42c80f=[];_0x3b7181&&0x0!=_0x3b7181['filter'](_0x3c399c=>0x1==_0x3c399c[_0x3998('0x5e')]&&_0x3c399c['features'][_0x3998('0x6a')](_0x3998('0x140'))<0x0&&_0x3c399c[_0x3998('0xb2')][_0x3998('0x6a')](_0x3998('0x141'))<0x0)[_0x3998('0x3b')]?_0x10ced8['eachOf'](_0x3b7181[_0x3998('0x61')](_0x3c399c=>0x1==_0x3c399c[_0x3998('0x5e')]&&_0x3c399c[_0x3998('0xb2')][_0x3998('0x6a')](_0x3998('0x140'))<0x0&&_0x3c399c[_0x3998('0xb2')]['indexOf'](_0x3998('0x141'))<0x0),function(_0x10ced8,_0x29469a,_0x488d14){const _0x33040a=_0x299ce9[_0x3998('0x12a')]?{'protocol':_0x3998('0x12b'),'port_suffix':'14'}:{'protocol':_0x3998('0x142'),'port_suffix':'13'},_0x172931=_0x33040a['protocol']+_0x3998('0x10d')+_0x10ced8[_0x3998('0xb3')]+':5'+_0x10ced8['instancenr']+_0x33040a['port_suffix']+'/';_0x33c9bd[_0x3998('0x12f')](_0x172931,{'method':_0x490d99,'options':[{'user':_0x14142f,'pwd':_0xdf5000},{'pfx':_0x5c5d97}]},null,function(_0x490d99,_0x14142f){if(_0x490d99)_0x33c9bd[_0x3998('0x35')][_0x3998('0xd4')](_0x33c9bd[_0x3998('0x35')][_0x3998('0x1b')],_0x3998('0x143')+_0x10ced8['hostname']+'-'+_0x10ced8[_0x3998('0x5a')]+_0x3998('0x144'),_0x490d99),_0x3b7181[_0x29469a][_0x3998('0x5e')]=0x0,_0x3b7181[_0x29469a]=Object[_0x3998('0x95')](_0x3b7181[_0x29469a],{'error':_0x490d99}),_0x488d14();else{var _0xdf5000=_0x3c399c['system']['instances'][_0x3998('0x61')](_0x3c399c=>_0x3c399c[_0x3998('0x5a')]==_0x10ced8['instancenr']);_0x42c80f[_0x3998('0xaa')]({'c':_0x14142f[_0x3998('0x133')],'f':_0x10ced8['features'],'n':_0x10ced8[_0x3998('0x5a')],'h':_0x10ced8[_0x3998('0xb3')],'i':_0xdf5000&&_0xdf5000[0x0]&&_0xdf5000[0x0][_0x3998('0xb5')]}),_0x488d14();}});},function(_0x490d99){_0x490d99&&_0x33c9bd['logger'][_0x3998('0xd4')](_0x33c9bd['logger'][_0x3998('0x1b')],_0x3998('0x145'),_0x490d99),_0x3c399c[_0x3998('0x127')][_0x3998('0x146')]['forEach']((_0x10ced8,_0x29469a)=>{_0x3b7181[_0x3998('0x58')](_0x33c9bd=>{_0x10ced8&&_0x10ced8['instancenr']==_0x33c9bd[_0x3998('0x5a')]&&(_0x3c399c[_0x3998('0x127')][_0x3998('0x146')][_0x29469a]=Object[_0x3998('0x95')](_0x10ced8,_0x33c9bd),void 0x0==_0x33c9bd['error']&&-0x1!=_0x33c9bd[_0x3998('0x5e')]&&delete _0x3c399c[_0x3998('0x127')][_0x3998('0x146')][_0x29469a]['error']);_0x3c399c[_0x3998('0x127')][_0x3998('0x146')][_0x3998('0x3e')](_0x3c399c=>_0x3c399c&&_0x3c399c[_0x3998('0x5a')])['indexOf'](_0x33c9bd[_0x3998('0x5a')])<0x0&&_0x3c399c['system'][_0x3998('0x146')][_0x3998('0xaa')](_0x33c9bd);_0x10ced8&&_0x3b7181[_0x3998('0x3e')](_0x3c399c=>_0x3c399c[_0x3998('0x5a')])['indexOf'](_0x10ced8['instancenr'])<0x0&&(_0x3c399c[_0x3998('0x127')][_0x3998('0x146')][_0x29469a]['status']=0x0);});}),_0x33c9bd['pushgtw_cli']['pushUpSAPInstance']('up',_0x3c399c[_0x3998('0x13d')],_0x3c399c[_0x3998('0x127')][_0x3998('0x129')],_0x33c9bd[_0x3998('0x24')],_0x3c399c[_0x3998('0x127')]['sid'],_0x3c399c['system'][_0x3998('0x146')]),_0x10ced8[_0x3998('0x62')](_0x42c80f,(_0x3c399c,_0x10ced8)=>{_0x29469a(_0x3c399c,_0x3b7181,_0x10ced8);},_0x10ced8=>{_0x10ced8&&_0x33c9bd['logger'][_0x3998('0xd4')](_0x33c9bd['logger'][_0x3998('0x1b')],'call_sapcontrol\x20exec\x20operations\x20error:',_0x10ced8);_0x33c9bd[_0x3998('0xbe')][_0x3998('0x147')]('scale',_0x3c399c[_0x3998('0x127')][_0x3998('0x129')]);_0x33040a(_0x490d99||_0x10ced8,_0x3b7181);});}):(_0x33c9bd['pushgtw_cli'][_0x3998('0x147')](_0x3998('0x148'),_0x488d14[_0x3998('0x127')][_0x3998('0x129')]),_0x33040a(_0x33c9bd[_0x3998('0x12')][_0x3998('0x149')],_0x3b7181));}],function(_0x10ced8,_0x29469a){if(_0x10ced8){switch(_0x10ced8){case _0x33c9bd[_0x3998('0x12')][_0x3998('0x13b')]:_0x33c9bd[_0x3998('0x35')][_0x3998('0xd4')](_0x33c9bd[_0x3998('0x35')][_0x3998('0x1b')],_0x3998('0x14a'),_0x33c9bd[_0x3998('0x12')][_0x3998('0x13b')]),_0x33c9bd['check_failed_conn'](_0x29469a,_0x3c399c);break;case _0x33c9bd[_0x3998('0x12')][_0x3998('0x14b')]:_0x33c9bd['logger'][_0x3998('0xd4')](_0x33c9bd[_0x3998('0x35')]['LOG_LEVEL_ERROR'],_0x3998('0x14a'),_0x33c9bd[_0x3998('0x12')][_0x3998('0x14b')]);break;case _0x33c9bd[_0x3998('0x12')][_0x3998('0x149')]:_0x33c9bd[_0x3998('0x35')]['log'](_0x33c9bd[_0x3998('0x35')]['LOG_LEVEL_ERROR'],_0x3998('0x14a'),_0x33c9bd[_0x3998('0x12')][_0x3998('0x149')],_0x29469a),_0x33c9bd[_0x3998('0x14c')](_0x3998('0x148'),_0x3c399c['entity_id'],_0x3c399c[_0x3998('0x127')][_0x3998('0x129')],_0x3c399c['system'][_0x3998('0x8b')],_0x3c399c[_0x3998('0x127')]['instances'][_0x3998('0x3e')](_0x3c399c=>({'instancenr':_0x3c399c['instancenr'],'status':0x0})));break;case _0x33c9bd[_0x3998('0x12')]['ws_not_reachable']:_0x33c9bd['logger'][_0x3998('0xd4')](_0x33c9bd[_0x3998('0x35')][_0x3998('0x1b')],'>E\x20',_0x33c9bd[_0x3998('0x12')][_0x3998('0x13e')],_0x29469a);break;default:_0x3998('0x14d')==_0x10ced8[_0x3998('0x14e')]?!0x0===_0x29469a&&_0x33c9bd[_0x3998('0x14c')](_0x3998('0x148'),_0x3c399c['entity_id'],_0x3c399c[_0x3998('0x127')][_0x3998('0x129')],_0x3c399c[_0x3998('0x127')][_0x3998('0x8b')],_0x3c399c[_0x3998('0x127')][_0x3998('0x146')][_0x3998('0x3e')](_0x3c399c=>({'instancenr':_0x3c399c[_0x3998('0x5a')],'status':0x0}))):_0x33c9bd['logger']['log'](_0x33c9bd[_0x3998('0x35')][_0x3998('0x1b')],'>E\x20default',_0x10ced8,_0x29469a);}_0x3b7181(_0x10ced8[_0x3998('0x108')]||_0x10ced8[_0x3998('0x14e')]||_0x10ced8,{});}else _0x33c9bd[_0x3998('0xbe')][_0x3998('0x13c')]('up',_0x3c399c[_0x3998('0x13d')],_0x3c399c[_0x3998('0x127')][_0x3998('0x129')],_0x33c9bd[_0x3998('0x24')],_0x3c399c[_0x3998('0x127')][_0x3998('0x8b')],0x1),_0x3b7181(null,{'sending_sslcertifs':_0x33c9bd[_0x3998('0x26')][_0x3c399c[_0x3998('0x127')]['syst_id']],'instances':_0x29469a,'syst_id':_0x3c399c[_0x3998('0x127')][_0x3998('0x129')]});});},'collect':function(){var _0x3c399c=this;_0x3c399c[_0x3998('0x20')][_0x3998('0xdb')](_0x3c399c[_0x3998('0x21')][_0x3998('0x14f')],_0x3c399c['nb_workers'],function(_0x10ced8,_0x29469a){_0x10ced8[_0x3998('0x150')]['func']&&_0x10ced8[_0x3998('0x150')][_0x3998('0x127')]?_0x3c399c[_0x3998('0x151')](_0x10ced8['data'],(_0x29469a,_0x3b7181,_0x33c9bd)=>{_0x29469a['f']['indexOf'](_0x10ced8['data'][_0x3998('0x152')]['type'])>=0x0||'ALL'==_0x10ced8[_0x3998('0x150')][_0x3998('0x152')][_0x3998('0x153')]?(_0x3c399c[_0x3998('0x35')]['log'](_0x3c399c['logger'][_0x3998('0x1d')],'sapcontrol:'+_0x10ced8[_0x3998('0x150')][_0x3998('0x152')][_0x3998('0x94')]+_0x3998('0x154')),sapcontrol_operations$1[_0x10ced8[_0x3998('0x150')][_0x3998('0x152')][_0x3998('0x94')]][_0x3998('0x100')](_0x29469a['c'],{},(_0x3b7181,_0x490d99)=>{_0x3b7181&&_0x3c399c['logger']['log'](_0x3c399c['logger'][_0x3998('0x1b')],'sapcontrol:'+_0x10ced8[_0x3998('0x150')][_0x3998('0x152')][_0x3998('0x94')]+_0x3998('0x155')+_0x3b7181['body']?_0x3b7181[_0x3998('0x8d')][_0x3998('0xa5')](/<faultstring>(.*?)<\/faultstring>/)[0x1]:_0x3b7181);sapctrl_process_func$1[_0x3998('0x100')](_0x3c399c,_0x3b7181,_0x490d99,_0x10ced8['data'][_0x3998('0x152')]['name'],{'_id':_0x10ced8['data'][_0x3998('0x127')]['syst_id'],'sid':_0x10ced8[_0x3998('0x150')]['system'][_0x3998('0x8b')]},{'ip_internal':_0x29469a['i'],'hostname':_0x29469a['h'],'sn':_0x29469a['n'],'features':_0x29469a['f'][_0x3998('0x3f')]('|')},_0x10ced8['data'][_0x3998('0x152')]['type'],_0x10ced8[_0x3998('0x150')][_0x3998('0x13d')],_0x10ced8[_0x3998('0x150')]['restricted_kpis'],_0x10ced8[_0x3998('0x150')][_0x3998('0x156')],_0x33c9bd);})):_0x33c9bd();},_0x29469a):(_0x3c399c[_0x3998('0x35')]['log'](_0x3c399c[_0x3998('0x35')][_0x3998('0x1b')],_0x3998('0x157')),_0x29469a());});},'checkconnection':function(){var _0x3c399c=this;_0x3c399c[_0x3998('0x20')][_0x3998('0xdb')](_0x3c399c['QUEUES']['checkconn_exec'],_0x3c399c[_0x3998('0x25')],function(_0x29469a,_0x3b7181){if(void 0x0!=_0x29469a[_0x3998('0x150')][_0x3998('0x153')]&&_0x29469a['data'][_0x3998('0x127')])switch(_0x3c399c['logger'][_0x3998('0xd4')](_0x3c399c[_0x3998('0x35')][_0x3998('0x1d')],'checkconn_exec\x20system:',_0x29469a[_0x3998('0x150')][_0x3998('0x127')]),_0x29469a['data']['type']){case 0x0:_0x3c399c[_0x3998('0x151')](_0x29469a[_0x3998('0x150')],(_0x29469a,_0x3b7181,_0x33c9bd)=>{const _0x490d99=_0x3b7181[_0x3998('0x158')](_0x3c399c=>_0x3c399c[_0x3998('0x5a')]==_0x29469a['n']);_0x10ced8['parallel']({'check':_0x10ced8=>{_0x29469a['c'][_0x3998('0x159')]({'function':_0x3998('0x79')},function(_0x33c9bd){_0x33c9bd&&(_0x3c399c[_0x3998('0x35')][_0x3998('0xd4')](_0x3c399c[_0x3998('0x35')][_0x3998('0x1b')],_0x3998('0x15a')+_0x29469a['h']+'-'+_0x29469a['i']+'-'+_0x29469a['n']),_0x3b7181[_0x490d99][_0x3998('0x5e')]=-0x1,_0x3b7181[_0x490d99]=Object[_0x3998('0x95')](_0x3b7181[_0x490d99],{'error':_0x33c9bd[_0x3998('0x8d')]?_0x33c9bd['body'][_0x3998('0xa5')](/<faultstring>(.*?)<\/faultstring>/)[0x1]:_0x33c9bd})),_0x10ced8();},{'timeout':0x2710});},'ip':_0x33c9bd=>{_0x10ced8[_0x3998('0xea')]([_0x3c399c=>{_0x29469a['c'][_0x3998('0x8e')]({},function(_0x10ced8,_0x29469a){if(!_0x10ced8&&_0x29469a&&_0x29469a[_0x3998('0xa9')]){const _0x10ced8=_0x29469a['tree']['item'][_0x3998('0x61')](_0x3c399c=>_0x29469a[_0x3998('0xa9')][_0x3998('0xa8')][_0x3c399c[_0x3998('0x93')]]&&_0x3998('0xa4')==_0x29469a[_0x3998('0xa9')]['item'][_0x3c399c[_0x3998('0x93')]][_0x3998('0x94')][_0x3998('0x15b')]()&&'IP\x20Address'==_0x3c399c['name']['trim']());_0x10ced8&&_0x10ced8[0x0]&&_0x10ced8[0x0][_0x3998('0xac')]&&(_0x3b7181[_0x490d99][_0x3998('0xb5')]=_0x10ced8[0x0][_0x3998('0xac')],_0x3c399c(null,_0x10ced8[0x0][_0x3998('0xac')]));}else _0x3c399c(_0x3998('0x15c'));});},(_0x10ced8,_0x29469a)=>{_0x3c399c[_0x3998('0x15d')]['getEC2ID_Type'](_0x10ced8,_0x3c399c=>_0x29469a(null,_0x3c399c));},(_0x3c399c,_0x10ced8)=>{_0x3b7181[_0x490d99][_0x3998('0x15e')]=_0x3c399c[_0x3998('0x15f')];_0x3b7181[_0x490d99][_0x3998('0x160')]=_0x3c399c['instance_type'];_0x10ced8();}],_0x10ced8=>{_0x10ced8&&_0x3c399c[_0x3998('0x35')][_0x3998('0xd4')](_0x3c399c['logger'][_0x3998('0x1b')],_0x3998('0x161')+_0x29469a['h']+'-'+_0x29469a['i']+'-'+_0x29469a['n']+':',_0x10ced8);_0x33c9bd();});}},function(_0x10ced8){_0x10ced8||_0x3c399c[_0x3998('0x35')][_0x3998('0xd4')](_0x3c399c[_0x3998('0x35')]['LOG_LEVEL_MIN'],_0x3998('0x162')+_0x29469a['h']+'-'+_0x29469a['i']+'-'+_0x29469a['n']),_0x33c9bd(_0x10ced8);});},_0x3b7181);break;case 0x1:break;default:_0x3b7181();}else _0x3c399c[_0x3998('0x35')][_0x3998('0xd4')](_0x3c399c['logger'][_0x3998('0x1b')],_0x3998('0x163')),_0x3b7181();});},'scale':function(){function _0x29469a(_0x3c399c,_0x10ced8,_0x3b7181,_0x33c9bd,_0x490d99){_0x10ced8>0x0?setTimeout(function(){_0x3c399c[_0x3998('0xdc')]({},function(_0x14142f,_0xdf5000){if(_0x14142f)_0x490d99(_0x3998('0x164')+_0x14142f);else{var _0x5c5d97=_0xdf5000['instance'][_0x3998('0xa8')]&&_0xdf5000['instance'][_0x3998('0xa8')][_0x3998('0x61')](_0x3c399c=>_0x3c399c[_0x3998('0x165')]==_0x33c9bd);_0x5c5d97&&_0x5c5d97[0x0]&&_0x3998('0x30')==_0x5c5d97[0x0][_0x3998('0x135')]?_0x490d99():_0x29469a(_0x3c399c,_0x10ced8-0x1,_0x3b7181,_0x33c9bd,_0x490d99);}});},_0x3b7181):_0x490d99(_0x3998('0x166'));}function _0x3b7181(_0x3c399c,_0x10ced8,_0x29469a,_0x33c9bd,_0x490d99){_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1d')],_0x3998('0x167'),_0x10ced8,_0x29469a,_0x33c9bd),_0x10ced8>0x0?setTimeout(function(){_0x3c399c[_0x3998('0xdc')]({},function(_0x14142f,_0xdf5000){if(_0x14142f)_0x490d99(_0x3998('0x164')+_0x14142f);else{var _0x5c5d97=_0xdf5000[_0x3998('0xdd')][_0x3998('0xa8')]&&_0xdf5000[_0x3998('0xdd')][_0x3998('0xa8')][_0x3998('0x61')](_0x3c399c=>_0x3c399c[_0x3998('0x165')]==_0x33c9bd);_0x5c5d97&&_0x5c5d97[0x0]&&_0x5c5d97[0x0][_0x3998('0x135')]==_0x488d14[_0x3998('0x2c')][_0x3998('0x136')]?_0x490d99():_0x3b7181(_0x3c399c,_0x10ced8-0x1,_0x29469a,_0x33c9bd,_0x490d99);}});},_0x29469a):_0x490d99(_0x3998('0x166'));}function _0x33c9bd(_0x3c399c,_0x10ced8,_0x29469a,_0x3b7181,_0x490d99){_0x10ced8>0x0?setTimeout(function(){_0x3c399c['isEC2Running'](_0x3b7181,function(_0x14142f){void 0x0!=_0x14142f&&null!=_0x14142f?_0x14142f?_0x490d99():_0x33c9bd(_0x3c399c,_0x10ced8-0x1,_0x29469a,_0x3b7181,_0x490d99):_0x490d99(_0x3998('0x168'));});},_0x29469a):_0x490d99(_0x3998('0x166'));}function _0x490d99(_0x3c399c,_0x10ced8,_0x29469a,_0x3b7181,_0x33c9bd){_0x10ced8>0x0?setTimeout(function(){_0x3c399c[_0x3998('0x169')](_0x3b7181,function(_0x14142f){void 0x0!=_0x14142f&&null!=_0x14142f?_0x14142f?_0x33c9bd():_0x490d99(_0x3c399c,_0x10ced8-0x1,_0x29469a,_0x3b7181,_0x33c9bd):_0x33c9bd(_0x3998('0x168'));});},_0x29469a):_0x33c9bd(_0x3998('0x166'));}function _0x14142f(_0x3c399c,_0x3b7181){process[_0x3998('0xe0')]['NODE_TLS_REJECT_UNAUTHORIZED']='0';var _0x33c9bd=_0x3c399c[_0x3998('0x16a')],_0x14142f=_0x3c399c[_0x3998('0x127')],_0xdf5000=_0x33c9bd[_0x3998('0x16b')][_0x3998('0xdd')],_0x5c5d97=_0x33c9bd[_0x3998('0x16b')][_0x3998('0x13d')];_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1c')],_0x3998('0x16c'),_0x14142f[_0x3998('0xb5')]+'-'+_0x14142f[_0x3998('0x8b')]),_0x14142f?_0x10ced8['waterfall']([function(_0x10ced8){_0x488d14['update_sending_ssl'](_0x3c399c[_0x3998('0x127')][_0x3998('0x129')],_0x3c399c[_0x3998('0x16d')],_0x10ced8);},function(_0x10ced8){const _0x29469a=_0x3c399c[_0x3998('0x127')]['is_encrypted']?{'protocol':_0x3998('0x12b'),'port_suffix':'14'}:{'protocol':_0x3998('0x142'),'port_suffix':'13'},_0x3b7181=_0x29469a[_0x3998('0x12c')]+_0x3998('0x10d')+(_0x3c399c[_0x3998('0x127')]['ip_internal']||_0x3c399c[_0x3998('0x127')][_0x3998('0xb3')])+':5'+_0x3c399c[_0x3998('0x127')]['sn']+_0x29469a[_0x3998('0x12d')]+'/';_0x488d14['pushgtw_cli']['addInstance'](_0x3c399c[_0x3998('0x127')][_0x3998('0x129')]),_0x488d14[_0x3998('0x12f')](_0x3b7181,{'method':_0x3c399c[_0x3998('0x127')]['auth_method'],'options':[{'user':_0x3c399c[_0x3998('0x127')][_0x3998('0x131')],'pwd':_0x3c399c[_0x3998('0x127')][_0x3998('0x132')]},{'pfx':0x1==_0x3c399c[_0x3998('0x127')][_0x3998('0x130')]&&_0x488d14[_0x3998('0x34')]+'/'+_0x3c399c[_0x3998('0x127')][_0x3998('0x129')]+'.pfx'}]},_0x3c399c,_0x10ced8);},function(_0x10ced8,_0x29469a){_0x10ced8['soapcli']['GetSystemInstanceList']({},function(_0x3b7181,_0x33c9bd){if(!_0x3b7181&&_0x33c9bd&&_0x33c9bd[_0x3998('0xdd')]&&_0x33c9bd['instance'][_0x3998('0xa8')]){var _0x490d99=_0x33c9bd[_0x3998('0xdd')][_0x3998('0xa8')][_0x3998('0x3e')](_0x3c399c=>({'hostname':_0x3c399c[_0x3998('0xb3')],'instancenr':(''+_0x3c399c[_0x3998('0x165')])[_0x3998('0x134')](0x2,'0'),'features':_0x3c399c[_0x3998('0xb2')]['split']('|'),'status':_0x3c399c[_0x3998('0x135')]==_0x488d14[_0x3998('0x2c')][_0x3998('0x136')]?0x1:_0x3c399c[_0x3998('0x135')]==_0x488d14['_sap_statuses'][_0x3998('0x137')]?-0x1:0x0})),_0x14142f=_0x488d14['check_system_status'](_0x33c9bd[_0x3998('0xdd')][_0x3998('0xa8')]);_0x14142f==_0x488d14['_sap_statuses'][_0x3998('0x139')]||_0x14142f==_0x488d14[_0x3998('0x2c')][_0x3998('0x13a')]?_0x29469a(_0x488d14['_errors']['conn_failed'],_0x10ced8[_0x3998('0x133')]):(_0x488d14[_0x3998('0xbe')]['pushUpInstance']('up',_0x5c5d97,_0x3c399c[_0x3998('0x127')][_0x3998('0x129')],_0x488d14['region'],_0x3c399c[_0x3998('0x127')][_0x3998('0x8b')],0x1),_0x488d14[_0x3998('0x112')][_0x3c399c[_0x3998('0x127')]['syst_id']]=0x0,_0x29469a(null,_0x490d99));}else _0x29469a(_0x488d14['_errors'][_0x3998('0x13e')],_0x3b7181&&_0x3b7181['address']+'\x20'+_0x3b7181[_0x3998('0x16e')]);});},function(_0x3c399c,_0x10ced8){_0x488d14['logger'][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1d')],'stop\x20system\x20'+_0x14142f['syst_id']+'\x20instances:'+_0x3c399c[_0x3998('0x3e')](_0x3c399c=>_0x3c399c[_0x3998('0xb3')]+'-'+_0x3c399c['instancenr']+'-'+_0x3c399c[_0x3998('0x5e')])['join'](',\x20'));var _0x29469a={};if(_0x3c399c['filter'](_0x3c399c=>0x1==_0x3c399c[_0x3998('0x5e')])['forEach'](_0x3c399c=>{_0x29469a[_0x3c399c[_0x3998('0x5a')]]=_0x3c399c[_0x3998('0xb2')][_0x3998('0x3f')]('-');}),Object[_0x3998('0x16f')](_0x29469a)[_0x3998('0x61')](_0x3c399c=>_0x3c399c==_0x29469a[_0x33c9bd['labels']['sn']])[_0x3998('0x3b')]>_0x488d14[_0x3998('0x28')]){_0x488d14['logger'][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1c')],_0x3998('0x170')+_0x14142f[_0x3998('0x8b')]+_0x3998('0x171')+_0x33c9bd[_0x3998('0x16b')][_0x3998('0x172')]+'\x20'+_0x33c9bd['labels']['sn']+_0x3998('0x109')+_0x33c9bd[_0x3998('0x16b')]['ip_internal']+'\x20'+_0x33c9bd[_0x3998('0x16b')][_0x3998('0xb3')]);var _0x3b7181=null,_0x490d99=_0x14142f[_0x3998('0x146')][_0x3998('0x61')](_0x3c399c=>_0x3c399c['instancenr']+''==_0x33c9bd[_0x3998('0x16b')]['sn']+'')[0x0];const _0x29469a=_0x14142f[_0x3998('0x12a')]?{'protocol':'https','port_suffix':'14'}:{'protocol':_0x3998('0x142'),'port_suffix':'13'};var _0xdf5000=_0x29469a[_0x3998('0x12c')]+'://'+_0x490d99[_0x3998('0xb3')]+':5'+_0x33c9bd[_0x3998('0x16b')]['sn']+_0x29469a[_0x3998('0x12d')]+'/';0x1==_0x14142f[_0x3998('0x130')]&&(_0x3b7181=_0x488d14['certif_dir']+'/'+_0x14142f[_0x3998('0x129')]+_0x3998('0x122')),_0x488d14['new_soap_client'](_0xdf5000,{'method':_0x14142f['auth_method'],'options':[{'user':_0x14142f[_0x3998('0x131')],'pwd':_0x14142f['password']},{'pfx':_0x3b7181}]},{'instances':_0x3c399c},_0x10ced8);}else _0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14['logger']['LOG_LEVEL_ERROR'],_0x3998('0x173')+_0x14142f[_0x3998('0x8b')]+'\x20'+_0x14142f[_0x3998('0xb3')]),_0x10ced8('Minimal\x20running\x20instances\x20reached');},function(_0x3b7181,_0x14142f){if(void 0x0==_0x488d14['updated_system_instances'][_0xdf5000]||0x0==_0x488d14[_0x3998('0x174')][_0xdf5000][_0x3998('0x61')](_0x3c399c=>0x2==_0x3c399c[_0x3998('0x5e')]&&_0x3c399c['instancenr']==_0x33c9bd[_0x3998('0x16b')]['sn'])[_0x3998('0x3b')])if(_0x3b7181&&_0x3b7181[_0x3998('0x133')]){var _0x299ce9=[];_0x3b7181['payload'][_0x3998('0x146')][_0x3998('0x58')](_0x3c399c=>{_0x3c399c[_0x3998('0x5a')]==_0x33c9bd[_0x3998('0x16b')]['sn']?_0x299ce9[_0x3998('0xaa')](Object[_0x3998('0x95')]({},_0x3c399c,{'status':0x2})):_0x299ce9[_0x3998('0xaa')](_0x3c399c);}),_0x488d14['logger'][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1c')],_0x3998('0x175')+_0x299ce9[_0x3998('0x3e')](_0x3c399c=>_0x3c399c[_0x3998('0xb3')]+'-'+_0x3c399c[_0x3998('0x5a')]+'-'+_0x3c399c['status'])[_0x3998('0x3f')](',\x20')),_0x488d14[_0x3998('0x174')][_0xdf5000]=_0x299ce9,_0x14142f(),_0x10ced8[_0x3998('0x176')]([function(_0x10ced8){_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14['logger'][_0x3998('0x1c')],_0x3998('0x177')+_0x33c9bd['labels'][_0x3998('0xb5')]+'-'+_0x33c9bd[_0x3998('0x16b')][_0x3998('0xb3')]+'-'+_0x33c9bd[_0x3998('0x16b')]['sn']),sapcontrol_operations$1[_0x3c399c[_0x3998('0x178')][_0x3998('0x94')]][_0x3998('0x100')](_0x3b7181[_0x3998('0x133')],{},_0x3c399c=>{_0x3c399c?_0x10ced8(_0x3998('0x179')):_0x10ced8();});},function(_0x3c399c){const _0x10ced8=Math['ceil'](0xf);_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1c')],_0x3998('0x17a')+_0x33c9bd[_0x3998('0x16b')][_0x3998('0xb5')]+'-'+_0x33c9bd['labels']['hostname']+'-'+_0x33c9bd[_0x3998('0x16b')]['sn']),_0x29469a(_0x3b7181[_0x3998('0x133')],_0x10ced8,0x4e20,_0x33c9bd[_0x3998('0x16b')]['sn'],_0x3c399c);},function(_0x3c399c){_0x488d14[_0x3998('0x35')]['log'](_0x488d14[_0x3998('0x35')][_0x3998('0x1c')],'trigger\x20stop\x20EC2\x20instance:'+_0x33c9bd[_0x3998('0x16b')][_0x3998('0xb5')]),_0x488d14[_0x3998('0x15d')][_0x3998('0x17b')](_0x33c9bd[_0x3998('0x16b')]['ip_internal'],_0x3c399c);}],function(_0x10ced8){if(_0x10ced8)switch(_0x488d14[_0x3998('0x35')]['log'](_0x488d14[_0x3998('0x35')][_0x3998('0x1b')],_0x3998('0x17c'),_0x10ced8),_0x10ced8){case'Timeout\x20reached':_0x488d14[_0x3998('0x174')][_0xdf5000][_0x488d14['updated_system_instances'][_0xdf5000]['findIndex'](_0x3c399c=>_0x3c399c[_0x3998('0x5a')]==_0x33c9bd[_0x3998('0x16b')]['sn'])][_0x3998('0x5e')]=-0x1;break;case _0x3998('0x179'):_0x488d14[_0x3998('0x174')][_0xdf5000][_0x488d14[_0x3998('0x174')][_0xdf5000]['findIndex'](_0x3c399c=>_0x3c399c[_0x3998('0x5a')]==_0x33c9bd['labels']['sn'])][_0x3998('0x5e')]=0x1;}else{const _0x10ced8=Math[_0x3998('0x17d')](0xf);_0x490d99(_0x488d14['aws_cli'],_0x10ced8,0x4e20,_0x33c9bd[_0x3998('0x16b')][_0x3998('0xb5')],_0x10ced8=>{_0x10ced8?(_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1b')],_0x3998('0x17e'),_0x10ced8),_0x488d14['updated_system_instances'][_0xdf5000][_0x488d14[_0x3998('0x174')][_0xdf5000][_0x3998('0x158')](_0x3c399c=>_0x3c399c[_0x3998('0x5a')]==_0x33c9bd[_0x3998('0x16b')]['sn'])][_0x3998('0x5e')]=0x1):(_0x488d14[_0x3998('0x174')][_0xdf5000][_0x488d14[_0x3998('0x174')][_0xdf5000][_0x3998('0x158')](_0x3c399c=>_0x3c399c[_0x3998('0x5a')]==_0x33c9bd[_0x3998('0x16b')]['sn'])][_0x3998('0x5e')]=0x0,_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x103')],_0x3998('0x17f')+_0xdf5000+'-'+_0x33c9bd[_0x3998('0x16b')][_0x3998('0xb5')]+'-'+_0x33c9bd[_0x3998('0x16b')][_0x3998('0xb3')]+'-'+_0x33c9bd[_0x3998('0x16b')]['sn']+_0x3998('0x180')+(_0x3c399c['counter']+0x1)+')'),_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')]['LOG_LEVEL_DEBUG'],_0x3998('0x181')+_0x5c5d97+'\x20'+_0xdf5000+'\x20'+_0x33c9bd[_0x3998('0x16b')]['sn']+'\x20'+_0x33c9bd[_0x3998('0x16b')][_0x3998('0x172')]+'\x20'+_0x3c399c[_0x3998('0x40')]+0x1),_0x488d14[_0x3998('0xbe')][_0x3998('0x182')](_0x3998('0x40'),_0x3998('0x183'),_0x5c5d97,_0xdf5000,_0x33c9bd[_0x3998('0x16b')]['sn'],_0x33c9bd[_0x3998('0x16b')][_0x3998('0x172')],_0x3c399c[_0x3998('0x40')]+0x1));});}});}else _0x488d14[_0x3998('0x35')]['log'](_0x488d14['logger'][_0x3998('0x1b')],_0x3998('0x184')+_0xdf5000),_0x14142f();else _0x488d14['logger'][_0x3998('0xd4')](_0x488d14['logger'][_0x3998('0x1c')],_0x3998('0x185')+_0xdf5000+'\x20is\x20already\x20being\x20stopped.\x20Nothing\x20to\x20do.'),_0x14142f();}],function(_0x3c399c){_0x3c399c&&_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1b')],_0x3998('0x186'),_0x3c399c),_0x3b7181(null,{'sending_sslcertifs':_0x488d14['sending_sslcertifs'][_0x14142f[_0x3998('0x129')]+''],'instances':_0x488d14['updated_system_instances'],'syst_id':_0x14142f[_0x3998('0x129')],'error':_0x3c399c});}):(_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14['logger']['LOG_LEVEL_ERROR'],_0x3998('0x187')),_0x3b7181());}function _0xdf5000(_0x3c399c,_0x29469a){process['env'][_0x3998('0x125')]='0';var _0x490d99=_0x3c399c[_0x3998('0x16a')],_0x14142f=_0x3c399c['system'],_0xdf5000=_0x490d99[_0x3998('0x16b')][_0x3998('0xdd')],_0x5c5d97=_0x490d99['labels'][_0x3998('0x13d')];_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1c')],_0x3998('0x188'),_0x14142f[_0x3998('0xb5')]+'-'+_0x14142f[_0x3998('0x8b')]),_0x14142f?_0x10ced8[_0x3998('0xea')]([function(_0x10ced8){_0x488d14['update_sending_ssl'](_0x3c399c[_0x3998('0x127')][_0x3998('0x129')],_0x3c399c['keys_buff'],_0x10ced8);},function(_0x10ced8){const _0x29469a=_0x3c399c[_0x3998('0x127')][_0x3998('0x12a')]?{'protocol':'https','port_suffix':'14'}:{'protocol':_0x3998('0x142'),'port_suffix':'13'},_0x3b7181=_0x29469a[_0x3998('0x12c')]+'://'+(_0x3c399c['system'][_0x3998('0xb5')]||_0x3c399c[_0x3998('0x127')][_0x3998('0xb3')])+':5'+_0x3c399c[_0x3998('0x127')]['sn']+_0x29469a[_0x3998('0x12d')]+'/';_0x488d14['pushgtw_cli'][_0x3998('0x12e')](_0x3c399c['system']['syst_id']),_0x488d14[_0x3998('0x12f')](_0x3b7181,{'method':_0x3c399c['system'][_0x3998('0x130')],'options':[{'user':_0x3c399c['system'][_0x3998('0x131')],'pwd':_0x3c399c['system'][_0x3998('0x132')]},{'pfx':0x1==_0x3c399c[_0x3998('0x127')]['auth_method']&&_0x488d14[_0x3998('0x34')]+'/'+_0x3c399c[_0x3998('0x127')][_0x3998('0x129')]+_0x3998('0x122')}]},_0x3c399c,_0x10ced8);},function(_0x10ced8,_0x29469a){_0x10ced8[_0x3998('0x133')][_0x3998('0xdc')]({},function(_0x3b7181,_0x33c9bd){if(!_0x3b7181&&_0x33c9bd&&_0x33c9bd[_0x3998('0xdd')]&&_0x33c9bd[_0x3998('0xdd')][_0x3998('0xa8')]){var _0x490d99=_0x33c9bd['instance'][_0x3998('0xa8')][_0x3998('0x3e')](_0x3c399c=>({'hostname':_0x3c399c[_0x3998('0xb3')],'instancenr':(''+_0x3c399c[_0x3998('0x165')])[_0x3998('0x134')](0x2,'0'),'features':_0x3c399c[_0x3998('0xb2')]['split']('|'),'status':_0x3c399c[_0x3998('0x135')]==_0x488d14[_0x3998('0x2c')][_0x3998('0x136')]?0x1:_0x3c399c[_0x3998('0x135')]==_0x488d14['_sap_statuses'][_0x3998('0x137')]?-0x1:0x0})),_0x14142f=_0x488d14[_0x3998('0x138')](_0x33c9bd['instance'][_0x3998('0xa8')]);_0x14142f==_0x488d14[_0x3998('0x2c')]['red']||_0x14142f==_0x488d14[_0x3998('0x2c')]['gray']?_0x29469a(_0x488d14[_0x3998('0x12')][_0x3998('0x13b')],_0x10ced8[_0x3998('0x133')]):(_0x488d14[_0x3998('0xbe')][_0x3998('0x13c')]('up',_0x5c5d97,_0x3c399c['system'][_0x3998('0x129')],_0x488d14['region'],_0x3c399c['system'][_0x3998('0x8b')],0x1),_0x488d14[_0x3998('0x112')][_0x3c399c['system'][_0x3998('0x129')]]=0x0,_0x29469a(null,_0x490d99));}else _0x29469a(_0x488d14['_errors'][_0x3998('0x13e')],_0x3b7181&&_0x3b7181['address']+'\x20'+_0x3b7181[_0x3998('0x16e')]);});},function(_0x29469a,_0x299ce9){_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1d')],_0x3998('0x189')+_0x14142f['syst_id']+'\x20instances:'+_0x29469a[_0x3998('0x3e')](_0x3c399c=>_0x3c399c[_0x3998('0xb3')]+'-'+_0x3c399c['instancenr']+'-'+_0x3c399c['status'])[_0x3998('0x3f')](',\x20'));var _0x33040a=_0x14142f[_0x3998('0x146')][_0x3998('0x61')](_0x3c399c=>0x0==_0x3c399c['status']&&_0x3c399c[_0x3998('0xb2')][_0x3998('0x6a')](_0x3998('0x140'))<0x0&&_0x3c399c[_0x3998('0xb2')][_0x3998('0x6a')]('ENQUE')<0x0)[_0x3998('0x61')](_0x3c399c=>_0x29469a['filter'](_0x3c399c=>0x0==_0x3c399c[_0x3998('0x5e')])[_0x3998('0x3e')](_0x3c399c=>_0x3c399c['instancenr'])[_0x3998('0x6a')](_0x3c399c[_0x3998('0x5a')])>=0x0||_0x29469a[_0x3998('0x3e')](_0x3c399c=>_0x3c399c[_0x3998('0x5a')])[_0x3998('0x6a')](_0x3c399c['instancenr'])<0x0);if(_0x33040a&&_0x33040a[_0x3998('0x3b')]>0x0){var _0x42c80f=_0x14142f['instances'][_0x14142f[_0x3998('0x146')][_0x3998('0x158')](_0x3c399c=>_0x3c399c[_0x3998('0x5a')]==_0x33040a[0x0][_0x3998('0x5a')])];if(void 0x0==_0x488d14[_0x3998('0x174')][_0xdf5000]||0x0==_0x488d14[_0x3998('0x174')][_0xdf5000]['filter'](_0x3c399c=>0x3==_0x3c399c[_0x3998('0x5e')])[_0x3998('0x3b')]){_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1c')],'alert\x20'+_0x490d99[_0x3998('0x16b')][_0x3998('0x172')]+_0x3998('0x18a')+_0x42c80f[_0x3998('0xb3')]+'-'+_0x42c80f[_0x3998('0xb5')]+'-'+_0x42c80f['instancenr']);var _0x172931=[];_0x14142f[_0x3998('0x146')][_0x3998('0x58')](_0x3c399c=>{_0x3c399c['instancenr']==_0x42c80f[_0x3998('0x5a')]?_0x172931['push'](Object['assign']({},_0x3c399c,{'status':0x3})):_0x172931['push'](_0x3c399c);}),_0x488d14['logger'][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1c')],_0x3998('0x18b')+_0x172931['map'](_0x3c399c=>_0x3c399c[_0x3998('0xb3')]+'-'+_0x3c399c[_0x3998('0x5a')]+'-'+_0x3c399c['status'])[_0x3998('0x3f')](',\x20')),_0x488d14[_0x3998('0x174')][_0xdf5000]=_0x172931,_0x299ce9(),_0x10ced8['series']([function(_0x3c399c){_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1c')],'trigger\x20start\x20EC2\x20instance\x20'+_0x42c80f[_0x3998('0xb5')]),_0x488d14[_0x3998('0x15d')][_0x3998('0x18c')](_0x42c80f['ip_internal'],_0x3c399c);},function(_0x3c399c){const _0x10ced8=Math['ceil'](0xf);_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1d')],_0x3998('0x18d')+_0x42c80f[_0x3998('0xb5')]),_0x33c9bd(_0x488d14['aws_cli'],_0x10ced8,0x4e20,_0x42c80f['ip_internal'],_0x3c399c);},function(_0x3c399c){var _0x10ced8={};if(_0x29469a[_0x3998('0x61')](_0x3c399c=>0x1==_0x3c399c[_0x3998('0x5e')])[_0x3998('0x58')](_0x3c399c=>{_0x10ced8[_0x3c399c[_0x3998('0x5a')]]=_0x3c399c[_0x3998('0xb2')][_0x3998('0x3f')]('|');}),Object['values'](_0x10ced8)[_0x3998('0x61')](_0x3c399c=>!RegExp(_0x3998('0x140'))[_0x3998('0x18e')](_0x3c399c)&&!RegExp('ENQUE')[_0x3998('0x18e')](_0x3c399c))['length']<_0x488d14[_0x3998('0x29')]){var _0x3b7181=null;const _0x10ced8=_0x14142f[_0x3998('0x12a')]?{'protocol':_0x3998('0x12b'),'port_suffix':'14'}:{'protocol':_0x3998('0x142'),'port_suffix':'13'};var _0x33c9bd=_0x10ced8[_0x3998('0x12c')]+'://'+(_0x42c80f[_0x3998('0xb5')]||_0x42c80f[_0x3998('0xb3')])+':5'+_0x42c80f[_0x3998('0x5a')]+_0x10ced8['port_suffix']+'/';0x1==_0x14142f[_0x3998('0x130')]&&(_0x3b7181=_0x488d14[_0x3998('0x34')]+'/'+_0x14142f[_0x3998('0x129')]+_0x3998('0x122')),_0x488d14[_0x3998('0x12f')](_0x33c9bd,{'method':_0x14142f['auth_method'],'options':[{'user':_0x14142f['username'],'pwd':_0x14142f[_0x3998('0x132')]},{'pfx':_0x3b7181}]},{},_0x3c399c);}else _0x3c399c('System\x20Instance\x20cannot\x20be\x20started\x20due\x20to\x20maximal\x20running\x20instances');}],function(_0x10ced8,_0x29469a){var _0x33c9bd=_0x29469a[0x2];!_0x10ced8&&_0x33c9bd&&_0x33c9bd[_0x3998('0x133')]?(_0x488d14[_0x3998('0x35')]['log'](_0x488d14[_0x3998('0x35')]['LOG_LEVEL_INFO'],_0x3998('0x18f')+_0x42c80f[_0x3998('0xb3')]+'-'+_0x42c80f['ip_internal']+'-'+_0x42c80f[_0x3998('0x5a')]),sapcontrol_operations$1[_0x3c399c['action'][_0x3998('0x94')]][_0x3998('0x100')](_0x33c9bd[_0x3998('0x133')],{},_0x10ced8=>{if(_0x10ced8)if(_0x10ced8[_0x3998('0x8d')]){const _0x3c399c=_0x10ced8[_0x3998('0x8d')][_0x3998('0xa5')](/<faultstring>(.*?)<\/faultstring>/)&&_0x10ced8[_0x3998('0x8d')]['match'](/<faultstring>(.*?)<\/faultstring>/)[0x1];_0x488d14[_0x3998('0x174')][_0xdf5000][_0x488d14[_0x3998('0x174')][_0xdf5000][_0x3998('0x158')](_0x3c399c=>_0x3c399c['instancenr']==_0x42c80f[_0x3998('0x5a')])][_0x3998('0x5e')]=_0x3998('0x190')==_0x3c399c?0x1:0x0,_0x488d14[_0x3998('0x35')]['log'](_0x488d14['logger'][_0x3998('0x1b')],_0x3998('0x191')+_0x3c399c);}else _0x488d14[_0x3998('0x174')][_0xdf5000][_0x488d14[_0x3998('0x174')][_0xdf5000][_0x3998('0x158')](_0x3c399c=>_0x3c399c[_0x3998('0x5a')]==_0x42c80f[_0x3998('0x5a')])]['status']=0x0,_0x488d14[_0x3998('0x35')]['log'](_0x488d14['logger'][_0x3998('0x1b')],'E\x20starting\x20sap\x20instance\x20error:'+_0x10ced8);else{const _0x10ced8=Math[_0x3998('0x17d')](0xf);_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')]['LOG_LEVEL_DEBUG'],_0x3998('0x192')+_0x42c80f[_0x3998('0xb3')]+'-'+_0x42c80f['ip_internal']+'-'+_0x42c80f[_0x3998('0x5a')]),_0x3b7181(_0x33c9bd[_0x3998('0x133')],_0x10ced8,0x4e20,_0x42c80f[_0x3998('0x5a')],_0x10ced8=>{_0x10ced8?(_0x488d14['updated_system_instances'][_0xdf5000][_0x488d14[_0x3998('0x174')][_0xdf5000]['findIndex'](_0x3c399c=>_0x3c399c[_0x3998('0x5a')]==_0x42c80f['instancenr'])][_0x3998('0x5e')]=_0x3998('0x166')==_0x10ced8?-0x1:0x0,_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1b')],'E\x20starting\x20sap\x20instance\x20error:',_0x10ced8)):(_0x488d14[_0x3998('0x174')][_0xdf5000][_0x488d14[_0x3998('0x174')][_0xdf5000][_0x3998('0x158')](_0x3c399c=>_0x3c399c[_0x3998('0x5a')]==_0x42c80f[_0x3998('0x5a')])]['status']=0x1,_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14['logger'][_0x3998('0x103')],_0x3998('0x193')+_0xdf5000+'-'+_0x42c80f[_0x3998('0xb3')]+'-'+_0x42c80f[_0x3998('0xb5')]+'-'+_0x42c80f[_0x3998('0x5a')]+_0x3998('0x180')+(_0x3c399c[_0x3998('0x40')]+0x1)+')'),_0x488d14[_0x3998('0x35')]['log'](_0x488d14[_0x3998('0x35')][_0x3998('0x1d')],_0x3998('0x194')+_0x5c5d97+'\x20'+_0xdf5000+'\x20'+_0x490d99[_0x3998('0x16b')]['sn']+'\x20'+_0x490d99[_0x3998('0x16b')][_0x3998('0x172')]+'\x20'+_0x3c399c['counter']+0x1),_0x488d14[_0x3998('0xbe')]['pushCounter']('counter',_0x3998('0x195'),_0x5c5d97,_0xdf5000,_0x42c80f[_0x3998('0x5a')],_0x490d99[_0x3998('0x16b')][_0x3998('0x172')],_0x3c399c[_0x3998('0x40')]+0x1));});}})):(_0x488d14['logger']['log'](_0x488d14[_0x3998('0x35')][_0x3998('0x1b')],_0x3998('0x196'),_0x10ced8),_0x488d14['updated_system_instances'][_0xdf5000][_0x488d14[_0x3998('0x174')][_0xdf5000][_0x3998('0x158')](_0x3c399c=>_0x3c399c['instancenr']==_0x42c80f[_0x3998('0x5a')])][_0x3998('0x5e')]=0x0);});}else _0x299ce9('Eligible\x20system\x20instance\x20already\x20being\x20starting');}else _0x299ce9(_0x3998('0x197'));}],function(_0x3c399c){_0x3c399c&&_0x488d14[_0x3998('0x35')]['log'](_0x488d14[_0x3998('0x35')][_0x3998('0x1b')],_0x3998('0x186'),_0x3c399c),_0x29469a(null,{'sending_sslcertifs':_0x488d14['sending_sslcertifs'][_0x14142f[_0x3998('0x129')]+''],'instances':_0x488d14[_0x3998('0x174')],'syst_id':_0x14142f[_0x3998('0x129')],'error':_0x3c399c});}):(_0x488d14[_0x3998('0x35')]['log'](_0x488d14['logger'][_0x3998('0x1b')],_0x3998('0x187')),_0x29469a());}function _0x5c5d97(_0x3c399c,_0x10ced8){if(_0x488d14[_0x3998('0x174')][_0x3c399c[_0x3998('0x129')]]){const _0x29469a=_0x488d14[_0x3998('0x174')][_0x3c399c[_0x3998('0x129')]][_0x3998('0x61')](_0x10ced8=>_0x10ced8[_0x3998('0x5a')]==_0x3c399c[_0x3998('0x198')])[0x0];_0x488d14[_0x3998('0x35')]['log'](_0x488d14['logger'][_0x3998('0x1d')],'do_update_scaling_instance:'+_0x29469a[_0x3998('0xb3')]+'-'+_0x29469a[_0x3998('0x5a')]+'-'+_0x29469a[_0x3998('0x5e')]),_0x10ced8(null,{'sending_sslcertifs':_0x488d14['sending_sslcertifs'][_0x3c399c['syst_id']+''],'instances':_0x29469a,'syst_id':_0x3c399c[_0x3998('0x129')]});}else _0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')][_0x3998('0x1b')],_0x3998('0x199')+_0x3c399c[_0x3998('0x129')]),_0x10ced8('System\x20instance\x20not\x20active');}function _0x299ce9(_0x10ced8){var _0x29469a=null,_0x3b7181=_0x10ced8[_0x3998('0x178')][_0x3998('0x19a')]['endpoint'];switch(_0x10ced8[_0x3998('0x178')][_0x3998('0x94')]){case'slack':_0x29469a={'text':_0x10ced8[_0x3998('0x19b')][_0x3998('0x3b')]+_0x3998('0x19c')+(_0x10ced8['alerts'][_0x3998('0x3b')]>0x1&&'s'||'')+'(\x20'+_0x10ced8[_0x3998('0x19b')]['filter'](_0x3c399c=>_0x3998('0x19d')==_0x3c399c[_0x3998('0x5e')])[_0x3998('0x3b')]+'\x20new)','blocks':function(_0x3c399c,_0x10ced8){var _0x29469a=[];return _0x10ced8[_0x3998('0x3b')]>0x0&&(_0x29469a['push']({'type':_0x3998('0x19e'),'text':{'type':_0x3998('0x19f'),'text':_0x3998('0x1a0')+_0x3c399c+'>'}}),_0x10ced8[_0x3998('0x58')](function(_0x3c399c){_0x29469a[_0x3998('0xaa')]({'type':_0x3998('0x19e'),'block_id':_0x3c399c[_0x3998('0x1a1')],'fields':[{'type':_0x3998('0x19f'),'text':_0x3998('0x1a2')+_0x3c399c[_0x3998('0x16b')][_0x3998('0x172')]},{'type':_0x3998('0x19f'),'text':_0x3998('0x1a3')+_0x3c399c[_0x3998('0x16b')][_0x3998('0x8b')]+(void 0x0!=_0x3c399c[_0x3998('0x16b')][_0x3998('0xb3')]&&''!=_0x3c399c['labels']['hostname']?'@'+_0x3c399c[_0x3998('0x16b')][_0x3998('0xb3')]:'')+(void 0x0!=_0x3c399c['labels']['sn']&&''!=_0x3c399c[_0x3998('0x16b')]['sn']?'\x20['+_0x3c399c[_0x3998('0x16b')]['sn']+']':'')}]});}),_0x29469a[_0x3998('0xaa')]({'type':_0x3998('0x1a4')})),_0x29469a;}(_0x3998('0x1a5'),_0x10ced8[_0x3998('0x19b')]['filter'](_0x3c399c=>'firing'==_0x3c399c[_0x3998('0x5e')]))};break;case _0x3998('0x1a6'):_0x29469a=_0x10ced8;var _0x33c9bd=Object['keys'](_0x10ced8[_0x3998('0x178')]['parameters']);_0x33c9bd[_0x3998('0x6b')](_0x33c9bd[_0x3998('0x6a')](_0x3998('0x1a7')),0x1),_0x33c9bd['forEach'](function(_0x3c399c){_0x3b7181+='&'+_0x3c399c+'='+_0x10ced8[_0x3998('0x178')][_0x3998('0x19a')][_0x3c399c];});}null!=_0x29469a&&_0x3c399c[_0x3998('0x46')](_0x3b7181,_0x29469a)['then'](function(_0x3c399c){_0x488d14[_0x3998('0x35')]['log'](_0x488d14[_0x3998('0x35')][_0x3998('0x1c')],'send_notification\x20'+_0x10ced8[_0x3998('0x178')][_0x3998('0x94')]);})[_0x3998('0x48')](function(_0x3c399c){_0x3c399c&&_0x488d14[_0x3998('0x35')]['log'](_0x488d14['logger'][_0x3998('0x1b')],_0x3c399c);});}var _0x488d14=this;_0x488d14[_0x3998('0x20')]['process'](_0x488d14[_0x3998('0x21')][_0x3998('0x1a8')],_0x488d14['nb_workers'],function(_0x3c399c,_0x10ced8){if(_0x3c399c[_0x3998('0x150')][_0x3998('0x178')])switch(_0x3c399c['data'][_0x3998('0x178')][_0x3998('0x153')]){case 0x0:_0x299ce9(_0x3c399c[_0x3998('0x150')]),_0x10ced8();break;case 0x1:switch(_0x3c399c['data'][_0x3998('0x178')]['name']){case _0x3998('0x7a'):_0x3c399c[_0x3998('0x150')]['alerts']?_0x14142f(_0x3c399c[_0x3998('0x150')],_0x10ced8):_0x10ced8();break;case _0x3998('0x79'):_0x3c399c[_0x3998('0x150')][_0x3998('0x19b')]?_0xdf5000(_0x3c399c[_0x3998('0x150')],_0x10ced8):_0x10ced8();break;case _0x3998('0x1a9'):_0x5c5d97(_0x3c399c[_0x3998('0x150')],_0x10ced8);break;default:_0x10ced8();}break;default:_0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14['logger']['LOG_LEVEL_ERROR'],_0x3998('0x1aa'),_0x3c399c[_0x3998('0x150')][_0x3998('0x178')][_0x3998('0x153')]),_0x10ced8();}else _0x488d14[_0x3998('0x35')][_0x3998('0xd4')](_0x488d14[_0x3998('0x35')]['LOG_LEVEL_ERROR'],_0x3998('0x1ab')),_0x10ced8();});},'get_cloud_region':function(_0x10ced8){var _0x29469a=this;{const _0x3b7181='http://169.254.169.254/latest/meta-data/placement/availability-zone';_0x3c399c[_0x3998('0x1ac')](_0x3b7181)['then'](function(_0x3c399c){_0x3c399c[_0x3998('0x150')]?(_0x29469a[_0x3998('0x35')][_0x3998('0xd4')](_0x29469a['logger'][_0x3998('0x1c')],_0x3998('0x1ad'),_0x3c399c['data']),_0x29469a[_0x3998('0x24')]=_0x3c399c[_0x3998('0x150')][_0x3998('0x97')](0x0,-0x1),_0x10ced8()):(_0x29469a[_0x3998('0x35')][_0x3998('0xd4')](_0x29469a[_0x3998('0x35')][_0x3998('0x1b')],_0x3998('0x1ae')),_0x10ced8());})[_0x3998('0x48')](function(_0x3c399c){_0x3c399c&&_0x29469a[_0x3998('0x35')][_0x3998('0xd4')](_0x29469a[_0x3998('0x35')][_0x3998('0x1b')],_0x3998('0x1af'),_0x3c399c),_0x10ced8();});}},'check_system_status':function(_0x3c399c){for(var _0x10ced8=this,_0x29469a=[],_0x3b7181=!0x1,_0x33c9bd=0x0,_0x490d99=_0x3c399c[_0x3998('0x3b')];_0x33c9bd<_0x490d99;_0x33c9bd++)if(_0x3c399c[_0x33c9bd][_0x3998('0xb2')]['split']('|')[_0x3998('0x6a')]('MESSAGESERVER')>=0x0||_0x3c399c[_0x33c9bd][_0x3998('0xb2')][_0x3998('0x69')]('|')[_0x3998('0x6a')](_0x3998('0x141'))>=0x0){if(_0x3c399c[_0x33c9bd][_0x3998('0x135')]!=_0x10ced8[_0x3998('0x2c')]['green']){_0x3b7181=!0x0;break;}}else _0x29469a['push']({'instancenr':(''+_0x3c399c[_0x33c9bd][_0x3998('0x165')])[_0x3998('0x134')](0x2,'0'),'status':_0x3c399c[_0x33c9bd][_0x3998('0x135')]==_0x10ced8['_sap_statuses'][_0x3998('0x136')]?0x1:0x0});return _0x3b7181||0x0==_0x29469a[_0x3998('0xae')]((_0x3c399c,_0x10ced8)=>_0x3c399c+_0x10ced8,0x0)?_0x10ced8['_sap_statuses'][_0x3998('0x139')]:_0x10ced8[_0x3998('0x2c')][_0x3998('0x136')];},'check_failed_conn':function(_0x3c399c,_0x10ced8){var _0x29469a=this;_0x29469a[_0x3998('0x112')][_0x10ced8[_0x3998('0x127')]['syst_id']]<=_0x29469a[_0x3998('0x1b0')]?setTimeout(function(){_0x3c399c['GetSystemInstanceList']({},function(_0x3b7181,_0x33c9bd){var _0x490d99=_0x29469a[_0x3998('0x138')](_0x33c9bd[_0x3998('0xdd')]['item']);(_0x33c9bd&&_0x33c9bd[_0x3998('0xdd')]&&_0x33c9bd['instance'][_0x3998('0xa8')]&&(_0x490d99==_0x29469a[_0x3998('0x2c')]['red']||_0x490d99==_0x29469a['_sap_statuses'][_0x3998('0x13a')])||_0x3b7181)&&(_0x29469a[_0x3998('0x112')][_0x10ced8['system'][_0x3998('0x129')]]++,_0x29469a['check_failed_conn'](_0x3c399c,_0x10ced8));});},0x4e20):(_0x29469a['deletePrometheus'](_0x3998('0x148'),_0x10ced8[_0x3998('0x13d')],_0x10ced8[_0x3998('0x127')][_0x3998('0x129')],_0x10ced8['system'][_0x3998('0x8b')],_0x10ced8[_0x3998('0x127')][_0x3998('0x146')][_0x3998('0x3e')](_0x3c399c=>({'instancenr':_0x3c399c['instancenr'],'status':0x0}))),_0x29469a[_0x3998('0xbe')][_0x3998('0x13c')]('up',_0x10ced8[_0x3998('0x13d')],_0x10ced8[_0x3998('0x127')][_0x3998('0x129')],_0x29469a[_0x3998('0x24')],_0x10ced8[_0x3998('0x127')][_0x3998('0x8b')],0x0));},'debug':function(_0x3c399c){this[_0x3998('0x35')]&&this['logger'][_0x3998('0x1b1')](_0x3c399c);}};var _0xa5a483=_0x33040a;try{var _0x31d9e8=_0xa5a483,_0x380e4b=_0x490d99,_0x356cfb=__dirname+_0x3998('0x1b2');if(!_0x380e4b['existsSync'](_0x356cfb))throw console[_0x3998('0x49')](_0x3998('0x1b3'),_0x356cfb),{'code':0x2};{const _0x3c399c=JSON[_0x3998('0x1b4')](_0x380e4b[_0x3998('0x1b5')](_0x356cfb));var _0x11bb7e=process[_0x3998('0xe0')]['NODE_ENV']||_0x3998('0x1b6'),_0x47a2f7=new _0x31d9e8();_0x47a2f7[_0x3998('0x1b7')](Object[_0x3998('0x95')](_0x3c399c[_0x11bb7e],{'dbindex':0x1}),_0x47a2f7[_0x3998('0x1b8')]),process['on'](_0x3998('0x1b9'),function(){console[_0x3998('0xd4')](_0x3998('0x1ba')),_0x47a2f7[_0x3998('0x1b1')](!0x0);}),process['on']('SIGUSR2',function(){console['log'](_0x3998('0x1bb')),_0x47a2f7[_0x3998('0x1b1')](!0x1);});}}catch(_0x1a6676){console[_0x3998('0x49')]('Exception\x20raised:',_0x1a6676[_0x3998('0x108')]||_0x1a6676),process[_0x3998('0x1bc')](0x1);}return process['on'](_0x3998('0x1bc'),function(_0x3c399c){return console['log'](_0x3998('0x1bd')+_0x3c399c);}),{};});
