var _0x5430=['send_notification\x20','webhook_exec','webhook_exec:\x20no\x20data\x20provided','get_cloud_region\x20','get_cloud_region\x20:\x20no\x20data','get_cloud_region:','debug','/conf.json','existsSync','readFileSync','init','SIGUSR1','SIGUSR2','I\x20switching\x20debug\x20mode\x20OFF','Exception\x20raised:','exit','I\x20Scale\x20Doer\x20Check\x20!\x20About\x20to\x20exit\x20with\x20code\x20','exports','axios','async','moment','aws-sdk','kue','soap','amd','scaledoercheck','version','staging','up_timeseries','ec2','eu-west-3','mappings_ip_id','_errors','Error\x20starting\x20EC2\x20instance','Error\x20stopping\x20EC2\x20instance','config','getCredentials','error','stack','__DEBUG__','LOG_LEVEL_ERROR','LOG_LEVEL_INFO','LOG_LEVEL_DEBUG','level_letter','\x20:\x20','queue','QUEUES','COLLECT','CHECK','region','nb_workers','sending_sslcertifs','conn_retries_max','conn_retries_delay_msec','updated_system_instances','min_instance_running','kpi_prefix_sap','sap','kpiname_separator','_sap_statuses','SAPControl-GREEN','SAPControl-RED','SAPControl-GRAY','Connection\x20to\x20SAP\x20system\x20failed','SAP\x20control\x20WS\x20not\x20reachable','certif_dir','/.keys','aws_cli','logger','cronjob','CronJob','default','hasOwnProperty','prototype','length','/version/','/staging/','assign','keys','map','join','metrics_caches','counter','#\x20TYPE\x20counter_','counter_','\x20{system_id=\x22','\x22,policy_name=\x22','\x22}\x20','post','gtw_url','generateGroupings','catch','pushCounter\x20error:','status_up','#\x20TYPE\x20status_up\x20gauge\x0astatus_up\x20{instance=\x22','\x22,entity_id=\x22','\x22,sid=\x22','\x22,cp_region=\x22','\x22\x20}\x20','/metrics/job/','pushUpInstance\x20error:','scaling_up','assign_hierarchy','pushUpScaling\x20error:','forEach','status_instance_up','instancenr','status','\x22,sn=\x22','pushUpSAPInstance\x20error:','filter','each','round','YYYY/MM/DD\x20hh:mm:ss','format','split','indexOf','splice','push','delete','then','pshgtw::del::error\x20:','pshgtw::delSerie::error\x20:','ABAPGetComponentList','GetProcessList','GetAlertTree','GetEnvironment','GetQueueStatistic','GetInstanceProperties','ABAPGetWPTable','Start','Stop','GetSystemInstanceList','ABAPGetSystemWPTable','GetCallstack','J2EEGetCacheStatistic2','J2EEGetVMHeapInfo','J2EEGetEJBSessionList','J2EEGetClusterMsgList','J2EEGetSharedTableInfo','J2EEGetThreadCallStack','J2EEGetThreadTaskStack','J2EEGetComponentList','ICMGetThreadList','ICMGetConnectionList','ICMGetCacheEntries','ICMGetProxyConnectionList','WebDispGetServerList','EnqGetLockTable','EnqGetStatistic','execution\x20error\x20of\x20(','sid','body','GetAlerts','unit','replace','parent','name','OperatingSystem','Filesystems','Disk_','Lan','max','Microsoft\x20SQL\x20Server','slice','Space\x20management','Performance','I/O','InstanceAsTask','match','R3Services','ICM','tree','item','description','concat','reduce','pop','instance=\x22','_id',',sn=\x22',',rule_id=\x22','hostname',',hostname=\x22','ip_internal','filesystem',',filesystem=\x22','network_int',',network_int=\x22','database',',database=\x22','db_datafile',',db_datafile=\x22','value','\x22,features=\x22','features','pushgtw_cli','set','up2','enq','btc','spo','wait','hold','run','stop','new','down','toUpperCase','toLowerCase','__nb','_workprocess_','workprocess','Status','Typ',',ip_internal=\x22',',workproces=\x22',')=\x20','enqueue_','__sec','\x22,type=\x22','\x22,company_id=\x22','J2EEGetProcessList2','log','process','Result\x20of\x20(','component','GetVersionInfo','instance','lines','env','connection','lock','properties','cache','J2EEGetThreadList2','thread','jsf','heap','items','waterfall','describeInstanceStatus','InstanceStatuses','InstanceId','InstanceState','InstanceStatus','SystemStatus','E\x20isEC2sRunning\x20error:','getEC2ID','isEC2RunningFromID','ec2_not_found','E\x20isEC2RunningFromID\x20error:','isEC2StoppedFromID','Code','E\x20isEC2StoppedFromID\x20error:','describeInstances','Reservations','Instances','E\x20getEC2ID\x20error:','private-ip-address','stopInstances','ec2_not_stopped','startInstances','ec2_not_started','global_log_level','call','separator','toJSON','LOG_LEVEL_MIN','apply','company','production','ScaleDoer\x20init\x20start','get_cloud_region','createQueue','dbindex','watchStuckJobs','setMaxListeners','Oops\x20redis\x20queue\x20error:','code','\x20-\x20','command','origin','protocole','://','gateway','credentials','host','port','/pshgtw','mkdirSync','ScaleDoer\x20init\x20completed\x20with\x20queues:','conn_retries','pushUpInstance','pushUpSAPInstance','createClient','BasicAuthSecurity','options','user','pwd','setSecurity','pfx','ClientSSLSecurityPFX','access','.pfx','F_OK','writeFile','from','parse','NODE_TLS_REJECT_UNAUTHORIZED','connect\x20sap:','system','syst_id','update_sending_ssl','keys_buff','https','http','protocol','addInstance','new_soap_client','auth_method','username','password','soapcli','instanceNr','padStart','dispstatus','green','yellow','conn_failed','is_direct','ws_not_reachable','address','MESSAGESERVER','ENQUE','eachOf','is_encrypted','port_suffix','\x20with\x20error:\x20','sap\x20connect\x20other\x20error:','instances','call_sapcontrol\x20exec\x20operations\x20error:','pushInstance','scale','no_active_instance','>E\x20','check_failed_conn','no_system_conn','entity_id','ETIMEDOUT','errno','deletePrometheus','collect_exec','data','func','connect_sap','type','sapcontrol:',':\x20execution','restricted_kpis','collect_exec:\x20no\x20data\x20provided','checkconn_exec','findIndex','checkconn_exec\x20authorization\x20error\x20for\x20SAP\x20instance:','IP\x20Address','trim','checkconn_exec\x20error\x20getting\x20SAP\x20instance\x20details\x20(IP,\x20cloud\x20instance\x20ID\x20and\x20type):','error\x20geeting\x20SAP\x20instances\x20list\x20','Timeout\x20reached','check_start_sap_instance:','isEC2Running','isEC2Stopped','alert','labels','stop\x20instance\x20of\x20system\x20','check_system_status','red','gray','stop\x20system\x20','\x20instances:','values','\x20alert\x20','alertname','System\x20Instance\x20cannot\x20be\x20stopped\x20due\x20to\x20minimal\x20running\x20instance\x20for\x20','Minimal\x20running\x20instances\x20reached','payload','updated\x20SAP\x20instances\x20with\x20WIP\x20stop\x20to\x20Receiver\x20','series','trigger\x20stop\x20SAP\x20instance:','action','SAP\x20instance\x20stop\x20error','waiting\x20for\x20instance\x20to\x20stop\x20before\x20timeout\x20300\x20sec:\x20','stopEC2','stop\x20instances\x20error:','ceil','[COMPLETED]\x20fully\x20stopped:','\x20(counter=','pushCounter\x20stop:\x20','pushCounter','no\x20soap\x20client\x20created\x20for\x20system\x20instance\x20','system\x20instance\x20','error\x20for\x20alert:','No\x20system\x20provided','start\x20instance\x20system\x20','alert\x20',':\x20start\x20sap\x20instance:','updated\x20SAP\x20instances\x20with\x20WIP\x20start\x20to\x20Receiver\x20','startEC2','waiting\x20for\x20EC2\x20instance\x20to\x20actually\x20start\x20within\x20timeout\x20300\x20sec:','test','max_instance_running','System\x20Instance\x20cannot\x20be\x20started\x20due\x20to\x20maximal\x20running\x20instances','trigger\x20start\x20SAP\x20instance:','Instance\x20already\x20started','E\x20starting\x20sap\x20instance\x20error:','[COMPLETED]\x20fully\x20started\x20','start','start\x20instance\x20error:','Eligible\x20system\x20instance\x20already\x20being\x20starting','do_update_scaling_instance:','E\x20do_update_scaling_instance\x20system\x20not\x20indexed:\x20','System\x20instance\x20not\x20active','parameters','endpoint','slack','alerts','\x20notification','\x20new)','section','mrkdwn','<https://app.worqloads.com|','*Notification*\x0a','*System*\x0a','divider','email'];(function(_0xf71038,_0x2c2d36){var _0x2aa0a2=function(_0x19dd68){while(--_0x19dd68){_0xf71038['push'](_0xf71038['shift']());}};_0x2aa0a2(++_0x2c2d36);}(_0x5430,0x1c4));var _0x358a=function(_0x2d1c46,_0x205bf0){_0x2d1c46=_0x2d1c46-0x0;var _0x9def68=_0x5430[_0x2d1c46];return _0x9def68;};!function(_0xb3726a,_0x438755){'object'==typeof exports&&'undefined'!=typeof module?module[_0x358a('0x0')]=_0x438755(require(_0x358a('0x1')),require(_0x358a('0x2')),require(_0x358a('0x3')),require(_0x358a('0x4')),require(_0x358a('0x5')),require('fs'),require('cron'),require(_0x358a('0x6'))):'function'==typeof define&&define[_0x358a('0x7')]?define([_0x358a('0x1'),_0x358a('0x2'),'moment',_0x358a('0x4'),_0x358a('0x5'),'fs','cron','soap'],_0x438755):_0xb3726a[_0x358a('0x8')]=_0x438755(_0xb3726a[_0x358a('0x1')],_0xb3726a[_0x358a('0x2')],_0xb3726a[_0x358a('0x3')],_0xb3726a[_0x358a('0x4')],_0xb3726a['kue'],_0xb3726a['fs'],_0xb3726a['cron'],_0xb3726a[_0x358a('0x6')]);}(this,function(_0x2328c1,_0x5bc8b3,_0x493715,_0x42dce0,_0x5ba205,_0x169c3c,_0x3c0939,_0x1b2411){'use strict';function _0x3ba905(_0x2328c1,_0x5bc8b3){this[_0x358a('0x9')]=_0x5bc8b3,this[_0x358a('0xa')]=staging,this['gtw_url']=_0x2328c1,this['metrics_caches']={},this[_0x358a('0xb')]={};}function _0x1df870(){var _0x2328c1=this;this[_0x358a('0xc')]=new _0x42dce0['EC2']({'apiVersion':'2016-11-15','region':_0x358a('0xd')}),this[_0x358a('0xe')]={},this[_0x358a('0xf')]={'ec2_not_found':'No\x20EC2\x20instance\x20found','credentials_not_loaded':'AWS\x20credentials\x20keys\x20not\x20loadded','ec2_not_started':_0x358a('0x10'),'ec2_not_stopped':_0x358a('0x11')},_0x42dce0[_0x358a('0x12')][_0x358a('0x13')](function(_0x5bc8b3){_0x5bc8b3&&console[_0x358a('0x14')](_0x2328c1[_0x358a('0xf')]['credentials_not_loaded']+':',_0x5bc8b3[_0x358a('0x15')]);});}function _0x51e564(_0x2328c1=0x1){this['global_log_level']=_0x2328c1,this[_0x358a('0x16')]=!0x1,this[_0x358a('0x17')]=0x0,this['LOG_LEVEL_MIN']=0x1,this[_0x358a('0x18')]=0x2,this[_0x358a('0x19')]=0x3,this[_0x358a('0x1a')]=['E','M','I','D'],this['separator']=_0x358a('0x1b');}function _0x51302c(){this[_0x358a('0x1c')]=null,this[_0x358a('0x1d')]={'collect_exec':_0x358a('0x1e'),'checkconn_exec':_0x358a('0x1f'),'webhook_exec':'DO'},this['company']='',this[_0x358a('0x20')]='',this[_0x358a('0x21')]=0x1,this[_0x358a('0x22')]={},this['conn_retries']={},this[_0x358a('0x23')]=0x3,this[_0x358a('0x24')]=0x9c40,this[_0x358a('0x25')]={},this[_0x358a('0x26')]=0x1,this['max_instance_running']=0xa,this['kpiname_separator']='_',this[_0x358a('0x27')]=_0x358a('0x28')+this[_0x358a('0x29')],this[_0x358a('0x2a')]={'green':_0x358a('0x2b'),'yellow':'SAPControl-YELLOW','red':_0x358a('0x2c'),'gray':_0x358a('0x2d')},this[_0x358a('0xf')]={'conn_failed':_0x358a('0x2e'),'ws_not_reachable':_0x358a('0x2f'),'no_system_conn':'No\x20SAP\x20system\x20or\x20no\x20system\x20connection\x20active','no_active_instance':'No\x20active\x20SAP\x20instance\x20available'},this[_0x358a('0x30')]=__dirname+_0x358a('0x31'),this[_0x358a('0x32')]=new _0x26d2e2(),this[_0x358a('0x33')]=new _0x2c430e(),this[_0x358a('0x34')]=_0x3c0939[_0x358a('0x35')];}_0x2328c1=_0x2328c1&&_0x2328c1['hasOwnProperty'](_0x358a('0x36'))?_0x2328c1[_0x358a('0x36')]:_0x2328c1,_0x5bc8b3=_0x5bc8b3&&_0x5bc8b3['hasOwnProperty'](_0x358a('0x36'))?_0x5bc8b3[_0x358a('0x36')]:_0x5bc8b3,_0x493715=_0x493715&&_0x493715[_0x358a('0x37')](_0x358a('0x36'))?_0x493715['default']:_0x493715,_0x42dce0=_0x42dce0&&_0x42dce0[_0x358a('0x37')](_0x358a('0x36'))?_0x42dce0[_0x358a('0x36')]:_0x42dce0,_0x5ba205=_0x5ba205&&_0x5ba205[_0x358a('0x37')](_0x358a('0x36'))?_0x5ba205['default']:_0x5ba205,_0x169c3c=_0x169c3c&&_0x169c3c[_0x358a('0x37')](_0x358a('0x36'))?_0x169c3c[_0x358a('0x36')]:_0x169c3c,_0x3c0939=_0x3c0939&&_0x3c0939[_0x358a('0x37')](_0x358a('0x36'))?_0x3c0939[_0x358a('0x36')]:_0x3c0939,_0x1b2411=_0x1b2411&&_0x1b2411[_0x358a('0x37')]('default')?_0x1b2411[_0x358a('0x36')]:_0x1b2411,_0x3ba905[_0x358a('0x38')]={'Constructor':_0x3ba905,'assign_hierarchy'(_0x2328c1,_0x5bc8b3,_0x493715){lastKeyIndex=_0x5bc8b3[_0x358a('0x39')]-0x1;for(var _0x42dce0=0x0;_0x42dce0<lastKeyIndex;++_0x42dce0)key=_0x5bc8b3[_0x42dce0],key in _0x2328c1||(_0x2328c1[key]={}),_0x2328c1=_0x2328c1[key];_0x2328c1[_0x5bc8b3[lastKeyIndex]]=_0x493715;},'generateGroupings':function(_0x2328c1){const _0x5bc8b3=this;if(!_0x2328c1)return _0x358a('0x3a')+_0x5bc8b3[_0x358a('0x9')]+_0x358a('0x3b')+_0x5bc8b3[_0x358a('0xa')];var _0x493715=Object[_0x358a('0x3c')](_0x2328c1,{'version':_0x5bc8b3[_0x358a('0x9')],'staging':_0x5bc8b3['staging']});return Object[_0x358a('0x3d')](_0x493715)[_0x358a('0x3e')](_0x2328c1=>'/'+encodeURIComponent(_0x2328c1)+'/'+encodeURIComponent(_0x493715[_0x2328c1]))[_0x358a('0x3f')]('');},'addInstance':function(_0x2328c1){this[_0x358a('0x40')][_0x2328c1]||(this[_0x358a('0x40')][_0x2328c1]={});},'pushCounter':function(_0x5bc8b3=_0x358a('0x41'),_0x493715,_0x42dce0,_0x5ba205,_0x169c3c,_0x3c0939,_0x1b2411){var _0x3ba905=this;const _0x1df870={'instance':_0x42dce0};var _0x51e564=_0x358a('0x42')+_0x493715+'\x20counter\x0a';_0x51e564+=_0x358a('0x43')+_0x493715+_0x358a('0x44')+_0x5ba205+_0x358a('0x45')+_0x3c0939+'\x22,instancenr=\x22'+_0x169c3c+_0x358a('0x46')+_0x1b2411+'\x0a',_0x2328c1[_0x358a('0x47')](_0x3ba905[_0x358a('0x48')]+'/metrics/job/'+encodeURIComponent(_0x5bc8b3)+_0x3ba905[_0x358a('0x49')](_0x1df870),_0x51e564)[_0x358a('0x4a')](function(_0x2328c1){console[_0x358a('0x14')](_0x358a('0x4b'),_0x2328c1);});},'pushUpInstance':function(_0x5bc8b3='up',_0x493715,_0x42dce0,_0x5ba205,_0x169c3c,_0x3c0939){var _0x1b2411=this,_0x3ba905=_0x1b2411[_0x358a('0xb')][_0x42dce0]&&_0x1b2411[_0x358a('0xb')][_0x42dce0][_0x358a('0x4c')]&&_0x1b2411[_0x358a('0xb')][_0x42dce0][_0x358a('0x4c')][_0x493715+'+'+_0x5ba205+'+'+_0x169c3c];if(null==_0x3ba905&&_0x1b2411['assign_hierarchy'](_0x1b2411[_0x358a('0xb')],[_0x42dce0,_0x358a('0x4c'),_0x493715+'+'+_0x5ba205+'+'+_0x169c3c],_0x3c0939),_0x3ba905!==_0x3c0939){var _0x1df870=_0x358a('0x4d')+_0x42dce0+_0x358a('0x4e')+_0x493715+_0x358a('0x4f')+_0x169c3c+_0x358a('0x50')+_0x5ba205+_0x358a('0x51')+_0x3c0939+'\x0a';_0x2328c1[_0x358a('0x47')](_0x1b2411[_0x358a('0x48')]+_0x358a('0x52')+encodeURIComponent(_0x5bc8b3)+_0x1b2411[_0x358a('0x49')]({'instance':_0x42dce0}),_0x1df870)[_0x358a('0x4a')](function(_0x2328c1){console[_0x358a('0x14')](_0x358a('0x53'),_0x2328c1);});}},'pushUpScaling':function(_0x5bc8b3='up',_0x493715,_0x42dce0,_0x5ba205){var _0x169c3c=this,_0x3c0939=_0x169c3c[_0x358a('0xb')][_0x42dce0]&&_0x169c3c[_0x358a('0xb')][_0x42dce0]['scaling_up']&&_0x169c3c[_0x358a('0xb')][_0x42dce0][_0x358a('0x54')][_0x493715];if(null==_0x3c0939&&_0x169c3c[_0x358a('0x55')](_0x169c3c[_0x358a('0xb')],[_0x42dce0,_0x358a('0x54'),_0x493715],_0x5ba205),_0x3c0939!==_0x5ba205){var _0x1b2411='#\x20TYPE\x20scaling_up\x20gauge\x0ascaling_up\x20{instance=\x22'+_0x42dce0+_0x358a('0x4e')+_0x493715+_0x358a('0x51')+_0x5ba205+'\x0a';_0x2328c1['post'](_0x169c3c['gtw_url']+'/metrics/job/'+encodeURIComponent(_0x5bc8b3)+_0x169c3c[_0x358a('0x49')]({'instance':_0x42dce0}),_0x1b2411)[_0x358a('0x4a')](function(_0x2328c1){console['error'](_0x358a('0x56'),_0x2328c1);});}},'pushUpSAPInstance':function(_0x5bc8b3='up',_0x493715,_0x42dce0,_0x5ba205,_0x169c3c,_0x3c0939){var _0x1b2411=this,_0x3ba905='';_0x3c0939[_0x358a('0x57')](_0x2328c1=>{_0x1b2411[_0x358a('0xb')][_0x42dce0]&&_0x1b2411[_0x358a('0xb')][_0x42dce0][_0x358a('0x58')]&&null==_0x1b2411[_0x358a('0xb')][_0x42dce0][_0x358a('0x58')][_0x493715+'+'+_0x5ba205+'+'+_0x169c3c+'+'+_0x2328c1['instancenr']]&&_0x1b2411['assign_hierarchy'](_0x1b2411[_0x358a('0xb')],[_0x42dce0,_0x358a('0x58'),_0x493715+'+'+_0x5ba205+'+'+_0x169c3c+'+'+_0x2328c1[_0x358a('0x59')]],_0x2328c1[_0x358a('0x5a')]);_0x3ba905+='status_instance_up\x20{instance=\x22'+_0x42dce0+_0x358a('0x4e')+_0x493715+_0x358a('0x4f')+_0x169c3c+_0x358a('0x50')+_0x5ba205+_0x358a('0x5b')+_0x2328c1[_0x358a('0x59')]+_0x358a('0x46')+_0x2328c1[_0x358a('0x5a')]+'\x0a';}),''!=_0x3ba905&&_0x2328c1[_0x358a('0x47')](_0x1b2411[_0x358a('0x48')]+_0x358a('0x52')+encodeURIComponent(_0x5bc8b3)+_0x1b2411[_0x358a('0x49')]({'instance':_0x42dce0}),'#\x20TYPE\x20status_instance_up\x20gauge\x0a'+_0x3ba905)[_0x358a('0x4a')](function(_0x2328c1){console[_0x358a('0x14')](_0x358a('0x5c'),_0x2328c1);});},'pushInstance':function(_0x493715,_0x42dce0,_0x5ba205){var _0x169c3c=this;if(_0x169c3c[_0x358a('0x40')][_0x42dce0]){var _0x3c0939=Object[_0x358a('0x3d')](_0x169c3c[_0x358a('0x40')][_0x42dce0])[_0x358a('0x5d')](_0x2328c1=>_0x169c3c[_0x358a('0x40')][_0x42dce0][_0x2328c1][_0x358a('0x39')]>0x0);_0x5bc8b3[_0x358a('0x5e')](_0x3c0939,function(_0x5bc8b3,_0x5ba205){const _0x3c0939='#\x20TYPE\x20'+_0x5bc8b3+'\x20gauge\x0a'+_0x169c3c[_0x358a('0x40')][_0x42dce0][_0x5bc8b3][_0x358a('0x3e')](_0x2328c1=>_0x5bc8b3+'\x20'+_0x2328c1)['join']('\x0a')+'\x0a';_0x2328c1[_0x358a('0x47')](_0x169c3c[_0x358a('0x48')]+'/metrics/job/'+encodeURIComponent(_0x493715)+_0x169c3c['generateGroupings']({'instance':_0x42dce0}),_0x3c0939)['then'](function(_0x2328c1){_0x169c3c['metrics_caches'][_0x42dce0][_0x5bc8b3]=[],_0x5ba205();})[_0x358a('0x4a')](function(_0x2328c1){_0x169c3c['metrics_caches'][_0x42dce0][_0x5bc8b3]=[],_0x5ba205(_0x2328c1);});},function(_0x2328c1){_0x2328c1&&console[_0x358a('0x14')]('pushInstance\x20error:',_0x2328c1),_0x169c3c[_0x358a('0x40')][_0x42dce0]={},_0x5ba205&&_0x5ba205();});}else _0x5ba205&&_0x5ba205();},'set':function(_0x2328c1,_0x5bc8b3,_0x42dce0,_0x5ba205){var _0x169c3c=this,_0x3c0939=_0x5bc8b3['replace'](/-|\(|\)|\[|\]|\%|\+|\.|\s/g,'_'),_0x1b2411=null==_0x42dce0?0x0:isNaN(_0x42dce0)?Math[_0x358a('0x5f')](parseInt(_0x493715(_0x42dce0,_0x358a('0x60'))[_0x358a('0x61')]('X'))):Math[_0x358a('0x5f')](parseInt(_0x42dce0));_0x169c3c['metrics_caches'][_0x5ba205][_0x3c0939]||(_0x169c3c[_0x358a('0x40')][_0x5ba205][_0x3c0939]=[]);const _0x3ba905=_0x169c3c['metrics_caches'][_0x5ba205][_0x3c0939][_0x358a('0x3e')](_0x2328c1=>_0x2328c1[_0x358a('0x62')]('\x20')[0x0])[_0x358a('0x63')](_0x2328c1);_0x3ba905>=0x0&&_0x169c3c[_0x358a('0x40')][_0x5ba205][_0x3c0939][_0x358a('0x64')](_0x3ba905,0x1),_0x169c3c[_0x358a('0x40')][_0x5ba205][_0x3c0939][_0x358a('0x65')](_0x2328c1+'\x20'+_0x1b2411);},'del':function(_0x5bc8b3,_0x493715){var _0x42dce0=this;_0x2328c1[_0x358a('0x66')](_0x42dce0[_0x358a('0x48')]+_0x358a('0x52')+encodeURIComponent(_0x5bc8b3)+_0x42dce0['generateGroupings']({'instance':_0x493715}))[_0x358a('0x67')](function(_0x2328c1){})[_0x358a('0x4a')](function(_0x2328c1){console['error'](_0x358a('0x68'),_0x2328c1);});},'delSerie':function(_0x5bc8b3,_0x493715){var _0x42dce0=this;_0x2328c1[_0x358a('0x66')](_0x42dce0[_0x358a('0x48')]+'/metrics/job/'+encodeURIComponent(_0x5bc8b3)+_0x42dce0[_0x358a('0x49')](_0x493715))[_0x358a('0x67')](function(_0x2328c1){})[_0x358a('0x4a')](function(_0x2328c1){console['error'](_0x358a('0x69'),_0x2328c1);});},'delInstance':function(_0x5bc8b3,_0x493715){var _0x42dce0=this;_0x2328c1['delete'](_0x42dce0[_0x358a('0x48')]+'/metrics/job/'+encodeURIComponent(_0x5bc8b3)+_0x42dce0[_0x358a('0x49')]({'instance':_0x493715}))[_0x358a('0x67')](function(_0x2328c1){})[_0x358a('0x4a')](function(_0x2328c1){console['error']('pshgtw::delInstance::error\x20:',_0x2328c1);});}};var _0x192c29=_0x3ba905,_0x3a0d01={'sapcontrol_operations':{'ABAPGetComponentList':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x6a')](_0x2328c1,_0x5bc8b3);},'GetProcessList':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x6b')](_0x2328c1,_0x5bc8b3);},'GetAlerts':function(_0x2328c1,_0x5bc8b3){this['GetAlerts'](_0x2328c1,_0x5bc8b3);},'GetAlertTree':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x6c')](_0x2328c1,_0x5bc8b3);},'GetEnvironment':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x6d')](_0x2328c1,_0x5bc8b3);},'GetVersionInfo':function(_0x2328c1,_0x5bc8b3){this['GetVersionInfo'](_0x2328c1,_0x5bc8b3);},'GetQueueStatistic':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x6e')](_0x2328c1,_0x5bc8b3);},'GetInstanceProperties':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x6f')](_0x2328c1,_0x5bc8b3);},'ABAPGetWPTable':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x70')](_0x2328c1,_0x5bc8b3);},'Start':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x71')](_0x2328c1,_0x5bc8b3);},'Stop':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x72')](_0x2328c1,_0x5bc8b3);},'GetSystemInstanceList':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x73')](_0x2328c1,_0x5bc8b3);},'ABAPGetSystemWPTable':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x74')](_0x2328c1,_0x5bc8b3);},'GetCallstack':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x75')](_0x2328c1,_0x5bc8b3);},'J2EEGetProcessList2':function(_0x2328c1,_0x5bc8b3){this['J2EEGetProcessList2'](_0x2328c1,_0x5bc8b3);},'J2EEGetThreadList2':function(_0x2328c1,_0x5bc8b3){this['J2EEGetThreadList2'](_0x2328c1,_0x5bc8b3);},'J2EEGetWebSessionList':function(_0x2328c1,_0x5bc8b3){this['J2EEGetWebSessionList'](_0x2328c1,_0x5bc8b3);},'J2EEGetCacheStatistic2':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x76')](_0x2328c1,_0x5bc8b3);},'J2EEGetVMHeapInfo':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x77')](_0x2328c1,_0x5bc8b3);},'J2EEGetEJBSessionList':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x78')](_0x2328c1,_0x5bc8b3);},'J2EEGetRemoteObjectList':function(_0x2328c1,_0x5bc8b3){this['J2EEGetRemoteObjectList'](_0x2328c1,_0x5bc8b3);},'J2EEGetClusterMsgList':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x79')](_0x2328c1,_0x5bc8b3);},'J2EEGetSharedTableInfo':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x7a')](_0x2328c1,_0x5bc8b3);},'J2EEGetThreadCallStack':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x7b')](_0x2328c1,_0x5bc8b3);},'J2EEGetThreadTaskStack':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x7c')](_0x2328c1,_0x5bc8b3);},'J2EEGetComponentList':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x7d')](_0x2328c1,_0x5bc8b3);},'ICMGetThreadList':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x7e')](_0x2328c1,_0x5bc8b3);},'ICMGetConnectionList':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x7f')](_0x2328c1,_0x5bc8b3);},'ICMGetCacheEntries':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x80')](_0x2328c1,_0x5bc8b3);},'ICMGetProxyConnectionList':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x81')](_0x2328c1,_0x5bc8b3);},'WebDispGetServerList':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x82')](_0x2328c1,_0x5bc8b3);},'EnqGetLockTable':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x83')](_0x2328c1,_0x5bc8b3);},'EnqGetStatistic':function(_0x2328c1,_0x5bc8b3){this[_0x358a('0x84')](_0x2328c1,_0x5bc8b3);}},'sapctrl_process_func':function(_0x2328c1,_0x5bc8b3,_0x493715,_0x42dce0,_0x5ba205,_0x169c3c,_0x3c0939,_0x1b2411,_0x3ba905,_0x1df870){var _0x51e564=this;if(_0x2328c1)console['error'](_0x358a('0x85')+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+')\x20:'+_0x2328c1&&_0x2328c1[_0x358a('0x87')]),_0x1df870();else switch(_0x493715){case _0x358a('0x88'):case _0x358a('0x6c'):var _0x51302c=-0x1,_0x192c29=[],_0x3a0d01=[],_0x274f78=[];const _0x2328c1=_0x51e564[_0x358a('0x29')],_0x54d8c3=function(_0x5bc8b3,_0x493715){var _0x42dce0=_0x493715[_0x358a('0x89')][_0x358a('0x8a')](/\%/g,'percent')[_0x358a('0x8a')](/\//g,'_per_')[_0x358a('0x8a')](/\W+/g,'')['toLowerCase']();return''==_0x42dce0&&(_0x42dce0='nb'),_0x51e564[_0x358a('0x27')]+_0x493715['kpi'][_0x358a('0x8a')](/\W+/g,_0x2328c1)+'__'+_0x42dce0;},_0x4554d8=function(_0x2328c1,_0x5bc8b3,_0x493715,_0x42dce0){var _0x5ba205={'value':isNaN(_0x42dce0[0x0]['replace'](/\s/g,''))?0x0:Math['round'](parseInt(_0x42dce0[0x0]['replace'](/\s/g,''))),'type':_0x169c3c,'unit':_0x42dce0[_0x358a('0x39')]>0x1&&_0x42dce0[0x1]||''};if(!(_0x493715[_0x358a('0x8b')]>0x1))return null;if(_0x2328c1['length']>=0x2)switch(_0x2328c1[0x1][_0x358a('0x8c')]){case _0x358a('0x8d'):if(!(_0x2328c1['length']>=0x4))return Object[_0x358a('0x3c')](_0x5ba205,{'category':_0x2328c1[Math['max'](_0x2328c1[_0x358a('0x39')]-0x2,0x1)]['name'],'kpi':_0x2328c1['slice'](Math['max'](_0x2328c1[_0x358a('0x39')]-0x1,0x0),_0x2328c1[_0x358a('0x39')])['map'](_0x2328c1=>_0x2328c1[_0x358a('0x8c')])[_0x358a('0x3f')](_0x5bc8b3)+_0x5bc8b3+_0x493715[_0x358a('0x8c')]});switch(_0x2328c1[0x2]['name']){case _0x358a('0x8e'):return Object['assign'](_0x5ba205,{'filesystem':_0x2328c1[0x3][_0x358a('0x8c')],'category':_0x358a('0x8d'),'kpi':_0x358a('0x8f')+_0x493715[_0x358a('0x8c')]});case _0x358a('0x90'):return Object[_0x358a('0x3c')](_0x5ba205,{'network_int':_0x2328c1[0x3]['name'],'category':_0x358a('0x8d'),'kpi':'Network_'+_0x493715[_0x358a('0x8c')]});default:return Object[_0x358a('0x3c')](_0x5ba205,{'category':_0x2328c1[Math[_0x358a('0x91')](_0x2328c1[_0x358a('0x39')]-0x2,0x1)]['name'],'kpi':_0x2328c1['slice'](Math['max'](_0x2328c1[_0x358a('0x39')]-0x1,0x0),_0x2328c1[_0x358a('0x39')])[_0x358a('0x3e')](_0x2328c1=>_0x2328c1[_0x358a('0x8c')])[_0x358a('0x3f')](_0x5bc8b3)+_0x5bc8b3+_0x493715[_0x358a('0x8c')]});}break;case _0x358a('0x92'):if(!(_0x2328c1[_0x358a('0x39')]>=0x4))return Object[_0x358a('0x3c')](_0x5ba205,{'category':_0x2328c1[Math['max'](_0x2328c1[_0x358a('0x39')]-0x2,0x1)]['name'],'kpi':_0x2328c1[_0x358a('0x93')](Math[_0x358a('0x91')](_0x2328c1[_0x358a('0x39')]-0x1,0x0),_0x2328c1[_0x358a('0x39')])[_0x358a('0x3e')](_0x2328c1=>_0x2328c1[_0x358a('0x8c')])[_0x358a('0x3f')](_0x5bc8b3)+_0x5bc8b3+_0x493715['name']});switch(_0x2328c1[0x2][_0x358a('0x8c')]){case _0x358a('0x94'):const _0x42dce0=_0x2328c1[0x4][_0x358a('0x8c')][_0x358a('0x62')]('/')['pop']();return Object['assign'](_0x5ba205,{'database':_0x2328c1[0x3][_0x358a('0x8c')][_0x358a('0x62')](':')[0x1],'db_datafile':_0x42dce0,'category':_0x2328c1[0x2]['name'],'kpi':_0x493715[_0x358a('0x8c')][_0x358a('0x8a')](new RegExp(_0x42dce0[_0x358a('0x8a')](/(\.[a-z]{3})$/gi,'')+'\x20','gi'),'')});case _0x358a('0x95'):return _0x358a('0x96')==_0x2328c1[0x3]['name']?Object[_0x358a('0x3c')](_0x5ba205,{'db_datafile':_0x493715[_0x358a('0x8c')]['substring'](0x15,_0x493715[_0x358a('0x8c')][_0x358a('0x39')]),'category':_0x2328c1[0x2][_0x358a('0x8c')],'kpi':_0x2328c1[0x3][_0x358a('0x8c')]}):Object[_0x358a('0x3c')](_0x5ba205,{'category':_0x2328c1[0x2]['name'],'kpi':_0x2328c1[0x3][_0x358a('0x8c')]+_0x5bc8b3+_0x493715[_0x358a('0x8c')]});default:return Object[_0x358a('0x3c')](_0x5ba205,{'category':_0x2328c1[Math[_0x358a('0x91')](_0x2328c1[_0x358a('0x39')]-0x2,0x1)]['name'],'kpi':_0x2328c1[_0x358a('0x93')](Math['max'](_0x2328c1[_0x358a('0x39')]-0x1,0x0),_0x2328c1['length'])[_0x358a('0x3e')](_0x2328c1=>_0x2328c1[_0x358a('0x8c')])['join'](_0x5bc8b3)+_0x5bc8b3+_0x493715[_0x358a('0x8c')]});}break;case _0x358a('0x97'):case'Server\x20Configuration':if(_0x42dce0[0x0][_0x358a('0x98')](/^([0-9]|\s)+(\.[0-9]+)?$/g))return Object['assign'](_0x5ba205,{'category':_0x2328c1[0x1][_0x358a('0x8c')],'kpi':_0x2328c1['slice'](Math[_0x358a('0x91')](_0x2328c1[_0x358a('0x39')]-0x1,0x0),_0x2328c1['length'])[_0x358a('0x3e')](_0x2328c1=>_0x2328c1[_0x358a('0x8c')])[_0x358a('0x3f')](_0x5bc8b3)+_0x5bc8b3+_0x493715[_0x358a('0x8c')]});break;case _0x358a('0x99'):return _0x2328c1[_0x358a('0x39')]>=0x3&&_0x358a('0x9a')==_0x2328c1[0x2][_0x358a('0x8c')]?Object['assign'](_0x5ba205,{'category':_0x358a('0x99'),'kpi':_0x2328c1[_0x358a('0x93')](Math[_0x358a('0x91')](_0x2328c1['length']-0x2,0x0),_0x2328c1[_0x358a('0x39')])[_0x358a('0x3e')](_0x2328c1=>_0x2328c1[_0x358a('0x8c')])[_0x358a('0x3f')](_0x5bc8b3)+_0x5bc8b3+_0x493715[_0x358a('0x8c')]}):Object[_0x358a('0x3c')](_0x5ba205,{'category':'R3Services','kpi':_0x2328c1['slice'](Math[_0x358a('0x91')](_0x2328c1[_0x358a('0x39')]-0x1,0x0),_0x2328c1[_0x358a('0x39')])['map'](_0x2328c1=>_0x2328c1[_0x358a('0x8c')])[_0x358a('0x3f')](_0x5bc8b3)+_0x5bc8b3+_0x493715[_0x358a('0x8c')]});default:return Object['assign'](_0x5ba205,{'category':_0x2328c1[Math['max'](_0x2328c1[_0x358a('0x39')]-0x2,0x1)][_0x358a('0x8c')],'kpi':_0x2328c1[_0x358a('0x93')](Math[_0x358a('0x91')](_0x2328c1['length']-0x1,0x0),_0x2328c1[_0x358a('0x39')])['map'](_0x2328c1=>_0x2328c1[_0x358a('0x8c')])[_0x358a('0x3f')](_0x5bc8b3)+_0x5bc8b3+_0x493715[_0x358a('0x8c')]});}};_0x5bc8b3['tree']&&_0x5bc8b3[_0x358a('0x9b')]['item']&&(_0x5bc8b3[_0x358a('0x9b')][_0x358a('0x9c')][_0x358a('0x57')](_0x493715=>{if(_0x493715[_0x358a('0x8b')]>_0x51302c){_0x192c29[_0x358a('0x65')]({'idx':_0x493715[_0x358a('0x8b')],'name':_0x5bc8b3['tree']['item'][_0x493715[_0x358a('0x8b')]]['name'],'status':_0x5bc8b3['tree']['item'][_0x493715[_0x358a('0x8b')]]['ActualValue']});const _0x42dce0=_0x493715[_0x358a('0x9d')][_0x358a('0x62')]('\x20');_0x42dce0[0x0][_0x358a('0x63')](':')>0x0?_0x42dce0[_0x358a('0x57')](_0x5bc8b3=>{const _0x42dce0=_0x5bc8b3[_0x358a('0x62')](':');0x2==_0x42dce0[_0x358a('0x39')]&&_0x42dce0[0x1][_0x358a('0x98')](/[0-9]+(\.[0-9]+)?/g)&&(_0x274f78=_0x274f78[_0x358a('0x9e')]([_0x4554d8(_0x192c29,_0x2328c1,Object[_0x358a('0x3c')](_0x493715,{'name':_0x493715[_0x358a('0x8c')]+_0x2328c1+_0x42dce0[0x0]}),[_0x42dce0[0x1]])]));}):_0x42dce0[0x0][_0x358a('0x98')](/[0-9]+(\.[0-9]+)?/g)&&(_0x274f78=_0x274f78[_0x358a('0x9e')]([_0x4554d8(_0x192c29,_0x2328c1,_0x493715,[_0x42dce0['reduce']((_0x2328c1,_0x5bc8b3)=>_0x5bc8b3['match'](/[0-9]+(\.[0-9]+)?/g)?_0x2328c1+_0x5bc8b3:_0x2328c1,''),_0x42dce0[_0x42dce0[_0x358a('0x39')]-0x1][_0x358a('0x8a')](/\s|[0-9]/g,'')])])),_0x51302c=_0x493715['parent'];}else if(_0x493715[_0x358a('0x8b')]==_0x51302c){const _0x5bc8b3=_0x493715[_0x358a('0x9d')][_0x358a('0x62')]('\x20');_0x5bc8b3[0x0][_0x358a('0x63')](':')>0x0?_0x5bc8b3[_0x358a('0x57')](_0x5bc8b3=>{const _0x42dce0=_0x5bc8b3[_0x358a('0x62')](':');0x2==_0x42dce0[_0x358a('0x39')]&&_0x42dce0[0x1][_0x358a('0x98')](/[0-9]+(\.[0-9]+)?/g)&&(_0x274f78=_0x274f78[_0x358a('0x9e')]([_0x4554d8(_0x192c29,_0x2328c1,Object[_0x358a('0x3c')](_0x493715,{'name':_0x493715['name']+_0x2328c1+_0x42dce0[0x0]}),[_0x42dce0[0x1]])]));}):_0x5bc8b3[0x0]['match'](/[0-9]+(\.[0-9]+)?/g)&&(_0x274f78=_0x274f78[_0x358a('0x9e')]([_0x4554d8(_0x192c29,_0x2328c1,_0x493715,[_0x5bc8b3[_0x358a('0x9f')]((_0x2328c1,_0x5bc8b3)=>_0x5bc8b3['match'](/[0-9]+(\.[0-9]+)?/g)?_0x2328c1+_0x5bc8b3:_0x2328c1,''),_0x5bc8b3[_0x5bc8b3['length']-0x1]['replace'](/\s|[0-9]/g,'')])]));}else{_0x3a0d01=_0x3a0d01[_0x358a('0x9e')](_0x274f78);for(var _0x42dce0=_0x192c29[_0x358a('0x39')]-0x1;_0x42dce0>=0x0&&_0x192c29[_0x42dce0]['idx']>_0x493715['parent'];)_0x192c29[_0x358a('0xa0')](),_0x42dce0--;_0x274f78=[],_0x51302c=_0x493715[_0x358a('0x8b')];}}),_0x1b2411&&0x0!=_0x1b2411[_0x358a('0x39')]?_0x3a0d01[_0x358a('0x57')](_0x2328c1=>{if(_0x2328c1){var _0x5bc8b3=_0x54d8c3(0x0,_0x2328c1);if(_0x1b2411[_0x358a('0x63')](_0x5bc8b3)>=0x0){var _0x493715=_0x358a('0xa1')+_0x42dce0[_0x358a('0xa2')]+_0x358a('0x4f')+_0x42dce0[_0x358a('0x86')]+_0x358a('0x4e')+_0x3c0939+'\x22,features=\x22'+_0x5ba205['features']+'\x22';void 0x0!=_0x5ba205['sn']&&(_0x493715+=_0x358a('0xa3')+_0x5ba205['sn']+'\x22'),void 0x0!=_0x3ba905&&(_0x493715+=_0x358a('0xa4')+_0x3ba905+'\x22'),void 0x0!=_0x5ba205[_0x358a('0xa5')]&&(_0x493715+=_0x358a('0xa6')+_0x5ba205[_0x358a('0xa5')]+'\x22'),void 0x0!=_0x5ba205[_0x358a('0xa7')]&&(_0x493715+=',ip_internal=\x22'+_0x5ba205['ip_internal']+'\x22'),void 0x0!=_0x2328c1[_0x358a('0xa8')]&&(_0x493715+=_0x358a('0xa9')+_0x2328c1[_0x358a('0xa8')]+'\x22'),void 0x0!=_0x2328c1[_0x358a('0xaa')]&&(_0x493715+=_0x358a('0xab')+_0x2328c1[_0x358a('0xaa')]+'\x22'),void 0x0!=_0x2328c1[_0x358a('0xac')]&&(_0x493715+=_0x358a('0xad')+_0x2328c1[_0x358a('0xac')]+'\x22'),void 0x0!=_0x2328c1[_0x358a('0xae')]&&(_0x493715+=_0x358a('0xaf')+_0x2328c1[_0x358a('0xae')]+'\x22'),_0x51e564['pushgtw_cli']['set']('{'+_0x493715+'}',_0x5bc8b3,_0x2328c1[_0x358a('0xb0')],_0x42dce0[_0x358a('0xa2')]);}}}):_0x3a0d01[_0x358a('0x57')](_0x2328c1=>{if(_0x2328c1){var _0x5bc8b3=_0x358a('0xa1')+_0x42dce0[_0x358a('0xa2')]+_0x358a('0x4f')+_0x42dce0[_0x358a('0x86')]+_0x358a('0x4e')+_0x3c0939+_0x358a('0xb1')+_0x5ba205[_0x358a('0xb2')]+'\x22';void 0x0!=_0x5ba205['sn']&&(_0x5bc8b3+=_0x358a('0xa3')+_0x5ba205['sn']+'\x22'),void 0x0!=_0x3ba905&&(_0x5bc8b3+=_0x358a('0xa4')+_0x3ba905+'\x22'),void 0x0!=_0x5ba205[_0x358a('0xa5')]&&(_0x5bc8b3+=_0x358a('0xa6')+_0x5ba205['hostname']+'\x22'),void 0x0!=_0x5ba205[_0x358a('0xa7')]&&(_0x5bc8b3+=',ip_internal=\x22'+_0x5ba205['ip_internal']+'\x22'),void 0x0!=_0x2328c1[_0x358a('0xa8')]&&(_0x5bc8b3+=_0x358a('0xa9')+_0x2328c1[_0x358a('0xa8')]+'\x22'),void 0x0!=_0x2328c1[_0x358a('0xaa')]&&(_0x5bc8b3+=_0x358a('0xab')+_0x2328c1[_0x358a('0xaa')]+'\x22'),void 0x0!=_0x2328c1[_0x358a('0xac')]&&(_0x5bc8b3+=_0x358a('0xad')+_0x2328c1[_0x358a('0xac')]+'\x22'),void 0x0!=_0x2328c1[_0x358a('0xae')]&&(_0x5bc8b3+=_0x358a('0xaf')+_0x2328c1[_0x358a('0xae')]+'\x22'),_0x51e564[_0x358a('0xb3')][_0x358a('0xb4')]('{'+_0x5bc8b3+'}',_0x54d8c3(0x0,_0x2328c1),_0x2328c1['value'],_0x42dce0['_id']);}})),_0x1df870();break;case _0x358a('0x70'):const _0x5cb3ff=['dia','upd',_0x358a('0xb5'),_0x358a('0xb6'),_0x358a('0xb7'),_0x358a('0xb8')],_0x339562=[_0x358a('0xb9'),_0x358a('0xba'),_0x358a('0xbb'),_0x358a('0xbc'),'ended',_0x358a('0xbd'),_0x358a('0xbe')];var _0x2dd30a={};const _0x53a979=function(_0x2328c1,_0x5bc8b3){return'ALL'!=_0x2328c1[_0x358a('0xbf')]()?_0x51e564['kpi_prefix_sap']+_0x2328c1[_0x358a('0xc0')]()+'_workprocess_'+_0x5bc8b3+_0x358a('0xc1'):_0x51e564[_0x358a('0x27')]+_0x358a('0xc2')+_0x5bc8b3+'__nb';};_0x5cb3ff[_0x358a('0x57')](_0x2328c1=>{_0x339562[_0x358a('0x57')](_0x5bc8b3=>{_0x2dd30a[_0x53a979(_0x169c3c,_0x5bc8b3)]=_0x2dd30a[_0x53a979(_0x169c3c,_0x5bc8b3)]?Object['assign']({},_0x2dd30a[_0x53a979(_0x169c3c,_0x5bc8b3)],{[_0x2328c1]:0x0}):{[_0x2328c1]:0x0};});}),_0x5bc8b3['workprocess']&&_0x5bc8b3[_0x358a('0xc3')][_0x358a('0x9c')]&&_0x5bc8b3[_0x358a('0xc3')][_0x358a('0x9c')][_0x358a('0x57')](_0x2328c1=>{_0x2dd30a[_0x53a979(_0x169c3c,_0x2328c1[_0x358a('0xc4')][_0x358a('0xc0')]())]&&void 0x0!=_0x2dd30a[_0x53a979(_0x169c3c,_0x2328c1[_0x358a('0xc4')][_0x358a('0xc0')]())][_0x2328c1[_0x358a('0xc5')][_0x358a('0xc0')]()]?_0x2dd30a[_0x53a979(_0x169c3c,_0x2328c1['Status'][_0x358a('0xc0')]())][_0x2328c1[_0x358a('0xc5')][_0x358a('0xc0')]()]++:console['error']('not\x20definition\x20for\x20',_0x53a979(_0x169c3c,_0x2328c1['Status'][_0x358a('0xc0')]()));});_0x32ff29=_0x358a('0xa1')+_0x42dce0['_id']+_0x358a('0x4f')+_0x42dce0[_0x358a('0x86')]+'\x22,type=\x22'+_0x169c3c+'\x22,entity_id=\x22'+_0x3c0939+'\x22';void 0x0!=_0x5ba205[_0x358a('0xa5')]&&(_0x32ff29+=_0x358a('0xa6')+_0x5ba205[_0x358a('0xa5')]+'\x22'),void 0x0!=_0x5ba205[_0x358a('0xa7')]&&(_0x32ff29+=_0x358a('0xc6')+_0x5ba205[_0x358a('0xa7')]+'\x22'),void 0x0!=_0x5ba205['sn']&&(_0x32ff29+=_0x358a('0xa3')+_0x5ba205['sn']+'\x22'),void 0x0!=_0x3ba905&&(_0x32ff29+=_0x358a('0xa4')+_0x3ba905+'\x22'),Object['keys'](_0x2dd30a)['forEach'](_0x2328c1=>{_0x1b2411&&0x0!=_0x1b2411[_0x358a('0x39')]?_0x1b2411['indexOf'](_0x2328c1)>=0x0&&_0x5cb3ff[_0x358a('0x57')](_0x5bc8b3=>{_0x51e564[_0x358a('0xb3')][_0x358a('0xb4')]('{'+_0x32ff29+_0x358a('0xc7')+_0x5bc8b3+'\x22}',_0x2328c1,_0x2dd30a[_0x2328c1][_0x5bc8b3],_0x42dce0[_0x358a('0xa2')]);}):_0x5cb3ff[_0x358a('0x57')](_0x5bc8b3=>{_0x51e564['pushgtw_cli']['set']('{'+_0x32ff29+_0x358a('0xc7')+_0x5bc8b3+'\x22}',_0x2328c1,_0x2dd30a[_0x2328c1][_0x5bc8b3],_0x42dce0[_0x358a('0xa2')]);});}),_0x1df870();break;case'ABAPGetSystemWPTable':console['log']('Result\x20of\x20('+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0xc3')][_0x358a('0x9c')]),_0x1df870();break;case _0x358a('0x84'):const _0x41da5a=function(_0x2328c1){return _0x2328c1[_0x358a('0xc0')]()['match'](/.*time$/)?_0x51e564[_0x358a('0x27')]+_0x358a('0xc9')+_0x2328c1[_0x358a('0xc0')]()['replace'](/[^a-zA-Z0-9]/g,'_')+_0x358a('0xca'):_0x51e564['kpi_prefix_sap']+_0x358a('0xc9')+_0x2328c1['toLowerCase']()[_0x358a('0x8a')](/[^a-zA-Z0-9]/g,'_')+_0x358a('0xc1');};var _0x32ff29='instance=\x22'+_0x42dce0['_id']+_0x358a('0x4f')+_0x42dce0['sid']+_0x358a('0xcb')+_0x169c3c+_0x358a('0xcc')+company_id+_0x358a('0x4e')+_0x3c0939+'\x22';void 0x0!=_0x5ba205[_0x358a('0xb2')]&&(_0x32ff29+=',features=\x22'+_0x5ba205[_0x358a('0xb2')]+'\x22'),void 0x0!=_0x5ba205['hostname']&&(_0x32ff29+=_0x358a('0xa6')+_0x5ba205[_0x358a('0xa5')]+'\x22'),void 0x0!=_0x5ba205[_0x358a('0xa7')]&&(_0x32ff29+=_0x358a('0xc6')+_0x5ba205[_0x358a('0xa7')]+'\x22'),void 0x0!=_0x5ba205['sn']&&(_0x32ff29+=_0x358a('0xa3')+_0x5ba205['sn']+'\x22'),void 0x0!=_0x3ba905&&(_0x32ff29+=_0x358a('0xa4')+_0x3ba905+'\x22'),Object[_0x358a('0x3d')](_0x5bc8b3)[_0x358a('0x57')](_0x2328c1=>{_0x51e564['pushgtw_cli']['set']('{'+_0x32ff29+'}',_0x41da5a(_0x2328c1),_0x5bc8b3[_0x2328c1],_0x42dce0[_0x358a('0xa2')]);}),_0x1df870();break;case _0x358a('0xcd'):case _0x358a('0x6b'):console[_0x358a('0xce')]('Result\x20of\x20('+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0xcf')][_0x358a('0x9c')]),_0x1df870();break;case _0x358a('0x7d'):case _0x358a('0x6a'):console['log'](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0xd1')][_0x358a('0x9c')]),_0x1df870();break;case _0x358a('0x6e'):console[_0x358a('0xce')](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0['sid']+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0x1c')][_0x358a('0x9c')]),_0x1df870();break;case _0x358a('0xd2'):console[_0x358a('0xce')]('Result\x20of\x20('+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0x9')]['item']),_0x1df870();break;case _0x358a('0x73'):console[_0x358a('0xce')](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0xd3')][_0x358a('0x9c')]),_0x1df870();break;case _0x358a('0x79'):console[_0x358a('0xce')](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0['sid']+_0x358a('0xc8'),_0x5bc8b3['msg']),_0x1df870();break;case'GetCallstack':console[_0x358a('0xce')](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+')=\x20',_0x5bc8b3[_0x358a('0xd4')][_0x358a('0x9c')]),_0x1df870();break;case _0x358a('0x6d'):console[_0x358a('0xce')]('Result\x20of\x20('+_0x493715+'@'+_0x42dce0['sid']+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0xd5')][_0x358a('0x9c')]),_0x1df870();break;case'ICMGetConnectionList':case _0x358a('0x81'):console[_0x358a('0xce')](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+')=\x20',_0x5bc8b3[_0x358a('0xd6')]),_0x1df870();break;case _0x358a('0x80'):console[_0x358a('0xce')](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+')=\x20',_0x5bc8b3['entry'][_0x358a('0x9c')]),_0x1df870();break;case _0x358a('0x7e'):console[_0x358a('0xce')](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0['sid']+_0x358a('0xc8'),_0x5bc8b3['thread'][_0x358a('0x9c')]),_0x1df870();break;case _0x358a('0x83'):console['log'](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0['sid']+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0xd7')]),_0x1df870();break;case'GetInstanceProperties':console[_0x358a('0xce')](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0xd8')][_0x358a('0x9c')]),_0x1df870();break;case _0x358a('0x76'):console[_0x358a('0xce')](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0xd9')][_0x358a('0x9c')]),_0x1df870();break;case _0x358a('0xda'):console[_0x358a('0xce')](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+')=\x20',_0x5bc8b3[_0x358a('0xdb')]['item']),_0x1df870();break;case _0x358a('0x7a'):console['log']('Result\x20of\x20('+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0xdc')][_0x358a('0x9c')]),_0x1df870();break;case _0x358a('0x77'):console['log']('Result\x20of\x20('+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0xdd')][_0x358a('0x9c')]),_0x1df870();break;case _0x358a('0x7b'):case _0x358a('0x7c'):console[_0x358a('0xce')](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+_0x358a('0xc8'),_0x5bc8b3[_0x358a('0x8c')],'\x20',_0x5bc8b3[_0x358a('0xd4')][_0x358a('0xde')]),_0x1df870();break;default:console['log'](_0x358a('0xd0')+_0x493715+'@'+_0x42dce0[_0x358a('0x86')]+_0x358a('0xc8'),_0x5bc8b3),_0x1df870();}}};_0x1df870[_0x358a('0x38')]={'Constructor':_0x1df870,'isEC2sRunning':function(_0x2328c1,_0x493715){var _0x42dce0=this;_0x5bc8b3[_0x358a('0xdf')]([function(_0x5bc8b3){_0x42dce0[_0x358a('0xc')][_0x358a('0xe0')]({'InstanceIds':Object[_0x358a('0x3d')](_0x42dce0[_0x358a('0xe')])[_0x358a('0x5d')](_0x5bc8b3=>_0x2328c1[_0x358a('0x63')](_0x5bc8b3)>=0x0)['map'](_0x2328c1=>_0x42dce0[_0x358a('0xe')][_0x2328c1]),'IncludeAllInstances':!0x0},_0x5bc8b3);},function(_0x2328c1,_0x5bc8b3){var _0x493715={};_0x2328c1[_0x358a('0xe1')]['forEach'](_0x2328c1=>{_0x493715[_0x2328c1[_0x358a('0xe2')]]=0x10==_0x2328c1[_0x358a('0xe3')]['Code']&&'ok'==_0x2328c1[_0x358a('0xe4')]['Status']&&'ok'==_0x2328c1[_0x358a('0xe5')][_0x358a('0xc4')];}),_0x5bc8b3(null,_0x493715);}],function(_0x2328c1,_0x5bc8b3){_0x2328c1&&console[_0x358a('0x14')](_0x358a('0xe6'),_0x2328c1),_0x493715(_0x5bc8b3);});},'isEC2Running':function(_0x2328c1,_0x5bc8b3){var _0x493715=this;_0x493715[_0x358a('0xe7')](_0x2328c1,_0x2328c1=>{_0x2328c1?_0x493715[_0x358a('0xe8')](_0x2328c1,_0x5bc8b3):(console[_0x358a('0x14')](_0x493715[_0x358a('0xf')][_0x358a('0xe9')]),_0x5bc8b3());});},'isEC2RunningFromID':function(_0x2328c1,_0x493715){var _0x42dce0=this;_0x5bc8b3[_0x358a('0xdf')]([function(_0x5bc8b3){_0x42dce0[_0x358a('0xc')][_0x358a('0xe0')]({'InstanceIds':[_0x2328c1],'IncludeAllInstances':!0x0},_0x5bc8b3);},function(_0x2328c1,_0x5bc8b3){_0x2328c1[_0x358a('0xe1')]&&_0x2328c1[_0x358a('0xe1')][0x0]?_0x5bc8b3(null,0x10==_0x2328c1[_0x358a('0xe1')][0x0][_0x358a('0xe3')]['Code']&&'ok'==_0x2328c1[_0x358a('0xe1')][0x0][_0x358a('0xe4')][_0x358a('0xc4')]&&'ok'==_0x2328c1['InstanceStatuses'][0x0][_0x358a('0xe5')][_0x358a('0xc4')]):_0x5bc8b3(_0x42dce0[_0x358a('0xf')][_0x358a('0xe9')]);}],function(_0x2328c1,_0x5bc8b3){_0x2328c1&&console[_0x358a('0x14')](_0x358a('0xea'),_0x2328c1),_0x493715(_0x5bc8b3);});},'isEC2Stopped':function(_0x2328c1,_0x5bc8b3){var _0x493715=this;_0x493715[_0x358a('0xe7')](_0x2328c1,_0x2328c1=>{_0x2328c1?_0x493715[_0x358a('0xeb')](_0x2328c1,_0x5bc8b3):(console[_0x358a('0x14')](_0x493715[_0x358a('0xf')]['ec2_not_found']),_0x5bc8b3());});},'isEC2StoppedFromID':function(_0x2328c1,_0x493715){var _0x42dce0=this;_0x5bc8b3[_0x358a('0xdf')]([function(_0x5bc8b3){_0x42dce0[_0x358a('0xc')][_0x358a('0xe0')]({'InstanceIds':[_0x2328c1],'IncludeAllInstances':!0x0},_0x5bc8b3);},function(_0x2328c1,_0x5bc8b3){_0x2328c1[_0x358a('0xe1')]&&_0x2328c1[_0x358a('0xe1')][0x0]?_0x5bc8b3(null,0x50==_0x2328c1[_0x358a('0xe1')][0x0]['InstanceState'][_0x358a('0xec')]):_0x5bc8b3(_0x42dce0[_0x358a('0xf')][_0x358a('0xe9')]);}],function(_0x2328c1,_0x5bc8b3){_0x2328c1&&console[_0x358a('0x14')](_0x358a('0xed'),_0x2328c1),_0x493715(_0x5bc8b3);});},'getEC2ID':function(_0x2328c1,_0x493715){var _0x42dce0=this;Object[_0x358a('0x3d')](_0x42dce0[_0x358a('0xe')])['indexOf'](_0x2328c1)<0x0?_0x5bc8b3[_0x358a('0xdf')]([function(_0x5bc8b3){_0x42dce0[_0x358a('0xc')][_0x358a('0xee')]({'Filters':[{'Name':'private-ip-address','Values':[_0x2328c1]}]},_0x5bc8b3);},function(_0x2328c1,_0x5bc8b3){_0x2328c1&&_0x2328c1['Reservations']&&_0x2328c1[_0x358a('0xef')][0x0]&&_0x2328c1[_0x358a('0xef')][0x0][_0x358a('0xf0')]&&_0x2328c1[_0x358a('0xef')][0x0][_0x358a('0xf0')][0x0]?_0x5bc8b3(null,_0x2328c1['Reservations'][0x0][_0x358a('0xf0')][0x0]['InstanceId']):_0x5bc8b3(_0x42dce0[_0x358a('0xf')][_0x358a('0xe9')]);}],function(_0x5bc8b3,_0x5ba205){_0x5bc8b3||!_0x5ba205?(console[_0x358a('0x14')](_0x358a('0xf1'),_0x5bc8b3,_0x5ba205),_0x493715()):(_0x42dce0[_0x358a('0xe')][_0x2328c1]=_0x5ba205,_0x493715(_0x5ba205));}):_0x493715(_0x42dce0['mappings_ip_id'][_0x2328c1]);},'getEC2ID_Type':function(_0x2328c1,_0x493715){var _0x42dce0=this;_0x5bc8b3[_0x358a('0xdf')]([function(_0x5bc8b3){_0x42dce0[_0x358a('0xc')][_0x358a('0xee')]({'Filters':[{'Name':_0x358a('0xf2'),'Values':[_0x2328c1]}]},_0x5bc8b3);},function(_0x2328c1,_0x5bc8b3){_0x2328c1&&_0x2328c1[_0x358a('0xef')]&&_0x2328c1[_0x358a('0xef')][0x0]&&_0x2328c1['Reservations'][0x0][_0x358a('0xf0')]&&_0x2328c1[_0x358a('0xef')][0x0][_0x358a('0xf0')][0x0]?_0x5bc8b3(null,_0x2328c1['Reservations'][0x0]['Instances'][0x0]):_0x5bc8b3(_0x42dce0[_0x358a('0xf')][_0x358a('0xe9')]);}],function(_0x5bc8b3,_0x5ba205){_0x5bc8b3?(console[_0x358a('0x14')]('E\x20getEC2ID_Type\x20error',_0x5bc8b3),_0x493715()):(_0x42dce0[_0x358a('0xe')][_0x2328c1]=_0x5ba205[_0x358a('0xe2')],_0x493715({'instance_id':_0x5ba205['InstanceId'],'instance_type':_0x5ba205['InstanceType']}));});},'stopEC2':function(_0x2328c1,_0x5bc8b3){var _0x493715=this;_0x493715['getEC2ID'](_0x2328c1,_0x2328c1=>{_0x2328c1?_0x493715[_0x358a('0xeb')](_0x2328c1,_0x42dce0=>{_0x42dce0?_0x5bc8b3():_0x493715[_0x358a('0xc')][_0x358a('0xf3')]({'InstanceIds':[_0x2328c1]},_0x2328c1=>{_0x2328c1?(console['error'](_0x493715[_0x358a('0xf')]['ec2_not_stopped'],_0x2328c1),_0x5bc8b3(_0x493715['_errors']['ec2_not_stopped'])):_0x5bc8b3();});}):_0x5bc8b3(_0x493715[_0x358a('0xf')][_0x358a('0xf4')]);});},'startEC2':function(_0x2328c1,_0x5bc8b3){var _0x493715=this;_0x493715['getEC2ID'](_0x2328c1,_0x2328c1=>{_0x2328c1?_0x493715[_0x358a('0xe8')](_0x2328c1,_0x42dce0=>{_0x42dce0?_0x5bc8b3():_0x493715['ec2'][_0x358a('0xf5')]({'InstanceIds':[_0x2328c1]},_0x2328c1=>{_0x2328c1?(console[_0x358a('0x14')](_0x493715[_0x358a('0xf')][_0x358a('0xf6')],_0x2328c1),_0x5bc8b3(_0x493715[_0x358a('0xf')][_0x358a('0xf6')])):_0x5bc8b3();});}):_0x5bc8b3(_0x493715[_0x358a('0xf')][_0x358a('0xf6')]);});}};var _0x26d2e2=_0x1df870;_0x51e564[_0x358a('0x38')]={'Constructor':_0x51e564,'log':function(_0x2328c1){var _0x5bc8b3=this;(_0x2328c1<=_0x5bc8b3[_0x358a('0xf7')]||_0x5bc8b3[_0x358a('0x16')])&&(Array['prototype'][_0x358a('0x64')][_0x358a('0xf8')](arguments,0x0,0x1,function(_0x2328c1){switch(_0x2328c1){case _0x5bc8b3['LOG_LEVEL_ERROR']:return'E'+_0x5bc8b3[_0x358a('0xf9')]+new Date()[_0x358a('0xfa')]()+_0x5bc8b3[_0x358a('0xf9')];case _0x5bc8b3[_0x358a('0xfb')]:return'M'+_0x5bc8b3[_0x358a('0xf9')]+new Date()['toJSON']()+_0x5bc8b3[_0x358a('0xf9')];case _0x5bc8b3[_0x358a('0x18')]:return'I'+_0x5bc8b3[_0x358a('0xf9')]+new Date()[_0x358a('0xfa')]()+_0x5bc8b3[_0x358a('0xf9')];case _0x5bc8b3[_0x358a('0x19')]:return'D'+_0x5bc8b3[_0x358a('0xf9')]+new Date()[_0x358a('0xfa')]()+_0x5bc8b3[_0x358a('0xf9')];default:return'';}}(_0x2328c1)),console[_0x358a('0xce')][_0x358a('0xfc')](null,Array[_0x358a('0x38')][_0x358a('0x93')][_0x358a('0xf8')](arguments)));},'debug':function(_0x2328c1){console[_0x358a('0xce')]('ON'),this[_0x358a('0x16')]=_0x2328c1;}};var _0x2c430e=_0x51e564,{sapcontrol_operations:sapcontrol_operations$1,sapctrl_process_func:sapctrl_process_func$1}=_0x3a0d01;_0x51302c['prototype']={'Constructor':_0x51302c,'init':function(_0x2328c1,_0x493715){var _0x42dce0=this;_0x42dce0[_0x358a('0xfd')]=_0x2328c1[_0x358a('0xfd')],_0x42dce0[_0x358a('0x9')]=_0x2328c1[_0x358a('0x9')],_0x42dce0[_0x358a('0xa')]=_0x2328c1[_0x358a('0xa')]||_0x358a('0xfe'),_0x42dce0[_0x358a('0x1d')]['collect_exec']+='_'+_0x42dce0[_0x358a('0xa')],_0x42dce0['nb_workers']=_0x2328c1[_0x358a('0x21')],_0x42dce0[_0x358a('0x33')][_0x358a('0xce')](_0x42dce0['logger']['LOG_LEVEL_INFO'],_0x358a('0xff')),_0x5bc8b3['parallel']([function(_0x2328c1){_0x42dce0[_0x358a('0x100')][_0x358a('0xf8')](_0x42dce0,_0x2328c1);},function(_0x5bc8b3){_0x42dce0[_0x358a('0x1c')]=_0x5ba205[_0x358a('0x101')]({'prefix':'q','redis':Object[_0x358a('0x3c')](_0x2328c1['db'],{'db':_0x2328c1[_0x358a('0x102')]})}),_0x42dce0['queue'][_0x358a('0x103')](),_0x42dce0[_0x358a('0x1c')][_0x358a('0x104')](0x2*_0x42dce0[_0x358a('0x21')]),_0x42dce0[_0x358a('0x1c')]['on']('error',function(_0x2328c1){_0x42dce0[_0x358a('0x33')]['log'](_0x42dce0['logger']['LOG_LEVEL_ERROR'],_0x358a('0x105')+_0x2328c1[_0x358a('0x106')]+_0x358a('0x107')+_0x2328c1[_0x358a('0x108')]+_0x358a('0x107')+_0x2328c1[_0x358a('0x109')]);}),_0x5bc8b3();},function(_0x5bc8b3){_0x42dce0[_0x358a('0xb3')]=new _0x192c29(_0x2328c1['gateway'][_0x358a('0x10a')]+_0x358a('0x10b')+(_0x2328c1[_0x358a('0x10c')][_0x358a('0x10d')]?_0x2328c1[_0x358a('0x10c')][_0x358a('0x10d')]+'@':'')+_0x2328c1['gateway'][_0x358a('0x10e')]+':'+_0x2328c1[_0x358a('0x10c')][_0x358a('0x10f')]+_0x358a('0x110'),_0x42dce0[_0x358a('0x9')],_0x42dce0[_0x358a('0xa')]),_0x5bc8b3();},function(_0x2328c1){_0x169c3c['existsSync'](_0x42dce0[_0x358a('0x30')])||_0x169c3c[_0x358a('0x111')](_0x42dce0[_0x358a('0x30')]),_0x2328c1();}],function(){_0x42dce0[_0x358a('0x33')]['log'](_0x42dce0[_0x358a('0x33')][_0x358a('0x18')],_0x358a('0x112'),_0x42dce0[_0x358a('0x1d')]),_0x493715[_0x358a('0xf8')](_0x42dce0);});},'deletePrometheus':function(_0x2328c1,_0x5bc8b3,_0x493715,_0x42dce0,_0x5ba205){var _0x169c3c=this;void 0x0==_0x169c3c['conn_retries'][_0x493715]&&(_0x169c3c[_0x358a('0x113')][_0x493715]=0x0),_0x169c3c[_0x358a('0x33')][_0x358a('0xce')](_0x169c3c[_0x358a('0x33')][_0x358a('0x18')],'pshgtw:'+_0x493715+':\x20delete\x20\x27'+_0x2328c1+'\x27\x20timeserie\x20data,\x20set\x20status=0\x20\x27up\x27\x20timeserie'),_0x169c3c['pushgtw_cli']['delSerie'](_0x2328c1,{'instance':_0x493715}),_0x169c3c['pushgtw_cli'][_0x358a('0x114')]('up',_0x5bc8b3,_0x493715,_0x169c3c[_0x358a('0x20')],_0x42dce0,0x0),_0x169c3c[_0x358a('0xb3')][_0x358a('0x115')]('up',_0x5bc8b3,_0x493715,_0x169c3c[_0x358a('0x20')],_0x42dce0,_0x5ba205),_0x169c3c[_0x358a('0x113')][_0x493715]=0x0;},'new_soap_client':function(_0x2328c1,_0x5bc8b3,_0x493715,_0x42dce0){_0x1b2411[_0x358a('0x116')](_0x2328c1+'?wsdl',{'returnFault':!0x0},function(_0x5ba205,_0x169c3c){if(_0x5ba205||!_0x169c3c)_0x42dce0(_0x5ba205,_0x493715);else{switch(_0x5bc8b3['method']){case 0x0:_0x169c3c['setSecurity'](new _0x1b2411[(_0x358a('0x117'))](_0x5bc8b3[_0x358a('0x118')][0x0][_0x358a('0x119')],_0x5bc8b3[_0x358a('0x118')][0x0][_0x358a('0x11a')]));break;case 0x1:_0x169c3c[_0x358a('0x11b')](new _0x1b2411['ClientSSLSecurityPFX'](_0x5bc8b3['options'][0x1][_0x358a('0x11c')],null,{'rejectUnauthorized':!0x1}));break;default:_0x169c3c['setSecurity'](new _0x1b2411[(_0x358a('0x11d'))](_0x5bc8b3['options'][0x1]['pfx'],null,{'rejectUnauthorized':!0x1}));}_0x169c3c['setEndpoint'](_0x2328c1+'SAPControl.cgi'),_0x42dce0(null,{'soapcli':_0x169c3c,'payload':_0x493715});}});},'update_sending_ssl':function(_0x2328c1,_0x5bc8b3,_0x493715){const _0x42dce0=this;_0x2328c1?_0x169c3c[_0x358a('0x11e')](_0x42dce0['certif_dir']+'/'+_0x2328c1+_0x358a('0x11f'),_0x169c3c[_0x358a('0x120')],_0x5ba205=>{_0x5ba205?_0x5bc8b3?_0x169c3c[_0x358a('0x121')](_0x42dce0[_0x358a('0x30')]+'/'+_0x2328c1+'.pfx',new Buffer[(_0x358a('0x122'))](JSON[_0x358a('0x123')](_0x5bc8b3)),function(_0x5bc8b3){_0x42dce0['sending_sslcertifs'][_0x2328c1]=!!_0x5bc8b3,_0x493715();}):(_0x42dce0[_0x358a('0x22')][_0x2328c1]=!0x0,_0x493715()):(_0x42dce0['sending_sslcertifs'][_0x2328c1]=!0x1,_0x493715());}):_0x493715();},'connect_sap':function(_0x2328c1,_0x493715,_0x42dce0){var _0x5ba205=this;process['env'][_0x358a('0x124')]='0',_0x5ba205['logger'][_0x358a('0xce')](_0x5ba205['logger'][_0x358a('0x19')],_0x358a('0x125')+_0x2328c1[_0x358a('0x126')][_0x358a('0x127')]),_0x5bc8b3['waterfall']([function(_0x5bc8b3){_0x5ba205[_0x358a('0x128')](_0x2328c1[_0x358a('0x126')][_0x358a('0x127')],_0x2328c1[_0x358a('0x129')],_0x5bc8b3);},function(_0x5bc8b3){const _0x493715=_0x2328c1[_0x358a('0x126')]['is_encrypted']?{'protocol':_0x358a('0x12a'),'port_suffix':'14'}:{'protocol':_0x358a('0x12b'),'port_suffix':'13'},_0x42dce0=_0x493715[_0x358a('0x12c')]+_0x358a('0x10b')+(_0x2328c1[_0x358a('0x126')]['ip_internal']||_0x2328c1[_0x358a('0x126')][_0x358a('0xa5')])+':5'+_0x2328c1['system']['sn']+_0x493715['port_suffix']+'/';_0x5ba205[_0x358a('0xb3')][_0x358a('0x12d')](_0x2328c1[_0x358a('0x126')]['syst_id']),_0x5ba205[_0x358a('0x12e')](_0x42dce0,{'method':_0x2328c1[_0x358a('0x126')][_0x358a('0x12f')],'options':[{'user':_0x2328c1[_0x358a('0x126')][_0x358a('0x130')],'pwd':_0x2328c1[_0x358a('0x126')][_0x358a('0x131')]},{'pfx':0x1==_0x2328c1[_0x358a('0x126')][_0x358a('0x12f')]&&_0x5ba205[_0x358a('0x30')]+'/'+_0x2328c1[_0x358a('0x126')]['syst_id']+_0x358a('0x11f')}]},_0x2328c1,_0x5bc8b3);},function(_0x5bc8b3,_0x493715){_0x5bc8b3[_0x358a('0x132')][_0x358a('0x73')]({},function(_0x42dce0,_0x169c3c){if(!_0x42dce0&&_0x169c3c&&_0x169c3c[_0x358a('0xd3')]&&_0x169c3c[_0x358a('0xd3')][_0x358a('0x9c')]){var _0x3c0939=_0x169c3c[_0x358a('0xd3')][_0x358a('0x9c')][_0x358a('0x3e')](_0x2328c1=>({'hostname':_0x2328c1[_0x358a('0xa5')],'instancenr':(''+_0x2328c1[_0x358a('0x133')])[_0x358a('0x134')](0x2,'0'),'features':_0x2328c1[_0x358a('0xb2')][_0x358a('0x62')]('|'),'status':_0x2328c1[_0x358a('0x135')]==_0x5ba205['_sap_statuses'][_0x358a('0x136')]?0x1:_0x2328c1[_0x358a('0x135')]==_0x5ba205[_0x358a('0x2a')][_0x358a('0x137')]?-0x1:0x0})),_0x1b2411=_0x5ba205['check_system_status'](_0x169c3c['instance'][_0x358a('0x9c')]);_0x1b2411==_0x5ba205[_0x358a('0x2a')]['red']||_0x1b2411==_0x5ba205[_0x358a('0x2a')]['gray']?_0x493715(_0x5ba205[_0x358a('0xf')][_0x358a('0x138')],_0x5bc8b3[_0x358a('0x132')]):(_0x5ba205[_0x358a('0xb3')][_0x358a('0x114')]('up',_0x2328c1['entity_id'],_0x2328c1[_0x358a('0x126')][_0x358a('0x127')],_0x5ba205[_0x358a('0x20')],_0x2328c1[_0x358a('0x126')][_0x358a('0x86')],0x1),_0x5ba205[_0x358a('0x113')][_0x2328c1[_0x358a('0x126')]['syst_id']]=0x0,_0x493715(null,_0x3c0939,_0x2328c1['system'][_0x358a('0x12f')],_0x2328c1[_0x358a('0x126')]['username'],_0x2328c1[_0x358a('0x126')]['password'],0x1==_0x2328c1[_0x358a('0x126')][_0x358a('0x12f')]?_0x5ba205[_0x358a('0x30')]+'/'+_0x2328c1[_0x358a('0x126')][_0x358a('0x127')]+_0x358a('0x11f'):null,{'is_encrypted':_0x2328c1[_0x358a('0x126')]['is_encrypted'],'is_direct':_0x2328c1[_0x358a('0x126')][_0x358a('0x139')]},_0x2328c1));}else _0x493715(_0x5ba205[_0x358a('0xf')][_0x358a('0x13a')],_0x42dce0&&_0x42dce0[_0x358a('0x13b')]+'\x20'+_0x42dce0[_0x358a('0x10f')]);});},function(_0x42dce0,_0x169c3c,_0x3c0939,_0x1b2411,_0x3ba905,_0x1df870,_0x51e564,_0x51302c){_0x5ba205[_0x358a('0x33')][_0x358a('0xce')](_0x5ba205['logger'][_0x358a('0x19')],'['+_0x2328c1['system'][_0x358a('0x127')]+']\x20instances:'+_0x42dce0[_0x358a('0x3e')](_0x2328c1=>_0x2328c1[_0x358a('0xa5')]+'-'+_0x2328c1[_0x358a('0x59')]+'-'+_0x2328c1[_0x358a('0x5a')])['join'](',\x20'));var _0x192c29=[];_0x42dce0&&0x0!=_0x42dce0['filter'](_0x2328c1=>0x1==_0x2328c1[_0x358a('0x5a')]&&_0x2328c1[_0x358a('0xb2')][_0x358a('0x63')](_0x358a('0x13c'))<0x0&&_0x2328c1[_0x358a('0xb2')]['indexOf'](_0x358a('0x13d'))<0x0)[_0x358a('0x39')]?_0x5bc8b3[_0x358a('0x13e')](_0x42dce0[_0x358a('0x5d')](_0x2328c1=>0x1==_0x2328c1[_0x358a('0x5a')]&&_0x2328c1[_0x358a('0xb2')][_0x358a('0x63')](_0x358a('0x13c'))<0x0&&_0x2328c1[_0x358a('0xb2')][_0x358a('0x63')](_0x358a('0x13d'))<0x0),function(_0x5bc8b3,_0x493715,_0x51e564){const _0x51302c=_0x1df870[_0x358a('0x13f')]?{'protocol':_0x358a('0x12a'),'port_suffix':'14'}:{'protocol':_0x358a('0x12b'),'port_suffix':'13'},_0x3a0d01=_0x51302c[_0x358a('0x12c')]+_0x358a('0x10b')+_0x5bc8b3[_0x358a('0xa5')]+':5'+_0x5bc8b3[_0x358a('0x59')]+_0x51302c[_0x358a('0x140')]+'/';_0x5ba205[_0x358a('0x12e')](_0x3a0d01,{'method':_0x169c3c,'options':[{'user':_0x3c0939,'pwd':_0x1b2411},{'pfx':_0x3ba905}]},null,function(_0x169c3c,_0x3c0939){if(_0x169c3c)_0x5ba205['logger'][_0x358a('0xce')](_0x5ba205[_0x358a('0x33')][_0x358a('0x17')],'error\x20connecting\x20to\x20instance:\x20'+_0x5bc8b3[_0x358a('0xa5')]+'-'+_0x5bc8b3['instancenr']+_0x358a('0x141'),_0x169c3c),_0x42dce0[_0x493715][_0x358a('0x5a')]=0x0,_0x42dce0[_0x493715]=Object[_0x358a('0x3c')](_0x42dce0[_0x493715],{'error':_0x169c3c}),_0x51e564();else{var _0x1b2411=_0x2328c1['system']['instances'][_0x358a('0x5d')](_0x2328c1=>_0x2328c1[_0x358a('0x59')]==_0x5bc8b3[_0x358a('0x59')]);_0x192c29['push']({'c':_0x3c0939[_0x358a('0x132')],'f':_0x5bc8b3[_0x358a('0xb2')],'n':_0x5bc8b3[_0x358a('0x59')],'h':_0x5bc8b3['hostname'],'i':_0x1b2411&&_0x1b2411[0x0]&&_0x1b2411[0x0][_0x358a('0xa7')]}),_0x51e564();}});},function(_0x169c3c){_0x169c3c&&_0x5ba205[_0x358a('0x33')][_0x358a('0xce')](_0x5ba205['logger'][_0x358a('0x17')],_0x358a('0x142'),_0x169c3c),_0x2328c1[_0x358a('0x126')][_0x358a('0x143')][_0x358a('0x57')]((_0x5bc8b3,_0x493715)=>{_0x42dce0[_0x358a('0x57')](_0x5ba205=>{_0x5bc8b3&&_0x5bc8b3[_0x358a('0x59')]==_0x5ba205[_0x358a('0x59')]&&(_0x2328c1['system'][_0x358a('0x143')][_0x493715]=Object['assign'](_0x5bc8b3,_0x5ba205),void 0x0==_0x5ba205[_0x358a('0x14')]&&-0x1!=_0x5ba205[_0x358a('0x5a')]&&delete _0x2328c1[_0x358a('0x126')][_0x358a('0x143')][_0x493715][_0x358a('0x14')]);_0x2328c1['system']['instances']['map'](_0x2328c1=>_0x2328c1&&_0x2328c1[_0x358a('0x59')])['indexOf'](_0x5ba205['instancenr'])<0x0&&_0x2328c1['system'][_0x358a('0x143')]['push'](_0x5ba205);_0x5bc8b3&&_0x42dce0[_0x358a('0x3e')](_0x2328c1=>_0x2328c1['instancenr'])[_0x358a('0x63')](_0x5bc8b3['instancenr'])<0x0&&(_0x2328c1[_0x358a('0x126')][_0x358a('0x143')][_0x493715][_0x358a('0x5a')]=0x0);});}),_0x5ba205[_0x358a('0xb3')][_0x358a('0x115')]('up',_0x2328c1['entity_id'],_0x2328c1['system'][_0x358a('0x127')],_0x5ba205[_0x358a('0x20')],_0x2328c1[_0x358a('0x126')][_0x358a('0x86')],_0x2328c1[_0x358a('0x126')][_0x358a('0x143')]),_0x5bc8b3['each'](_0x192c29,(_0x2328c1,_0x5bc8b3)=>{_0x493715(_0x2328c1,_0x42dce0,_0x5bc8b3);},_0x5bc8b3=>{_0x5bc8b3&&_0x5ba205[_0x358a('0x33')][_0x358a('0xce')](_0x5ba205[_0x358a('0x33')][_0x358a('0x17')],_0x358a('0x144'),_0x5bc8b3);_0x5ba205[_0x358a('0xb3')][_0x358a('0x145')](_0x358a('0x146'),_0x2328c1[_0x358a('0x126')][_0x358a('0x127')]);_0x51302c(_0x169c3c||_0x5bc8b3,_0x42dce0);});}):(_0x5ba205['pushgtw_cli'][_0x358a('0x145')](_0x358a('0x146'),_0x51e564[_0x358a('0x126')][_0x358a('0x127')]),_0x51302c(_0x5ba205[_0x358a('0xf')][_0x358a('0x147')],_0x42dce0));}],function(_0x5bc8b3,_0x493715){if(_0x5bc8b3){switch(_0x5bc8b3){case _0x5ba205[_0x358a('0xf')][_0x358a('0x138')]:_0x5ba205[_0x358a('0x33')]['log'](_0x5ba205['logger'][_0x358a('0x17')],_0x358a('0x148'),_0x5ba205['_errors'][_0x358a('0x138')]),_0x5ba205[_0x358a('0x149')](_0x493715,_0x2328c1);break;case _0x5ba205[_0x358a('0xf')][_0x358a('0x14a')]:_0x5ba205[_0x358a('0x33')][_0x358a('0xce')](_0x5ba205[_0x358a('0x33')][_0x358a('0x17')],'>E\x20',_0x5ba205['_errors'][_0x358a('0x14a')]);break;case _0x5ba205[_0x358a('0xf')][_0x358a('0x147')]:_0x5ba205[_0x358a('0x33')][_0x358a('0xce')](_0x5ba205[_0x358a('0x33')][_0x358a('0x17')],'>E\x20',_0x5ba205['_errors'][_0x358a('0x147')],_0x493715),_0x5ba205['deletePrometheus']('scale',_0x2328c1[_0x358a('0x14b')],_0x2328c1[_0x358a('0x126')][_0x358a('0x127')],_0x2328c1[_0x358a('0x126')][_0x358a('0x86')],_0x2328c1[_0x358a('0x126')][_0x358a('0x143')]['map'](_0x2328c1=>({'instancenr':_0x2328c1['instancenr'],'status':0x0})));break;case _0x5ba205[_0x358a('0xf')][_0x358a('0x13a')]:_0x5ba205['logger'][_0x358a('0xce')](_0x5ba205['logger'][_0x358a('0x17')],_0x358a('0x148'),_0x5ba205[_0x358a('0xf')][_0x358a('0x13a')],_0x493715);break;default:_0x358a('0x14c')==_0x5bc8b3[_0x358a('0x14d')]?!0x0===_0x493715&&_0x5ba205[_0x358a('0x14e')](_0x358a('0x146'),_0x2328c1['entity_id'],_0x2328c1['system'][_0x358a('0x127')],_0x2328c1[_0x358a('0x126')][_0x358a('0x86')],_0x2328c1['system'][_0x358a('0x143')][_0x358a('0x3e')](_0x2328c1=>({'instancenr':_0x2328c1['instancenr'],'status':0x0}))):_0x5ba205[_0x358a('0x33')]['log'](_0x5ba205[_0x358a('0x33')][_0x358a('0x17')],'>E\x20default',_0x5bc8b3,_0x493715);}_0x42dce0(_0x5bc8b3[_0x358a('0x106')]||_0x5bc8b3[_0x358a('0x14d')]||_0x5bc8b3,{});}else _0x5ba205[_0x358a('0xb3')]['pushUpInstance']('up',_0x2328c1['entity_id'],_0x2328c1[_0x358a('0x126')][_0x358a('0x127')],_0x5ba205[_0x358a('0x20')],_0x2328c1[_0x358a('0x126')]['sid'],0x1),_0x42dce0(null,{'sending_sslcertifs':_0x5ba205[_0x358a('0x22')][_0x2328c1[_0x358a('0x126')][_0x358a('0x127')]],'instances':_0x493715,'syst_id':_0x2328c1[_0x358a('0x126')]['syst_id']});});},'collect':function(){var _0x2328c1=this;_0x2328c1[_0x358a('0x1c')]['process'](_0x2328c1[_0x358a('0x1d')][_0x358a('0x14f')],_0x2328c1['nb_workers'],function(_0x5bc8b3,_0x493715){_0x5bc8b3[_0x358a('0x150')][_0x358a('0x151')]&&_0x5bc8b3[_0x358a('0x150')]['system']?_0x2328c1[_0x358a('0x152')](_0x5bc8b3[_0x358a('0x150')],(_0x493715,_0x42dce0,_0x5ba205)=>{_0x493715['f'][_0x358a('0x63')](_0x5bc8b3[_0x358a('0x150')][_0x358a('0x151')][_0x358a('0x153')])>=0x0||'ALL'==_0x5bc8b3['data']['func'][_0x358a('0x153')]?(_0x2328c1[_0x358a('0x33')][_0x358a('0xce')](_0x2328c1[_0x358a('0x33')]['LOG_LEVEL_DEBUG'],_0x358a('0x154')+_0x5bc8b3['data'][_0x358a('0x151')]['name']+_0x358a('0x155')),sapcontrol_operations$1[_0x5bc8b3['data'][_0x358a('0x151')][_0x358a('0x8c')]][_0x358a('0xf8')](_0x493715['c'],{},(_0x42dce0,_0x169c3c)=>{_0x42dce0&&_0x2328c1[_0x358a('0x33')]['log'](_0x2328c1['logger'][_0x358a('0x17')],_0x358a('0x154')+_0x5bc8b3[_0x358a('0x150')]['func']['name']+':\x20exec\x20error:'+_0x42dce0['body']?_0x42dce0[_0x358a('0x87')][_0x358a('0x98')](/<faultstring>(.*?)<\/faultstring>/)[0x1]:_0x42dce0);sapctrl_process_func$1['call'](_0x2328c1,_0x42dce0,_0x169c3c,_0x5bc8b3[_0x358a('0x150')]['func'][_0x358a('0x8c')],{'_id':_0x5bc8b3[_0x358a('0x150')][_0x358a('0x126')][_0x358a('0x127')],'sid':_0x5bc8b3['data'][_0x358a('0x126')][_0x358a('0x86')]},{'ip_internal':_0x493715['i'],'hostname':_0x493715['h'],'sn':_0x493715['n'],'features':_0x493715['f'][_0x358a('0x3f')]('|')},_0x5bc8b3[_0x358a('0x150')][_0x358a('0x151')]['type'],_0x5bc8b3[_0x358a('0x150')][_0x358a('0x14b')],_0x5bc8b3['data'][_0x358a('0x156')],_0x5bc8b3[_0x358a('0x150')]['rule_id'],_0x5ba205);})):_0x5ba205();},_0x493715):(_0x2328c1['logger'][_0x358a('0xce')](_0x2328c1['logger'][_0x358a('0x17')],_0x358a('0x157')),_0x493715());});},'checkconnection':function(){var _0x2328c1=this;_0x2328c1[_0x358a('0x1c')]['process'](_0x2328c1[_0x358a('0x1d')][_0x358a('0x158')],_0x2328c1[_0x358a('0x21')],function(_0x493715,_0x42dce0){if(void 0x0!=_0x493715[_0x358a('0x150')]['type']&&_0x493715['data']['system'])switch(_0x2328c1[_0x358a('0x33')][_0x358a('0xce')](_0x2328c1['logger']['LOG_LEVEL_DEBUG'],'checkconn_exec\x20system:',_0x493715[_0x358a('0x150')]['system']),_0x493715[_0x358a('0x150')][_0x358a('0x153')]){case 0x0:_0x2328c1[_0x358a('0x152')](_0x493715['data'],(_0x493715,_0x42dce0,_0x5ba205)=>{const _0x169c3c=_0x42dce0[_0x358a('0x159')](_0x2328c1=>_0x2328c1[_0x358a('0x59')]==_0x493715['n']);_0x5bc8b3['parallel']({'check':_0x5bc8b3=>{_0x493715['c']['AccessCheck']({'function':_0x358a('0x71')},function(_0x5ba205){_0x5ba205&&(_0x2328c1['logger'][_0x358a('0xce')](_0x2328c1[_0x358a('0x33')]['LOG_LEVEL_ERROR'],_0x358a('0x15a')+_0x493715['h']+'-'+_0x493715['i']+'-'+_0x493715['n']),_0x42dce0[_0x169c3c][_0x358a('0x5a')]=-0x1,_0x42dce0[_0x169c3c]=Object[_0x358a('0x3c')](_0x42dce0[_0x169c3c],{'error':_0x5ba205[_0x358a('0x87')]?_0x5ba205['body'][_0x358a('0x98')](/<faultstring>(.*?)<\/faultstring>/)[0x1]:_0x5ba205})),_0x5bc8b3();},{'timeout':0x2710});},'ip':_0x5ba205=>{_0x5bc8b3[_0x358a('0xdf')]([_0x2328c1=>{_0x493715['c'][_0x358a('0x6c')]({},function(_0x5bc8b3,_0x493715){if(!_0x5bc8b3&&_0x493715&&_0x493715[_0x358a('0x9b')]){const _0x5bc8b3=_0x493715['tree'][_0x358a('0x9c')][_0x358a('0x5d')](_0x2328c1=>_0x493715[_0x358a('0x9b')][_0x358a('0x9c')][_0x2328c1[_0x358a('0x8b')]]&&'Server\x20Configuration'==_0x493715[_0x358a('0x9b')][_0x358a('0x9c')][_0x2328c1['parent']][_0x358a('0x8c')]['trim']()&&_0x358a('0x15b')==_0x2328c1[_0x358a('0x8c')][_0x358a('0x15c')]());_0x5bc8b3&&_0x5bc8b3[0x0]&&_0x5bc8b3[0x0]['description']&&(_0x42dce0[_0x169c3c][_0x358a('0xa7')]=_0x5bc8b3[0x0][_0x358a('0x9d')],_0x2328c1(null,_0x5bc8b3[0x0][_0x358a('0x9d')]));}else _0x2328c1('No\x20IP');});},(_0x5bc8b3,_0x493715)=>{_0x2328c1[_0x358a('0x32')]['getEC2ID_Type'](_0x5bc8b3,_0x2328c1=>_0x493715(null,_0x2328c1));},(_0x2328c1,_0x5bc8b3)=>{_0x42dce0[_0x169c3c]['cloud_instance_id']=_0x2328c1['instance_id'];_0x42dce0[_0x169c3c]['cloud_instance_type']=_0x2328c1['instance_type'];_0x5bc8b3();}],_0x5bc8b3=>{_0x5bc8b3&&_0x2328c1[_0x358a('0x33')][_0x358a('0xce')](_0x2328c1[_0x358a('0x33')][_0x358a('0x17')],_0x358a('0x15d')+_0x493715['h']+'-'+_0x493715['i']+'-'+_0x493715['n']+':',_0x5bc8b3);_0x5ba205();});}},function(_0x5bc8b3){_0x5bc8b3||_0x2328c1[_0x358a('0x33')][_0x358a('0xce')](_0x2328c1[_0x358a('0x33')][_0x358a('0xfb')],'checkconn_exec:\x20SAP\x20instance\x20updated\x20OK:'+_0x493715['h']+'-'+_0x493715['i']+'-'+_0x493715['n']),_0x5ba205(_0x5bc8b3);});},_0x42dce0);break;case 0x1:break;default:_0x42dce0();}else _0x2328c1[_0x358a('0x33')][_0x358a('0xce')](_0x2328c1[_0x358a('0x33')][_0x358a('0x17')],'checkconn_exec:\x20no\x20data\x20provided'),_0x42dce0();});},'scale':function(){function _0x493715(_0x2328c1,_0x5bc8b3,_0x42dce0,_0x5ba205,_0x169c3c){_0x5bc8b3>0x0?setTimeout(function(){_0x2328c1[_0x358a('0x73')]({},function(_0x3c0939,_0x1b2411){if(_0x3c0939)_0x169c3c(_0x358a('0x15e')+_0x3c0939);else{var _0x3ba905=_0x1b2411[_0x358a('0xd3')][_0x358a('0x9c')]&&_0x1b2411[_0x358a('0xd3')][_0x358a('0x9c')][_0x358a('0x5d')](_0x2328c1=>_0x2328c1[_0x358a('0x133')]==_0x5ba205);_0x3ba905&&_0x3ba905[0x0]&&'SAPControl-GRAY'==_0x3ba905[0x0][_0x358a('0x135')]?_0x169c3c():_0x493715(_0x2328c1,_0x5bc8b3-0x1,_0x42dce0,_0x5ba205,_0x169c3c);}});},_0x42dce0):_0x169c3c(_0x358a('0x15f'));}function _0x42dce0(_0x2328c1,_0x5bc8b3,_0x493715,_0x5ba205,_0x169c3c){_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x19')],_0x358a('0x160'),_0x5bc8b3,_0x493715,_0x5ba205),_0x5bc8b3>0x0?setTimeout(function(){_0x2328c1[_0x358a('0x73')]({},function(_0x3c0939,_0x1b2411){if(_0x3c0939)_0x169c3c(_0x358a('0x15e')+_0x3c0939);else{var _0x3ba905=_0x1b2411[_0x358a('0xd3')][_0x358a('0x9c')]&&_0x1b2411[_0x358a('0xd3')][_0x358a('0x9c')][_0x358a('0x5d')](_0x2328c1=>_0x2328c1[_0x358a('0x133')]==_0x5ba205);_0x3ba905&&_0x3ba905[0x0]&&_0x3ba905[0x0][_0x358a('0x135')]==_0x51e564['_sap_statuses'][_0x358a('0x136')]?_0x169c3c():_0x42dce0(_0x2328c1,_0x5bc8b3-0x1,_0x493715,_0x5ba205,_0x169c3c);}});},_0x493715):_0x169c3c(_0x358a('0x15f'));}function _0x5ba205(_0x2328c1,_0x5bc8b3,_0x493715,_0x42dce0,_0x169c3c){_0x5bc8b3>0x0?setTimeout(function(){_0x2328c1[_0x358a('0x161')](_0x42dce0,function(_0x3c0939){void 0x0!=_0x3c0939&&null!=_0x3c0939?_0x3c0939?_0x169c3c():_0x5ba205(_0x2328c1,_0x5bc8b3-0x1,_0x493715,_0x42dce0,_0x169c3c):_0x169c3c('No\x20instance\x20found');});},_0x493715):_0x169c3c('Timeout\x20reached');}function _0x169c3c(_0x2328c1,_0x5bc8b3,_0x493715,_0x42dce0,_0x5ba205){_0x5bc8b3>0x0?setTimeout(function(){_0x2328c1[_0x358a('0x162')](_0x42dce0,function(_0x3c0939){void 0x0!=_0x3c0939&&null!=_0x3c0939?_0x3c0939?_0x5ba205():_0x169c3c(_0x2328c1,_0x5bc8b3-0x1,_0x493715,_0x42dce0,_0x5ba205):_0x5ba205('No\x20instance\x20found');});},_0x493715):_0x5ba205(_0x358a('0x15f'));}function _0x3c0939(_0x2328c1,_0x42dce0){process[_0x358a('0xd5')][_0x358a('0x124')]='0';var _0x5ba205=_0x2328c1[_0x358a('0x163')],_0x3c0939=_0x2328c1[_0x358a('0x126')],_0x1b2411=_0x5ba205['labels'][_0x358a('0xd3')],_0x3ba905=_0x5ba205[_0x358a('0x164')][_0x358a('0x14b')];_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')]['LOG_LEVEL_INFO'],_0x358a('0x165'),_0x3c0939[_0x358a('0xa7')]+'-'+_0x3c0939[_0x358a('0x86')]),_0x3c0939?_0x5bc8b3[_0x358a('0xdf')]([function(_0x5bc8b3){_0x51e564[_0x358a('0x128')](_0x2328c1[_0x358a('0x126')][_0x358a('0x127')],_0x2328c1[_0x358a('0x129')],_0x5bc8b3);},function(_0x5bc8b3){const _0x493715=_0x2328c1['system']['is_encrypted']?{'protocol':_0x358a('0x12a'),'port_suffix':'14'}:{'protocol':_0x358a('0x12b'),'port_suffix':'13'},_0x42dce0=_0x493715[_0x358a('0x12c')]+_0x358a('0x10b')+(_0x2328c1[_0x358a('0x126')][_0x358a('0xa7')]||_0x2328c1[_0x358a('0x126')][_0x358a('0xa5')])+':5'+_0x2328c1['system']['sn']+_0x493715[_0x358a('0x140')]+'/';_0x51e564['pushgtw_cli'][_0x358a('0x12d')](_0x2328c1[_0x358a('0x126')]['syst_id']),_0x51e564[_0x358a('0x12e')](_0x42dce0,{'method':_0x2328c1['system']['auth_method'],'options':[{'user':_0x2328c1[_0x358a('0x126')][_0x358a('0x130')],'pwd':_0x2328c1[_0x358a('0x126')][_0x358a('0x131')]},{'pfx':0x1==_0x2328c1['system'][_0x358a('0x12f')]&&_0x51e564[_0x358a('0x30')]+'/'+_0x2328c1[_0x358a('0x126')][_0x358a('0x127')]+_0x358a('0x11f')}]},_0x2328c1,_0x5bc8b3);},function(_0x5bc8b3,_0x493715){_0x5bc8b3[_0x358a('0x132')][_0x358a('0x73')]({},function(_0x42dce0,_0x5ba205){if(!_0x42dce0&&_0x5ba205&&_0x5ba205[_0x358a('0xd3')]&&_0x5ba205[_0x358a('0xd3')][_0x358a('0x9c')]){var _0x169c3c=_0x5ba205[_0x358a('0xd3')][_0x358a('0x9c')]['map'](_0x2328c1=>({'hostname':_0x2328c1[_0x358a('0xa5')],'instancenr':(''+_0x2328c1['instanceNr'])['padStart'](0x2,'0'),'features':_0x2328c1[_0x358a('0xb2')][_0x358a('0x62')]('|'),'status':_0x2328c1[_0x358a('0x135')]==_0x51e564['_sap_statuses'][_0x358a('0x136')]?0x1:_0x2328c1['dispstatus']==_0x51e564[_0x358a('0x2a')][_0x358a('0x137')]?-0x1:0x0})),_0x3c0939=_0x51e564[_0x358a('0x166')](_0x5ba205['instance']['item']);_0x3c0939==_0x51e564['_sap_statuses'][_0x358a('0x167')]||_0x3c0939==_0x51e564[_0x358a('0x2a')][_0x358a('0x168')]?_0x493715(_0x51e564[_0x358a('0xf')][_0x358a('0x138')],_0x5bc8b3[_0x358a('0x132')]):(_0x51e564[_0x358a('0xb3')]['pushUpInstance']('up',_0x3ba905,_0x2328c1[_0x358a('0x126')]['syst_id'],_0x51e564[_0x358a('0x20')],_0x2328c1[_0x358a('0x126')][_0x358a('0x86')],0x1),_0x51e564[_0x358a('0x113')][_0x2328c1[_0x358a('0x126')][_0x358a('0x127')]]=0x0,_0x493715(null,_0x169c3c));}else _0x493715(_0x51e564[_0x358a('0xf')]['ws_not_reachable'],_0x42dce0&&_0x42dce0['address']+'\x20'+_0x42dce0[_0x358a('0x10f')]);});},function(_0x2328c1,_0x5bc8b3){_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564['logger'][_0x358a('0x19')],_0x358a('0x169')+_0x3c0939['syst_id']+_0x358a('0x16a')+_0x2328c1['map'](_0x2328c1=>_0x2328c1[_0x358a('0xa5')]+'-'+_0x2328c1[_0x358a('0x59')]+'-'+_0x2328c1[_0x358a('0x5a')])[_0x358a('0x3f')](',\x20'));var _0x493715={};if(_0x2328c1[_0x358a('0x5d')](_0x2328c1=>0x1==_0x2328c1[_0x358a('0x5a')])[_0x358a('0x57')](_0x2328c1=>{_0x493715[_0x2328c1[_0x358a('0x59')]]=_0x2328c1[_0x358a('0xb2')][_0x358a('0x3f')]('-');}),Object[_0x358a('0x16b')](_0x493715)[_0x358a('0x5d')](_0x2328c1=>_0x2328c1==_0x493715[_0x5ba205[_0x358a('0x164')]['sn']])[_0x358a('0x39')]>_0x51e564['min_instance_running']){_0x51e564['logger'][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x18')],'stop\x20Request:\x20'+_0x3c0939[_0x358a('0x86')]+_0x358a('0x16c')+_0x5ba205[_0x358a('0x164')][_0x358a('0x16d')]+'\x20'+_0x5ba205[_0x358a('0x164')]['sn']+'\x20-\x20'+_0x5ba205[_0x358a('0x164')][_0x358a('0xa7')]+'\x20'+_0x5ba205[_0x358a('0x164')][_0x358a('0xa5')]);var _0x42dce0=null,_0x169c3c=_0x3c0939['instances'][_0x358a('0x5d')](_0x2328c1=>_0x2328c1[_0x358a('0x59')]+''==_0x5ba205['labels']['sn']+'')[0x0];const _0x493715=_0x3c0939[_0x358a('0x13f')]?{'protocol':_0x358a('0x12a'),'port_suffix':'14'}:{'protocol':_0x358a('0x12b'),'port_suffix':'13'};var _0x1b2411=_0x493715['protocol']+_0x358a('0x10b')+_0x169c3c[_0x358a('0xa5')]+':5'+_0x5ba205[_0x358a('0x164')]['sn']+_0x493715[_0x358a('0x140')]+'/';0x1==_0x3c0939[_0x358a('0x12f')]&&(_0x42dce0=_0x51e564[_0x358a('0x30')]+'/'+_0x3c0939[_0x358a('0x127')]+'.pfx'),_0x51e564[_0x358a('0x12e')](_0x1b2411,{'method':_0x3c0939[_0x358a('0x12f')],'options':[{'user':_0x3c0939[_0x358a('0x130')],'pwd':_0x3c0939[_0x358a('0x131')]},{'pfx':_0x42dce0}]},{'instances':_0x2328c1},_0x5bc8b3);}else _0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')]['LOG_LEVEL_ERROR'],_0x358a('0x16e')+_0x3c0939[_0x358a('0x86')]+'\x20'+_0x3c0939[_0x358a('0xa5')]),_0x5bc8b3(_0x358a('0x16f'));},function(_0x42dce0,_0x3c0939){if(void 0x0==_0x51e564[_0x358a('0x25')][_0x1b2411]||0x0==_0x51e564['updated_system_instances'][_0x1b2411][_0x358a('0x5d')](_0x2328c1=>0x2==_0x2328c1[_0x358a('0x5a')]&&_0x2328c1[_0x358a('0x59')]==_0x5ba205[_0x358a('0x164')]['sn'])[_0x358a('0x39')])if(_0x42dce0&&_0x42dce0[_0x358a('0x132')]){var _0x1df870=[];_0x42dce0[_0x358a('0x170')][_0x358a('0x143')]['forEach'](_0x2328c1=>{_0x2328c1[_0x358a('0x59')]==_0x5ba205[_0x358a('0x164')]['sn']?_0x1df870[_0x358a('0x65')](Object['assign']({},_0x2328c1,{'status':0x2})):_0x1df870[_0x358a('0x65')](_0x2328c1);}),_0x51e564['logger'][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x18')],_0x358a('0x171')+_0x1df870[_0x358a('0x3e')](_0x2328c1=>_0x2328c1[_0x358a('0xa5')]+'-'+_0x2328c1[_0x358a('0x59')]+'-'+_0x2328c1[_0x358a('0x5a')])[_0x358a('0x3f')](',\x20')),_0x51e564[_0x358a('0x25')][_0x1b2411]=_0x1df870,_0x3c0939(),_0x5bc8b3[_0x358a('0x172')]([function(_0x5bc8b3){_0x51e564[_0x358a('0x33')]['log'](_0x51e564[_0x358a('0x33')]['LOG_LEVEL_INFO'],_0x358a('0x173')+_0x5ba205['labels'][_0x358a('0xa7')]+'-'+_0x5ba205[_0x358a('0x164')]['hostname']+'-'+_0x5ba205['labels']['sn']),sapcontrol_operations$1[_0x2328c1[_0x358a('0x174')]['name']][_0x358a('0xf8')](_0x42dce0['soapcli'],{},_0x2328c1=>{_0x2328c1?_0x5bc8b3(_0x358a('0x175')):_0x5bc8b3();});},function(_0x2328c1){const _0x5bc8b3=Math['ceil'](0xf);_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x18')],_0x358a('0x176')+_0x5ba205[_0x358a('0x164')][_0x358a('0xa7')]+'-'+_0x5ba205['labels'][_0x358a('0xa5')]+'-'+_0x5ba205['labels']['sn']),_0x493715(_0x42dce0['soapcli'],_0x5bc8b3,0x4e20,_0x5ba205[_0x358a('0x164')]['sn'],_0x2328c1);},function(_0x2328c1){_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x18')],'trigger\x20stop\x20EC2\x20instance:'+_0x5ba205[_0x358a('0x164')][_0x358a('0xa7')]),_0x51e564[_0x358a('0x32')][_0x358a('0x177')](_0x5ba205[_0x358a('0x164')][_0x358a('0xa7')],_0x2328c1);}],function(_0x5bc8b3){if(_0x5bc8b3)switch(_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564['logger'][_0x358a('0x17')],_0x358a('0x178'),_0x5bc8b3),_0x5bc8b3){case _0x358a('0x15f'):_0x51e564[_0x358a('0x25')][_0x1b2411][_0x51e564[_0x358a('0x25')][_0x1b2411][_0x358a('0x159')](_0x2328c1=>_0x2328c1[_0x358a('0x59')]==_0x5ba205[_0x358a('0x164')]['sn'])][_0x358a('0x5a')]=-0x1;break;case _0x358a('0x175'):_0x51e564[_0x358a('0x25')][_0x1b2411][_0x51e564[_0x358a('0x25')][_0x1b2411]['findIndex'](_0x2328c1=>_0x2328c1[_0x358a('0x59')]==_0x5ba205[_0x358a('0x164')]['sn'])][_0x358a('0x5a')]=0x1;}else{const _0x5bc8b3=Math[_0x358a('0x179')](0xf);_0x169c3c(_0x51e564[_0x358a('0x32')],_0x5bc8b3,0x4e20,_0x5ba205[_0x358a('0x164')][_0x358a('0xa7')],_0x5bc8b3=>{_0x5bc8b3?(_0x51e564['logger']['log'](_0x51e564['logger'][_0x358a('0x17')],'sap\x20stop\x20failed:',_0x5bc8b3),_0x51e564[_0x358a('0x25')][_0x1b2411][_0x51e564['updated_system_instances'][_0x1b2411][_0x358a('0x159')](_0x2328c1=>_0x2328c1[_0x358a('0x59')]==_0x5ba205[_0x358a('0x164')]['sn'])][_0x358a('0x5a')]=0x1):(_0x51e564[_0x358a('0x25')][_0x1b2411][_0x51e564[_0x358a('0x25')][_0x1b2411][_0x358a('0x159')](_0x2328c1=>_0x2328c1[_0x358a('0x59')]==_0x5ba205[_0x358a('0x164')]['sn'])][_0x358a('0x5a')]=0x0,_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564['logger']['LOG_LEVEL_MIN'],_0x358a('0x17a')+_0x1b2411+'-'+_0x5ba205[_0x358a('0x164')][_0x358a('0xa7')]+'-'+_0x5ba205[_0x358a('0x164')][_0x358a('0xa5')]+'-'+_0x5ba205[_0x358a('0x164')]['sn']+_0x358a('0x17b')+(_0x2328c1[_0x358a('0x41')]+0x1)+')'),_0x51e564['logger'][_0x358a('0xce')](_0x51e564[_0x358a('0x33')]['LOG_LEVEL_DEBUG'],_0x358a('0x17c')+_0x3ba905+'\x20'+_0x1b2411+'\x20'+_0x5ba205['labels']['sn']+'\x20'+_0x5ba205[_0x358a('0x164')][_0x358a('0x16d')]+'\x20'+_0x2328c1[_0x358a('0x41')]+0x1),_0x51e564['pushgtw_cli'][_0x358a('0x17d')](_0x358a('0x41'),_0x358a('0xbc'),_0x3ba905,_0x1b2411,_0x5ba205['labels']['sn'],_0x5ba205[_0x358a('0x164')][_0x358a('0x16d')],_0x2328c1[_0x358a('0x41')]+0x1));});}});}else _0x51e564['logger']['log'](_0x51e564[_0x358a('0x33')][_0x358a('0x17')],_0x358a('0x17e')+_0x1b2411),_0x3c0939();else _0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564['logger'][_0x358a('0x18')],_0x358a('0x17f')+_0x1b2411+'\x20is\x20already\x20being\x20stopped.\x20Nothing\x20to\x20do.'),_0x3c0939();}],function(_0x2328c1){_0x2328c1&&_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x17')],_0x358a('0x180'),_0x2328c1),_0x42dce0(null,{'sending_sslcertifs':_0x51e564[_0x358a('0x22')][_0x3c0939[_0x358a('0x127')]+''],'instances':_0x51e564['updated_system_instances'],'syst_id':_0x3c0939['syst_id'],'error':_0x2328c1});}):(_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564['logger'][_0x358a('0x17')],_0x358a('0x181')),_0x42dce0());}function _0x1b2411(_0x2328c1,_0x493715){process[_0x358a('0xd5')][_0x358a('0x124')]='0';var _0x169c3c=_0x2328c1[_0x358a('0x163')],_0x3c0939=_0x2328c1[_0x358a('0x126')],_0x1b2411=_0x169c3c['labels']['instance'],_0x3ba905=_0x169c3c[_0x358a('0x164')][_0x358a('0x14b')];_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')]['LOG_LEVEL_INFO'],_0x358a('0x182'),_0x3c0939['ip_internal']+'-'+_0x3c0939[_0x358a('0x86')]),_0x3c0939?_0x5bc8b3[_0x358a('0xdf')]([function(_0x5bc8b3){_0x51e564['update_sending_ssl'](_0x2328c1[_0x358a('0x126')][_0x358a('0x127')],_0x2328c1['keys_buff'],_0x5bc8b3);},function(_0x5bc8b3){const _0x493715=_0x2328c1[_0x358a('0x126')][_0x358a('0x13f')]?{'protocol':_0x358a('0x12a'),'port_suffix':'14'}:{'protocol':_0x358a('0x12b'),'port_suffix':'13'},_0x42dce0=_0x493715[_0x358a('0x12c')]+_0x358a('0x10b')+(_0x2328c1[_0x358a('0x126')][_0x358a('0xa7')]||_0x2328c1[_0x358a('0x126')][_0x358a('0xa5')])+':5'+_0x2328c1[_0x358a('0x126')]['sn']+_0x493715[_0x358a('0x140')]+'/';_0x51e564[_0x358a('0xb3')][_0x358a('0x12d')](_0x2328c1[_0x358a('0x126')][_0x358a('0x127')]),_0x51e564[_0x358a('0x12e')](_0x42dce0,{'method':_0x2328c1[_0x358a('0x126')]['auth_method'],'options':[{'user':_0x2328c1['system'][_0x358a('0x130')],'pwd':_0x2328c1[_0x358a('0x126')][_0x358a('0x131')]},{'pfx':0x1==_0x2328c1['system'][_0x358a('0x12f')]&&_0x51e564[_0x358a('0x30')]+'/'+_0x2328c1[_0x358a('0x126')][_0x358a('0x127')]+_0x358a('0x11f')}]},_0x2328c1,_0x5bc8b3);},function(_0x5bc8b3,_0x493715){_0x5bc8b3[_0x358a('0x132')][_0x358a('0x73')]({},function(_0x42dce0,_0x5ba205){if(!_0x42dce0&&_0x5ba205&&_0x5ba205[_0x358a('0xd3')]&&_0x5ba205[_0x358a('0xd3')][_0x358a('0x9c')]){var _0x169c3c=_0x5ba205['instance'][_0x358a('0x9c')]['map'](_0x2328c1=>({'hostname':_0x2328c1[_0x358a('0xa5')],'instancenr':(''+_0x2328c1[_0x358a('0x133')])['padStart'](0x2,'0'),'features':_0x2328c1[_0x358a('0xb2')]['split']('|'),'status':_0x2328c1[_0x358a('0x135')]==_0x51e564['_sap_statuses']['green']?0x1:_0x2328c1['dispstatus']==_0x51e564[_0x358a('0x2a')][_0x358a('0x137')]?-0x1:0x0})),_0x3c0939=_0x51e564[_0x358a('0x166')](_0x5ba205[_0x358a('0xd3')][_0x358a('0x9c')]);_0x3c0939==_0x51e564[_0x358a('0x2a')][_0x358a('0x167')]||_0x3c0939==_0x51e564['_sap_statuses'][_0x358a('0x168')]?_0x493715(_0x51e564['_errors'][_0x358a('0x138')],_0x5bc8b3[_0x358a('0x132')]):(_0x51e564['pushgtw_cli'][_0x358a('0x114')]('up',_0x3ba905,_0x2328c1[_0x358a('0x126')][_0x358a('0x127')],_0x51e564[_0x358a('0x20')],_0x2328c1[_0x358a('0x126')][_0x358a('0x86')],0x1),_0x51e564[_0x358a('0x113')][_0x2328c1[_0x358a('0x126')][_0x358a('0x127')]]=0x0,_0x493715(null,_0x169c3c));}else _0x493715(_0x51e564['_errors'][_0x358a('0x13a')],_0x42dce0&&_0x42dce0['address']+'\x20'+_0x42dce0[_0x358a('0x10f')]);});},function(_0x493715,_0x1df870){_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564['logger'][_0x358a('0x19')],'start\x20system\x20'+_0x3c0939['syst_id']+_0x358a('0x16a')+_0x493715[_0x358a('0x3e')](_0x2328c1=>_0x2328c1[_0x358a('0xa5')]+'-'+_0x2328c1[_0x358a('0x59')]+'-'+_0x2328c1['status'])[_0x358a('0x3f')](',\x20'));var _0x51302c=_0x3c0939[_0x358a('0x143')]['filter'](_0x2328c1=>0x0==_0x2328c1[_0x358a('0x5a')]&&_0x2328c1[_0x358a('0xb2')][_0x358a('0x63')](_0x358a('0x13c'))<0x0&&_0x2328c1[_0x358a('0xb2')][_0x358a('0x63')](_0x358a('0x13d'))<0x0)['filter'](_0x2328c1=>_0x493715['filter'](_0x2328c1=>0x0==_0x2328c1[_0x358a('0x5a')])[_0x358a('0x3e')](_0x2328c1=>_0x2328c1[_0x358a('0x59')])[_0x358a('0x63')](_0x2328c1[_0x358a('0x59')])>=0x0||_0x493715['map'](_0x2328c1=>_0x2328c1['instancenr'])['indexOf'](_0x2328c1[_0x358a('0x59')])<0x0);if(_0x51302c&&_0x51302c['length']>0x0){var _0x192c29=_0x3c0939[_0x358a('0x143')][_0x3c0939[_0x358a('0x143')][_0x358a('0x159')](_0x2328c1=>_0x2328c1[_0x358a('0x59')]==_0x51302c[0x0][_0x358a('0x59')])];if(void 0x0==_0x51e564[_0x358a('0x25')][_0x1b2411]||0x0==_0x51e564['updated_system_instances'][_0x1b2411][_0x358a('0x5d')](_0x2328c1=>0x3==_0x2328c1[_0x358a('0x5a')])[_0x358a('0x39')]){_0x51e564[_0x358a('0x33')]['log'](_0x51e564['logger']['LOG_LEVEL_INFO'],_0x358a('0x183')+_0x169c3c[_0x358a('0x164')]['alertname']+_0x358a('0x184')+_0x192c29[_0x358a('0xa5')]+'-'+_0x192c29[_0x358a('0xa7')]+'-'+_0x192c29[_0x358a('0x59')]);var _0x3a0d01=[];_0x3c0939['instances'][_0x358a('0x57')](_0x2328c1=>{_0x2328c1[_0x358a('0x59')]==_0x192c29[_0x358a('0x59')]?_0x3a0d01[_0x358a('0x65')](Object[_0x358a('0x3c')]({},_0x2328c1,{'status':0x3})):_0x3a0d01[_0x358a('0x65')](_0x2328c1);}),_0x51e564['logger'][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x18')],_0x358a('0x185')+_0x3a0d01[_0x358a('0x3e')](_0x2328c1=>_0x2328c1[_0x358a('0xa5')]+'-'+_0x2328c1[_0x358a('0x59')]+'-'+_0x2328c1[_0x358a('0x5a')])[_0x358a('0x3f')](',\x20')),_0x51e564[_0x358a('0x25')][_0x1b2411]=_0x3a0d01,_0x1df870(),_0x5bc8b3['series']([function(_0x2328c1){_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x18')],'trigger\x20start\x20EC2\x20instance\x20'+_0x192c29[_0x358a('0xa7')]),_0x51e564[_0x358a('0x32')][_0x358a('0x186')](_0x192c29[_0x358a('0xa7')],_0x2328c1);},function(_0x2328c1){const _0x5bc8b3=Math[_0x358a('0x179')](0xf);_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')]['LOG_LEVEL_DEBUG'],_0x358a('0x187')+_0x192c29[_0x358a('0xa7')]),_0x5ba205(_0x51e564[_0x358a('0x32')],_0x5bc8b3,0x4e20,_0x192c29[_0x358a('0xa7')],_0x2328c1);},function(_0x2328c1){var _0x5bc8b3={};if(_0x493715['filter'](_0x2328c1=>0x1==_0x2328c1['status'])['forEach'](_0x2328c1=>{_0x5bc8b3[_0x2328c1[_0x358a('0x59')]]=_0x2328c1[_0x358a('0xb2')][_0x358a('0x3f')]('|');}),Object[_0x358a('0x16b')](_0x5bc8b3)[_0x358a('0x5d')](_0x2328c1=>!RegExp(_0x358a('0x13c'))['test'](_0x2328c1)&&!RegExp(_0x358a('0x13d'))[_0x358a('0x188')](_0x2328c1))[_0x358a('0x39')]<_0x51e564[_0x358a('0x189')]){var _0x42dce0=null;const _0x5bc8b3=_0x3c0939[_0x358a('0x13f')]?{'protocol':_0x358a('0x12a'),'port_suffix':'14'}:{'protocol':'http','port_suffix':'13'};var _0x5ba205=_0x5bc8b3[_0x358a('0x12c')]+'://'+(_0x192c29[_0x358a('0xa7')]||_0x192c29[_0x358a('0xa5')])+':5'+_0x192c29['instancenr']+_0x5bc8b3[_0x358a('0x140')]+'/';0x1==_0x3c0939[_0x358a('0x12f')]&&(_0x42dce0=_0x51e564[_0x358a('0x30')]+'/'+_0x3c0939['syst_id']+_0x358a('0x11f')),_0x51e564[_0x358a('0x12e')](_0x5ba205,{'method':_0x3c0939[_0x358a('0x12f')],'options':[{'user':_0x3c0939[_0x358a('0x130')],'pwd':_0x3c0939[_0x358a('0x131')]},{'pfx':_0x42dce0}]},{},_0x2328c1);}else _0x2328c1(_0x358a('0x18a'));}],function(_0x5bc8b3,_0x493715){var _0x5ba205=_0x493715[0x2];!_0x5bc8b3&&_0x5ba205&&_0x5ba205['soapcli']?(_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x18')],_0x358a('0x18b')+_0x192c29[_0x358a('0xa5')]+'-'+_0x192c29[_0x358a('0xa7')]+'-'+_0x192c29['instancenr']),sapcontrol_operations$1[_0x2328c1[_0x358a('0x174')][_0x358a('0x8c')]][_0x358a('0xf8')](_0x5ba205[_0x358a('0x132')],{},_0x5bc8b3=>{if(_0x5bc8b3)if(_0x5bc8b3[_0x358a('0x87')]){const _0x2328c1=_0x5bc8b3[_0x358a('0x87')][_0x358a('0x98')](/<faultstring>(.*?)<\/faultstring>/)&&_0x5bc8b3[_0x358a('0x87')][_0x358a('0x98')](/<faultstring>(.*?)<\/faultstring>/)[0x1];_0x51e564['updated_system_instances'][_0x1b2411][_0x51e564[_0x358a('0x25')][_0x1b2411][_0x358a('0x159')](_0x2328c1=>_0x2328c1[_0x358a('0x59')]==_0x192c29[_0x358a('0x59')])]['status']=_0x358a('0x18c')==_0x2328c1?0x1:0x0,_0x51e564['logger'][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x17')],_0x358a('0x18d')+_0x2328c1);}else _0x51e564['updated_system_instances'][_0x1b2411][_0x51e564[_0x358a('0x25')][_0x1b2411]['findIndex'](_0x2328c1=>_0x2328c1[_0x358a('0x59')]==_0x192c29[_0x358a('0x59')])]['status']=0x0,_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564['logger'][_0x358a('0x17')],'E\x20starting\x20sap\x20instance\x20error:'+_0x5bc8b3);else{const _0x5bc8b3=Math['ceil'](0xf);_0x51e564['logger'][_0x358a('0xce')](_0x51e564[_0x358a('0x33')]['LOG_LEVEL_DEBUG'],'waiting\x20for\x20instance\x20to\x20actually\x20start\x20within\x20timeout\x20300\x20sec:'+_0x192c29['hostname']+'-'+_0x192c29['ip_internal']+'-'+_0x192c29[_0x358a('0x59')]),_0x42dce0(_0x5ba205[_0x358a('0x132')],_0x5bc8b3,0x4e20,_0x192c29[_0x358a('0x59')],_0x5bc8b3=>{_0x5bc8b3?(_0x51e564[_0x358a('0x25')][_0x1b2411][_0x51e564[_0x358a('0x25')][_0x1b2411][_0x358a('0x159')](_0x2328c1=>_0x2328c1['instancenr']==_0x192c29['instancenr'])]['status']='Timeout\x20reached'==_0x5bc8b3?-0x1:0x0,_0x51e564['logger'][_0x358a('0xce')](_0x51e564[_0x358a('0x33')]['LOG_LEVEL_ERROR'],_0x358a('0x18d'),_0x5bc8b3)):(_0x51e564['updated_system_instances'][_0x1b2411][_0x51e564[_0x358a('0x25')][_0x1b2411][_0x358a('0x159')](_0x2328c1=>_0x2328c1[_0x358a('0x59')]==_0x192c29['instancenr'])][_0x358a('0x5a')]=0x1,_0x51e564[_0x358a('0x33')]['log'](_0x51e564['logger'][_0x358a('0xfb')],_0x358a('0x18e')+_0x1b2411+'-'+_0x192c29[_0x358a('0xa5')]+'-'+_0x192c29[_0x358a('0xa7')]+'-'+_0x192c29[_0x358a('0x59')]+_0x358a('0x17b')+(_0x2328c1[_0x358a('0x41')]+0x1)+')'),_0x51e564['logger'][_0x358a('0xce')](_0x51e564['logger']['LOG_LEVEL_DEBUG'],'pushCounter\x20start:\x20'+_0x3ba905+'\x20'+_0x1b2411+'\x20'+_0x169c3c['labels']['sn']+'\x20'+_0x169c3c[_0x358a('0x164')][_0x358a('0x16d')]+'\x20'+_0x2328c1[_0x358a('0x41')]+0x1),_0x51e564['pushgtw_cli']['pushCounter'](_0x358a('0x41'),_0x358a('0x18f'),_0x3ba905,_0x1b2411,_0x192c29['instancenr'],_0x169c3c[_0x358a('0x164')][_0x358a('0x16d')],_0x2328c1[_0x358a('0x41')]+0x1));});}})):(_0x51e564['logger'][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x17')],_0x358a('0x190'),_0x5bc8b3),_0x51e564[_0x358a('0x25')][_0x1b2411][_0x51e564['updated_system_instances'][_0x1b2411][_0x358a('0x159')](_0x2328c1=>_0x2328c1[_0x358a('0x59')]==_0x192c29[_0x358a('0x59')])]['status']=0x0);});}else _0x1df870(_0x358a('0x191'));}else _0x1df870('No\x20eligible\x20system\x20instance\x20to\x20be\x20started');}],function(_0x2328c1){_0x2328c1&&_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x17')],_0x358a('0x180'),_0x2328c1),_0x493715(null,{'sending_sslcertifs':_0x51e564[_0x358a('0x22')][_0x3c0939[_0x358a('0x127')]+''],'instances':_0x51e564[_0x358a('0x25')],'syst_id':_0x3c0939[_0x358a('0x127')],'error':_0x2328c1});}):(_0x51e564['logger'][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x17')],'No\x20system\x20provided'),_0x493715());}function _0x3ba905(_0x2328c1,_0x5bc8b3){if(_0x51e564[_0x358a('0x25')][_0x2328c1[_0x358a('0x127')]]){const _0x493715=_0x51e564[_0x358a('0x25')][_0x2328c1['syst_id']][_0x358a('0x5d')](_0x5bc8b3=>_0x5bc8b3[_0x358a('0x59')]==_0x2328c1['instance_nr'])[0x0];_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x19')],_0x358a('0x192')+_0x493715[_0x358a('0xa5')]+'-'+_0x493715[_0x358a('0x59')]+'-'+_0x493715[_0x358a('0x5a')]),_0x5bc8b3(null,{'sending_sslcertifs':_0x51e564[_0x358a('0x22')][_0x2328c1[_0x358a('0x127')]+''],'instances':_0x493715,'syst_id':_0x2328c1['syst_id']});}else _0x51e564[_0x358a('0x33')]['log'](_0x51e564[_0x358a('0x33')][_0x358a('0x17')],_0x358a('0x193')+_0x2328c1['syst_id']),_0x5bc8b3(_0x358a('0x194'));}function _0x1df870(_0x5bc8b3){var _0x493715=null,_0x42dce0=_0x5bc8b3['action'][_0x358a('0x195')][_0x358a('0x196')];switch(_0x5bc8b3['action'][_0x358a('0x8c')]){case _0x358a('0x197'):_0x493715={'text':_0x5bc8b3[_0x358a('0x198')][_0x358a('0x39')]+_0x358a('0x199')+(_0x5bc8b3[_0x358a('0x198')][_0x358a('0x39')]>0x1&&'s'||'')+'(\x20'+_0x5bc8b3['alerts'][_0x358a('0x5d')](_0x2328c1=>'firing'==_0x2328c1[_0x358a('0x5a')])[_0x358a('0x39')]+_0x358a('0x19a'),'blocks':function(_0x2328c1,_0x5bc8b3){var _0x493715=[];return _0x5bc8b3[_0x358a('0x39')]>0x0&&(_0x493715['push']({'type':_0x358a('0x19b'),'text':{'type':_0x358a('0x19c'),'text':_0x358a('0x19d')+_0x2328c1+'>'}}),_0x5bc8b3[_0x358a('0x57')](function(_0x2328c1){_0x493715[_0x358a('0x65')]({'type':'section','block_id':_0x2328c1['fingerprint'],'fields':[{'type':_0x358a('0x19c'),'text':_0x358a('0x19e')+_0x2328c1[_0x358a('0x164')][_0x358a('0x16d')]},{'type':_0x358a('0x19c'),'text':_0x358a('0x19f')+_0x2328c1['labels'][_0x358a('0x86')]+(void 0x0!=_0x2328c1[_0x358a('0x164')][_0x358a('0xa5')]&&''!=_0x2328c1[_0x358a('0x164')][_0x358a('0xa5')]?'@'+_0x2328c1[_0x358a('0x164')][_0x358a('0xa5')]:'')+(void 0x0!=_0x2328c1[_0x358a('0x164')]['sn']&&''!=_0x2328c1[_0x358a('0x164')]['sn']?'\x20['+_0x2328c1[_0x358a('0x164')]['sn']+']':'')}]});}),_0x493715['push']({'type':_0x358a('0x1a0')})),_0x493715;}('New\x20notifications',_0x5bc8b3[_0x358a('0x198')][_0x358a('0x5d')](_0x2328c1=>'firing'==_0x2328c1[_0x358a('0x5a')]))};break;case _0x358a('0x1a1'):_0x493715=_0x5bc8b3;var _0x5ba205=Object['keys'](_0x5bc8b3[_0x358a('0x174')][_0x358a('0x195')]);_0x5ba205[_0x358a('0x64')](_0x5ba205['indexOf']('endpoint'),0x1),_0x5ba205['forEach'](function(_0x2328c1){_0x42dce0+='&'+_0x2328c1+'='+_0x5bc8b3[_0x358a('0x174')][_0x358a('0x195')][_0x2328c1];});}null!=_0x493715&&_0x2328c1[_0x358a('0x47')](_0x42dce0,_0x493715)[_0x358a('0x67')](function(_0x2328c1){_0x51e564[_0x358a('0x33')]['log'](_0x51e564[_0x358a('0x33')][_0x358a('0x18')],_0x358a('0x1a2')+_0x5bc8b3[_0x358a('0x174')][_0x358a('0x8c')]);})[_0x358a('0x4a')](function(_0x2328c1){_0x2328c1&&_0x51e564[_0x358a('0x33')]['log'](_0x51e564[_0x358a('0x33')]['LOG_LEVEL_ERROR'],_0x2328c1);});}var _0x51e564=this;_0x51e564[_0x358a('0x1c')][_0x358a('0xcf')](_0x51e564[_0x358a('0x1d')][_0x358a('0x1a3')],_0x51e564[_0x358a('0x21')],function(_0x2328c1,_0x5bc8b3){if(_0x2328c1[_0x358a('0x150')][_0x358a('0x174')])switch(_0x2328c1['data'][_0x358a('0x174')]['type']){case 0x0:_0x1df870(_0x2328c1[_0x358a('0x150')]),_0x5bc8b3();break;case 0x1:switch(_0x2328c1['data'][_0x358a('0x174')]['name']){case _0x358a('0x72'):_0x2328c1[_0x358a('0x150')]['alerts']?_0x3c0939(_0x2328c1[_0x358a('0x150')],_0x5bc8b3):_0x5bc8b3();break;case'Start':_0x2328c1['data'][_0x358a('0x198')]?_0x1b2411(_0x2328c1['data'],_0x5bc8b3):_0x5bc8b3();break;case'UpdateScalingInstance':_0x3ba905(_0x2328c1[_0x358a('0x150')],_0x5bc8b3);break;default:_0x5bc8b3();}break;default:_0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')][_0x358a('0x17')],'action\x20type\x20not\x20supported:',_0x2328c1['data']['action'][_0x358a('0x153')]),_0x5bc8b3();}else _0x51e564[_0x358a('0x33')][_0x358a('0xce')](_0x51e564[_0x358a('0x33')]['LOG_LEVEL_ERROR'],_0x358a('0x1a4')),_0x5bc8b3();});},'get_cloud_region':function(_0x5bc8b3){var _0x493715=this;{const _0x42dce0='http://169.254.169.254/latest/meta-data/placement/availability-zone';_0x2328c1['get'](_0x42dce0)[_0x358a('0x67')](function(_0x2328c1){_0x2328c1[_0x358a('0x150')]?(_0x493715[_0x358a('0x33')][_0x358a('0xce')](_0x493715[_0x358a('0x33')][_0x358a('0x18')],_0x358a('0x1a5'),_0x2328c1[_0x358a('0x150')]),_0x493715['region']=_0x2328c1['data'][_0x358a('0x93')](0x0,-0x1),_0x5bc8b3()):(_0x493715['logger'][_0x358a('0xce')](_0x493715[_0x358a('0x33')][_0x358a('0x17')],_0x358a('0x1a6')),_0x5bc8b3());})['catch'](function(_0x2328c1){_0x2328c1&&_0x493715[_0x358a('0x33')][_0x358a('0xce')](_0x493715['logger'][_0x358a('0x17')],_0x358a('0x1a7'),_0x2328c1),_0x5bc8b3();});}},'check_system_status':function(_0x2328c1){for(var _0x5bc8b3=this,_0x493715=[],_0x42dce0=!0x1,_0x5ba205=0x0,_0x169c3c=_0x2328c1['length'];_0x5ba205<_0x169c3c;_0x5ba205++)if(_0x2328c1[_0x5ba205][_0x358a('0xb2')]['split']('|')[_0x358a('0x63')](_0x358a('0x13c'))>=0x0||_0x2328c1[_0x5ba205][_0x358a('0xb2')][_0x358a('0x62')]('|')['indexOf'](_0x358a('0x13d'))>=0x0){if(_0x2328c1[_0x5ba205]['dispstatus']!=_0x5bc8b3[_0x358a('0x2a')][_0x358a('0x136')]){_0x42dce0=!0x0;break;}}else _0x493715['push']({'instancenr':(''+_0x2328c1[_0x5ba205][_0x358a('0x133')])['padStart'](0x2,'0'),'status':_0x2328c1[_0x5ba205][_0x358a('0x135')]==_0x5bc8b3['_sap_statuses'][_0x358a('0x136')]?0x1:0x0});return _0x42dce0||0x0==_0x493715[_0x358a('0x9f')]((_0x2328c1,_0x5bc8b3)=>_0x2328c1+_0x5bc8b3,0x0)?_0x5bc8b3[_0x358a('0x2a')][_0x358a('0x167')]:_0x5bc8b3['_sap_statuses'][_0x358a('0x136')];},'check_failed_conn':function(_0x2328c1,_0x5bc8b3){var _0x493715=this;_0x493715[_0x358a('0x113')][_0x5bc8b3[_0x358a('0x126')][_0x358a('0x127')]]<=_0x493715[_0x358a('0x23')]?setTimeout(function(){_0x2328c1[_0x358a('0x73')]({},function(_0x42dce0,_0x5ba205){var _0x169c3c=_0x493715['check_system_status'](_0x5ba205['instance'][_0x358a('0x9c')]);(_0x5ba205&&_0x5ba205[_0x358a('0xd3')]&&_0x5ba205[_0x358a('0xd3')][_0x358a('0x9c')]&&(_0x169c3c==_0x493715['_sap_statuses']['red']||_0x169c3c==_0x493715[_0x358a('0x2a')][_0x358a('0x168')])||_0x42dce0)&&(_0x493715[_0x358a('0x113')][_0x5bc8b3['system'][_0x358a('0x127')]]++,_0x493715[_0x358a('0x149')](_0x2328c1,_0x5bc8b3));});},0x4e20):(_0x493715[_0x358a('0x14e')](_0x358a('0x146'),_0x5bc8b3[_0x358a('0x14b')],_0x5bc8b3['system']['syst_id'],_0x5bc8b3['system'][_0x358a('0x86')],_0x5bc8b3[_0x358a('0x126')][_0x358a('0x143')][_0x358a('0x3e')](_0x2328c1=>({'instancenr':_0x2328c1[_0x358a('0x59')],'status':0x0}))),_0x493715[_0x358a('0xb3')][_0x358a('0x114')]('up',_0x5bc8b3[_0x358a('0x14b')],_0x5bc8b3[_0x358a('0x126')][_0x358a('0x127')],_0x493715[_0x358a('0x20')],_0x5bc8b3[_0x358a('0x126')][_0x358a('0x86')],0x0));},'debug':function(_0x2328c1){this['logger']&&this['logger'][_0x358a('0x1a8')](_0x2328c1);}};var _0x4962a0=_0x51302c;try{var _0x1affaf=_0x4962a0,_0x44d07f=_0x169c3c,_0x3f7769=__dirname+_0x358a('0x1a9');if(!_0x44d07f[_0x358a('0x1aa')](_0x3f7769))throw console['error']('E\x20missing\x20configuration\x20file:',_0x3f7769),{'code':0x2};{const _0x2328c1=JSON[_0x358a('0x123')](_0x44d07f[_0x358a('0x1ab')](_0x3f7769));var _0xde880f=process[_0x358a('0xd5')]['NODE_ENV']||_0x358a('0xfe'),_0x5c55d1=new _0x1affaf();_0x5c55d1[_0x358a('0x1ac')](Object[_0x358a('0x3c')](_0x2328c1[_0xde880f],{'dbindex':0x1}),_0x5c55d1['checkconnection']),process['on'](_0x358a('0x1ad'),function(){console['log']('I\x20switching\x20debug\x20mode\x20ON'),_0x5c55d1[_0x358a('0x1a8')](!0x0);}),process['on'](_0x358a('0x1ae'),function(){console[_0x358a('0xce')](_0x358a('0x1af')),_0x5c55d1[_0x358a('0x1a8')](!0x1);});}}catch(_0x39272c){console['error'](_0x358a('0x1b0'),_0x39272c['code']||_0x39272c),process['exit'](0x1);}return process['on'](_0x358a('0x1b1'),function(_0x2328c1){return console['log'](_0x358a('0x1b2')+_0x2328c1);}),{};});
