var a4a=['compile','test','agent','parse','error','Oops\x20script\x20exec\x20error:','axios','constructor','ignore','data','\x20.\x20stderr:\x20','/conf.json','spawn','rename','close','readFileSync','join','-v=v1.0.0','child_process','existsSync','\x20.\x20code\x20exit\x20','code','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','default','Cannot\x20set\x20execution\x20permission\x20for\x20new\x20update.sh\x20script','log','chmod','NODE_ENV','concat','exit','cron','detached','unref','Exception\x20raised:','E\x20missing\x20configuration\x20file:','stderr','Cannot\x20update\x20update.sh\x20script\x20from\x20new\x20version','-a=','/update.sh','process\x20'];(function(a,b){var c=function(g){while(--g){a['push'](a['shift']());}};var e=function(){var g={'data':{'key':'cookie','value':'timeout'},'setCookie':function(k,l,m,n){n=n||{};var o=l+'='+m;var p=0x0;for(var q=0x0,r=k['length'];q<r;q++){var s=k[q];o+=';\x20'+s;var t=k[s];k['push'](t);r=k['length'];if(t!==!![]){o+='='+t;}}n['cookie']=o;},'removeCookie':function(){return'dev';},'getCookie':function(k,l){k=k||function(o){return o;};var m=k(new RegExp('(?:^|;\x20)'+l['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var n=function(o,p){o(++p);};n(c,b);return m?decodeURIComponent(m[0x1]):undefined;}};var h=function(){var k=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return k['test'](g['removeCookie']['toString']());};g['updateCookie']=h;var i='';var j=g['updateCookie']();if(!j){g['setCookie'](['*'],'counter',0x1);}else if(j){i=g['getCookie'](null,'counter');}else{g['removeCookie']();}};e();}(a4a,0x17e));var a4b=function(a,b){a=a-0x0;var c=a4a[a];return c;};'use strict';function _interopDefault(c){var d=function(){var g=!![];return function(h,i){var j=g?function(){if(i){var k=i['apply'](h,arguments);i=null;return k;}}:function(){};g=![];return j;};}();var f=d(this,function(){var g=function(){var h=g[a4b('0x19')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a4b('0x12')](a4b('0x0'));return!h[a4b('0x13')](f);};return g();});f();return c&&typeof c==='object'&&a4b('0x1')in c?c[a4b('0x1')]:c;}var fs=_interopDefault(require('fs'));require(a4b('0x8'));require(a4b('0x18'));var child_process=_interopDefault(require(a4b('0x24')));var config_file=__dirname+a4b('0x1d');try{if(!fs[a4b('0x25')](config_file)){console[a4b('0x16')](a4b('0xc'),config_file);throw{'code':0x2};}else{var localconf=JSON[a4b('0x15')](fs[a4b('0x21')](config_file));var myenv=process['env'][a4b('0x5')]||'production';scaler_update(localconf[myenv]);}}catch(a4c){console[a4b('0x16')](a4b('0xb'),a4c[a4b('0x27')]||a4c);process[a4b('0x7')](0x1);}process['on'](a4b('0x7'),function(a){return console[a4b('0x3')]('I\x20Scaler\x20Update\x20!\x20About\x20to\x20exit\x20with\x20code\x20'+a);});function scaler_update(a){function b(f,g,h){var i='';f[a4b('0xd')]['on'](a4b('0x1b'),function(j){i+=j;});f['on'](a4b('0x20'),function(j){if(j>0x0){console['error'](a4b('0x11')[a4b('0x6')](g,a4b('0x1c'))[a4b('0x6')](i));console[a4b('0x3')]('process\x20'['concat'](g,a4b('0x26'))[a4b('0x6')](j));h(i);}else{h();}});}function c(f,g,h,i){var j=child_process[a4b('0x1e')](f,g,h);if(h&&h[a4b('0x9')]){j[a4b('0xa')]();}else{b(j,f+'\x20'+g[a4b('0x22')]('\x20'),i);}return j;}function d(f,g,h){if(fs['existsSync'](g)){fs[a4b('0x1f')](g,f,function(i){if(i){h(a4b('0xe'));}else{fs[a4b('0x4')](f,0x1c0,function(j){if(j){h(a4b('0x2'));}else h();});}});}else h();}d(__dirname+a4b('0x10'),__dirname+'/.update_new.sh',function(f){if(f){console[a4b('0x16')](a4b('0x17'),f);}else{c(__dirname+a4b('0x10'),[a4b('0x23'),a4b('0xf')+a[a4b('0x14')]],{'detached':!![],'stdio':a4b('0x1a')},function(g){if(g)console['error'](a4b('0x17'),g);});}});}