var a1a=['forEach','red','checkconn_exec\x20authorization\x20error\x20for\x20SAP\x20instance:','rab56e993495f87e82568','rf831452f1b8c742fead0','string','r2b778d94531380c958ef','r4162b7460866dd16e593','}\x20error\x20connecting\x20to\x20instance:\x20','constructor','}\x20(start','root','_sap_statuses','resuming\x20interrupted\x20scale\x20processing\x20operation:','statusCode','gateway_creds','Instance\x20already\x20started','ScaleDoer\x20init\x20start','sap_start_triggered','ec2_start_triggered','GetQueueStatistic','(resume)\x20start\x20OK:','r690921766564cc95c40e','r040dab23af4510e7149f','production','E\x20isEC2StoppedFromID\x20error:','status','}\x20(notif):','assign','discover_exec','r53eebe4bcfc8e4e11765',')\x20partially\x20started\x20(EC2:OK,\x20SAP:NOK):\x20','rd28064b1b6a02e83d69f','}\x20collect_exec:\x20no\x20data\x20provided','enq','InstanceType','resume_context','error','r82088db4b59f4aaea8b5','#\x20TYPE\x20','\x20sec:\x20',',sn=\x22','writeFile','nb_workers','stop_ongoing','join','env','PrivateIpAddress','isArray','soap_client_getinstance','SAPControl-GRAY','J2EEGetSharedTableInfo','green','r335ac0fada359dc2a168','rac4f2bb8c900b7a4588b','delete','ICMGetConnectionList','(resume)\x20stop\x20error\x20:','compile','r5507a87adb9a843814b8','r53b4eb6eeef131884a85','Lan','port_suffix','Status','options','kue','update','r82f51da34fd4e64cd7d2','ec2_not_started','r6cd6ed29c886ed30605c','toJSON','getCredentials',')\x20candidates\x20instances:','address','SAPControl.cgi',')=\x20','separator','instancenr','sap','replace','set','errno','re59cb5e280e1e0b44c4a','trim','_resume_on_step','GetCallstack','aws-sdk','scaling_up\x20{instance=\x22','_errors','Oops\x20redis\x20client\x20error:','sap_stop_triggered','SIGUSR2',')\x20instance\x20is\x20already\x20being\x20stopped','is_direct','}\x20connect\x20sap','SAPControl-RED',')\x20current\x20buffered\x20instances:','ra3febaf705f0b3e94b08','hostname','\x22,cp_region=\x22','pushCounter\x20error:','rd81305f10db800bfa71f','\x20on\x20','Start\x20EC2\x20server\x20operation\x20timeout','instanceNr','timeout','createClient','instance_nr',')\x20waiting\x20for\x20EC2\x20instance\x20to\x20actually\x20start\x20within\x20timeout\x20','rd0074482b0529cb32e0f','ALL','resume_here_on_interruption','r9870d5e052ce6f50f908','\x22,type=\x22','no_start_candidate','SystemStatus','rfbbd3f86069568d629ad','System\x20instance\x20not\x20active','r46a607ebca2880de70b9','re9edaf9af49dedd76dc0','isEC2StoppedFromID','LOG_LEVEL_MIN',')\x20triggered\x20SAP\x20instance:','r37e0b9632995c39bb6dd','OperatingSystem','rbfe1f1651b51d67bc74b','E\x20getEC2ID\x20error:','r361b458eef37bcfd1026','push','GetInstanceProperties','Stop\x20EC2\x20server\x20operation\x20timeout\x20(but\x20SAP\x20instance\x20successfully\x20stopped)','https','enqueue_','*Notification*\x0a','r709dfa29ed094128337b','metrics_caches','r2939bbb672a85e65a35a','component','parent','/conf.json','status_instance_up','toUpperCase','check_system_status','r1de45da792a8697130be','RestartInstance','key','async','not\x20definition\x20for\x20','Name','process','default','instances','final','pshgtw:','r03ee55b42ebdc2c18a81','}\x20(notif)','labels','prototype','rb05c9f7bc67b56220cd1',')\x20triggered:\x20','Performance','r99d13cf3716dbb9bec98','workprocess','match','rce0128b3a37d805eed4a','raa23ccab68c12c7d94ed','NODE_TLS_REJECT_UNAUTHORIZED','r190450cc6f31a91a63d9','no\x20data\x20provided','get_cloud_region\x20:\x20no\x20data','GetSystemInstanceList','lines','r03fc230a0569c81dd3b9','firing','collect_exec','InstanceState','No\x20active\x20SAP\x20instance\x20available','is_encrypted','r529f3a179b1611ff66ca','*System*\x0a',',network_int=\x22','ra08cadce511ff197b26d','Set','r84e26868c42700105908','InstanceStatuses','rbcf42cf954a8b1ab485b','action','r63a325a6fc9cd7455ee7','counter','ec2_stop_triggered','kpi_prefix_sap','ActualValue','sap_instances_ip','post',')\x20on\x20','rf9db5f6d644bd379ea77','pop','round','r590bf147ef64eeafadb3','r66c704c25f2db6ac805c','E\x20isEC2RunningFromID\x20error:','r4c95fa093bc7d290fced','#\x20TYPE\x20status_instance_up\x20gauge\x0a','no_active_instance','username','soapcli',':\x20delete\x20\x27','r23d9446a001853d37fc1','r991f6fd4cdd5c01d11ee','substring','pshgtw::delInstance::error\x20:','init','instance_id','Start\x20SAP\x20instance\x20operation\x20failed','Result\x20of\x20(','#\x20TYPE\x20scaling_up\x20gauge\x0a','ip_internal','status_up\x20{instance=\x22','/version/',')\x20error:','r9066a7800a292a1904c6','conn_retries_max','}\x20(restart\x20-','No\x20system\x20provided','updated_system_instances','new','map','raceb1f507d73610d4985','check_sapcontrol_listening:\x20SOAP\x20client\x20init\x20exception:','protocol','rf041428ca117772f3c65','}\x20sapcontrol\x20exec\x20operation\x20error:','isEC2RunningFromID','password','rddf7c86738135cc9feba','conn_retries','ICMGetCacheEntries','://','ra636956dad6e6dd5e5c9','btc','r5192532048d831a95037',',ip_internal=\x22','keys_buff','rce36a026a223ead06904','status_instance_up\x20{instance=\x22','ws_not_reachable','LOG_LEVEL_ERROR','pushUpInstance\x20error:','SAPControl-YELLOW','keys','soap','split','execution\x20error\x20of\x20(','find','new_soap_client','NODE_ENV','slice','max','is_sap','rf80e88ba805e079b3e78','rdae4b6632805cde75d91','soap_client_init','http','I/O','waterfall','r436d44a1adf050f0b97e','Error:','Arguments','COLLECT','getEC2ID','unit',')\x20fully\x20started:','Error\x20getting\x20instance\x20list','QUEUES','rule_id','r46e57e1c52332b5a5a99','raa9c88633a52a77fde21','stack','exit','rcf1d727056f77b00d328','stringify','gateway','toLowerCase','\x20version:','r55bee04c50e70d63d98d','apply','endpoint','r5edea82e53e6ce3cb66d','iterator','Stop\x20SAP\x20instance\x20already\x20ongoing','r32efa73bcdf4efd261c9','dia','[CHECKS\x20FAILED]\x20{','r210d71a176f50c7d0d0d','kpi','company','Stop','r6a775f58d6096e8f3fee','findIndex','#\x20TYPE\x20counter_','host','r345da673d33003cbcd34','ec2_not_found','log','Instances','J2EEGetRemoteObjectList','readFileSync','/.aws_vpc','ENQUE','\x20sec:','scale','nothing\x20found','port','ec2_not_stopped','running','r10377ca91782901d471c','discoverEC2Instances\x20filter:','r1474d7fbb9a7324bfe8b','finally','New\x20notifications','up2','each','<https://scaling.worqloads.com|','rd1e8793e1e910c6d0f9c','ec2','rb7a007dae35fc36db7f0','get','no_system_conn','ICMGetProxyConnectionList','r652fea692b19d3b13951','protocole','J2EEGetClusterMsgList','logger','re8eece2435bbe0e78f2b','startEC2','begin','AWS\x20credentials\x20keys\x20not\x20loadded','[CANCELLED]\x20{','r4ff46d82c7ee5abddf08','\x20from\x20alert\x20','r1fcaba9bdf50c7f3ffae','r8fbddd3ad25e66b66d75','r4b45792fb7e0ea8585f8','EC2\x20server\x20to\x20start\x20cannot\x20be\x20found','r4c77e11f61d1fde79248','r85011b7d9cfd9bfc465c','alerts','system','kpiname_separator','Start','r657cbd37fc1f0469a93f','InstanceAsTask','pushUpScaling\x20error:',')\x20sap\x20instance\x20error:','System\x20details\x20not\x20found','deletePrometheus','tree','redis_conf','lock','}\x20instances:','EnqGetLockTable','generateGroupings','r50623b529d52cc31023e','scaling_up','_workprocess_','\x20notification',',db_datafile=\x22','Filesystems','\x20entity=','EC2','AccessCheck','rbceb4ef80d4607215929','toString','is_sap_or_down','features','J2EEGetThreadList2','payload','/pshgtw','axios','padStart','conn_retries_delay_msec','rc1636d9b64ba1c7d299a','data','r4fb8652508296ac45931',',rule_id=\x22','}\x20sapcontrol:','values','http://',',workproces=\x22','r91342b9fa4eab746dc3c','Invalid\x20attempt\x20to\x20spread\x20non-iterable\x20instance.\x0aIn\x20order\x20to\x20be\x20iterable,\x20non-array\x20objects\x20must\x20have\x20a\x20[Symbol.iterator]()\x20method.','checkconn_exec\x20error\x20getting\x20SAP\x20instance\x20details\x20(IP,\x20cloud\x20instance\x20ID\x20and\x20type):','r8f375412da87e131abcb','\x20(counter=','}\x20(update)\x20:','ra1be4ede3f473d907098','code',')\x20alert:','now','Valid\x20SAP\x20IP\x20NR\x20:','r9f9daf2c0f512192f12e','r3e122758d5252afdf301','vpc-id','length','r7296cee0472b5c42a056','r4a905c628adb036f5ebc','(resume)\x20stop\x20on:','start_ongoing','find_sap_instances\x20params:\x20','[COMPLETED]\x20{','r6bb54153c3cd0e34ef79',':1128/SAPHostControl/?wsdl','eachOf','rd2da0178505f01ac6a56','addInstance','start\x20action\x20data:','\x20gauge\x0a','\x22,company_id=\x22','counter_updated','resume_on_step','2016-11-15','UpdateScalingInstance','I\x20Scaler\x20Collect\x20!\x20About\x20to\x20exit\x20with\x20code\x20','rc435f687bffdc6d17d11','SIGUSR1','abort','describeInstanceStatus','status_up','properties',')\x20requested\x20for\x20instance\x20:','E\x20isEC2sRunning\x20error:','rb038a9a2c15d45bbcb04','method','\x20error:','GetAlertTree','{\x22root\x22:{}}','db_datafile','BasicAuthSecurity','rc70c916b6592c27704df','r28ac155def5413926a04','Error\x20getting\x20system\x20instance\x20latest\x20status\x20','r8a385ea327ece206db01','LOG_LEVEL_INFO','get_cloud_region:','r9092c8b2288a642d30a8','ra63c6d1f016107b0abcf',',features=\x22','splice','assign_hierarchy','__DEBUG__','filesystem',',database=\x22','Error\x20starting\x20EC2\x20instance','percent','type','GetEnvironment','connect_sap','rfc57ce1d5fc7792fcebe','r265a148ef5bd3d04ca07','[PENDING]\x20{','ceil','EC2\x20server\x20could\x20not\x20be\x20stopped\x20(but\x20SAP\x20instance\x20successfully\x20stopped)','Object','https://','value','email','\x22}\x200\x0a','r27823c02ac78c807f5de','network_int','alert','max_instance_running','watchStuckJobs','J2EEGetCacheStatistic2','r7d72640cccaa75eaf713',')\x20waiting\x20for\x20SAP\x20instance\x20to\x20actually\x20start\x20within\x20timeout\x20','\x22,sn=\x22','sending_sslcertifs','\x27\x20timeserie\x20data,\x20set\x20status=0\x20\x27up\x27\x20timeserie','}\x20(restart-','yellow','delSerie','heap','r27ba8feb2c4c546a4152','missing\x20pfx','check_start_ec2_instance:','command','agent','rb6e830dd1ea871ad8899','checkconn_exec','pushUpInstance','[FAILED]\x20{}\x20(start','r23bee686be5fda753179','\x20WSDL\x20of\x20','global_log_level','hold','r6c05150afc9c97508dea','counter_','instance=\x22','re7c8da36761c7429a194','thread','LOG_LEVEL_DEBUG','I\x20switching\x20debug\x20mode\x20ON','setSecurity','__nb','restricted_kpis','rd4fcf8328ecbd58596b0','rffadbacb14fad0388ee5','(resume)\x20action\x20type\x20not\x20supported:','F_OK','Error\x20stopping\x20EC2\x20instance','call','aws_cli','parallel','/metrics/job/','Reservations','r5fa62eac76fca09570cb','sid','crypto','pushgtw_cli','then','\x22,sid=\x22','Server\x20Configuration','concat','get_sap_instances','rce322cd74d5847a2a37f','stop',')\x20:','re9c03ba5a6cf356f87c9','SAPControl-GREEN','Exception\x20Unexcepted\x20error:','auth_method','from','gray','SAP\x20control\x20WS\x20not\x20reachable','msg','pushUpSAPInstance','database','series','defineProperty','setMaxListeners','dispstatus','MESSAGESERVER','ICM','isEC2Running','GetProcessList','min_instances_reached','re231794108ea049c510b','cloud_instance_is_sap_or_down','describeInstances','re43358b5f71bf7b9b33a',',hostname=\x22','/?wsdl','discoverEC2Instances','save_resume_step','user','syst_id','Typ','idx','existsSync','filter','\x20connect\x20to\x20the\x20entry\x20point\x20instance\x20and\x20provide\x20soapclient\x20for\x20:','):\x20no\x20system\x20provided','\x22\x20}\x20','conn_failed','r0491b9fc7fc0c1ed612a','(resume)\x20actions\x20error:','startInstances','parse','mappings_ip_id','item','J2EEGetThreadTaskStack','re1cbdcb73780e3bdfb36','indexOf','SOAP\x20client\x20could\x20not\x20be\x20created','[FAILED]\x20{','#\x20TYPE\x20status_up\x20gauge\x0a','}\x20checkconn_exec\x20system','r82c436ecec51222acaee','ABAPGetSystemWPTable',')\x20no\x20soap\x20client\x20created\x20for\x20system\x20instance\x20','Unexcepted\x20error','pushInstance','r42cda9d2b8d1e2ca5c5b','origin','r3731b868ab6a189fad20','Map','State','items',')\x20partially\x20stopped\x20(SAP:OK,\x20EC2:NOK):',')\x20already\x20started:','System\x20instance\x20not\x20indexed','\x22,features=\x22','r83341d366fbbd3dd725e','r9d9e6e7398c8824e81b3','start','region','/staging/','test','up_timeseries','private-ip-address','GetVersionInfo','body','r7c58fc41ca7901f7d01e','r9c3618e5fb721740773c','r421bbad7bcce86124109','max_instances_reached','?wsdl','r45b2cebbd4d7206037ff','r5130ec262e8001c71b63','No\x20SAP\x20system\x20or\x20no\x20system\x20connection\x20active','r792c05a3f02afc263c5a','Possible\x20combinations\x20of\x20IP\x20nr:','connection','pfx','sapctrl_process_func','concurrency_nb','mrkdwn','\x22,entity_id=\x22','EnqGetStatistic','InstanceStatus','J2EEGetProcessList2','certif_dir','resume_instance_to_start','r92cae2d1732a92c30110','re920bcf404cb8d2e36f2','SOAP\x20client\x20init\x20exception:','pshgtw::delSerie::error\x20:','r327ab1a623b81f16bb28','No\x20EC2\x20instance\x20found','entity_id','version','r3dd3add7a10f8e1a3fd5','func','debug','J2EEGetComponentList','queue','instance','instance_type','catch','_id','r59f9520cfd70ae9f2dac','rfb5df2a2440192201d3f','collect','raf8f5c1c0382364207d5','undefined','E\x20missing\x20configuration\x20file','.pfx','description','setEndpoint','Code','sapcontrol_operations','ICMGetThreadList','\x20{policy_name=\x22','SSL\x20Keys\x20not\x20provided\x20for\x20','ABAPGetComponentList','E\x20discoverSAPInstances\x20error:','Network_','check_failed_conn',',filesystem=\x22','r4834b22bf2e167eec413','redis_cli','rd8d5b640eea865041c93',')\x20no\x20system\x20provided','InstanceId','stopInstances','alertname','R3Services','\x20new)','CHECK','reduce','Disk_','J2EEGetVMHeapInfo','r0337b93f18e636174af5','Stop\x20SAP\x20instance\x20operation\x20timeout','createDecipheriv','ClientSSLSecurityPFX','}\x20(update)\x20system\x20not\x20active:','rc5429e6293709c0143b6','No\x20IP\x20','\x20-\x20','r5f50370755f8497cd69c','credentials_not_loaded','ScaleDoer\x20init\x20completed\x20with\x20queues:','staging','Maximal\x20autorized\x20running\x20instances\x20reached','rb4ef150604770a802c7d','state','name','min_instance_running','r7ac5719dddcd6cfe5f47','createQueue','r8bc260d6056d562c74a7',')\x20update\x20to\x20transition\x20status:','cloud_instance_id','r734f34a9c8d198a1765c','J2EEGetWebSessionList',')\x20waiting\x20SAP\x20instance\x20to\x20stop\x20before\x20timeout\x20','r1a2fb16f5a163921d090','}\x20(stop','J2EEGetThreadCallStack','\x22}\x20','parameters','r083b2fc6cba07dbf4688','normal_instance_to_start','wait','gtw_url','rb012f694f06baded5843','quit','rf0fe0a692443ce6dcc3d',':\x20exec\x20error:','update_sending_ssl','config','Stop\x20SAP\x20instance\x20operation\x20failed','hex'];(function(a,b){var c=function(g){while(--g){a['push'](a['shift']());}};var e=function(){var g={'data':{'key':'cookie','value':'timeout'},'setCookie':function(k,l,m,n){n=n||{};var o=l+'='+m;var p=0x0;for(var q=0x0,r=k['length'];q<r;q++){var s=k[q];o+=';\x20'+s;var t=k[s];k['push'](t);r=k['length'];if(t!==!![]){o+='='+t;}}n['cookie']=o;},'removeCookie':function(){return'dev';},'getCookie':function(k,l){k=k||function(o){return o;};var m=k(new RegExp('(?:^|;\x20)'+l['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var n=function(o,p){o(++p);};n(c,b);return m?decodeURIComponent(m[0x1]):undefined;}};var h=function(){var k=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return k['test'](g['removeCookie']['toString']());};g['updateCookie']=h;var i='';var j=g['updateCookie']();if(!j){g['setCookie'](['*'],'counter',0x1);}else if(j){i=g['getCookie'](null,'counter');}else{g['removeCookie']();}};e();}(a1a,0xa5));var a1b=function(a,b){a=a-0x0;var c=a1a[a];return c;};'use strict';function _interopDefault(c){var d=function(){var g=!![];return function(h,i){var j=g?function(){if(i){var k=i[a1b('0x78')](h,arguments);i=null;return k;}}:function(){};g=![];return j;};}();var f=d(this,function(){var g=function(){var h=g[a1b('0x22e')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a1b('0x25f')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!h['test'](f);};return g();});f();return c&&typeof c==='object'&&'default'in c?c[a1b('0x2bb')]:c;}var kue=_interopDefault(require(a1b('0x266')));var redis=_interopDefault(require('redis'));var fs$1=_interopDefault(require('fs'));var async=_interopDefault(require(a1b('0x2b7')));var crypto=_interopDefault(require(a1b('0x160')));var soap=_interopDefault(require('soap'));var http=_interopDefault(require(a1b('0x61')));var axios=_interopDefault(require(a1b('0xd5')));var moment=_interopDefault(require('moment'));var awsSdk=_interopDefault(require(a1b('0x27b')));function PushCli(a,b,c){this[a1b('0x1d1')]=b;this['staging']=c;this['gtw_url']=a;this[a1b('0x2ac')]={};this['up_timeseries']={};}PushCli['prototype']={'Constructor':PushCli,'assign_hierarchy':function assign_hierarchy(a,b,c){var d=b['length']-0x1;for(var f=0x0;f<d;++f){var g=b[f];if(!(g in a)){a[g]={};}a=a[g];}a[b[d]]=c;},'generateGroupings':function generateGroupings(a){var b=this;if(!a){return a1b('0x35')+b[a1b('0x1d1')]+a1b('0x1af')+b[a1b('0x206')];}var c=Object[a1b('0x241')](a,{'version':b['version'],'staging':b[a1b('0x206')]});return Object[a1b('0x54')](c)[a1b('0x3d')](function(d){return'/'['concat'](encodeURIComponent(d),'/')[a1b('0x165')](encodeURIComponent(c[d]));})[a1b('0x252')]('');},'addInstance':function addInstance(a){if(!this[a1b('0x2ac')][a])this[a1b('0x2ac')][a]={};},'pushCounter':function pushCounter(){var a=arguments[a1b('0xee')]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:a1b('0x17');var b=arguments[a1b('0xee')]>0x1?arguments[0x1]:undefined;var c=arguments[a1b('0xee')]>0x2?arguments[0x2]:undefined;var d=arguments[a1b('0xee')]>0x3?arguments[0x3]:undefined;var f=arguments['length']>0x4?arguments[0x4]:undefined;var g=arguments[a1b('0xee')]>0x5?arguments[0x5]:undefined;var h=arguments['length']>0x6?arguments[0x6]:undefined;var i=this;var j={'instance':c,'system_id':d,'instancenr':f};var k=a1b('0x86')+b+a1b('0xfb');async[a1b('0x174')]([function(l){if(h==0x1){var m=k+a1b('0x14b')+b+a1b('0x1e7')+g+a1b('0x12d');axios[a1b('0x1c')](i[a1b('0x21c')]+a1b('0x15c')+encodeURIComponent(a)+i[a1b('0xc4')](j),m)[a1b('0x1d9')](function(n){if(n){console[a1b('0x24a')](a1b('0x289'),n);}})['finally'](function(){setTimeout(function(){l();},0x61a8);});}else l();},function(l){var m=k+a1b('0x14b')+b+a1b('0x1e7')+g+a1b('0x217')+h+'\x0a';axios['post'](i[a1b('0x21c')]+a1b('0x15c')+encodeURIComponent(a)+i[a1b('0xc4')](j),m)[a1b('0x1d9')](function(n){if(n){console['error'](a1b('0x289'),n);}})[a1b('0x99')](function(){l();});}]);},'pushUpInstance':function pushUpInstance(){var a=arguments[a1b('0xee')]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:'up';var b=arguments['length']>0x1?arguments[0x1]:undefined;var c=arguments[a1b('0xee')]>0x2?arguments[0x2]:undefined;var d=arguments[a1b('0xee')]>0x3?arguments[0x3]:undefined;var f=arguments[a1b('0xee')]>0x4?arguments[0x4]:undefined;var g=arguments[a1b('0xee')]>0x5?arguments[0x5]:undefined;var h=this;var i=h[a1b('0x1b1')][c]&&h['up_timeseries'][c][a1b('0x106')]&&h[a1b('0x1b1')][c][a1b('0x106')][b+'+'+d+'+'+f];if(i==null){h[a1b('0x11b')](h[a1b('0x1b1')],[c,a1b('0x106'),b+'+'+d+'+'+f],g);}if(i!==g){var j=a1b('0x19a')+a1b('0x34')+c+a1b('0x1c4')+b+a1b('0x163')+f+a1b('0x288')+d+a1b('0x18d')+g+'\x0a';axios[a1b('0x1c')](h[a1b('0x21c')]+'/metrics/job/'+encodeURIComponent(a)+h[a1b('0xc4')]({'instance':c}),j)[a1b('0x1d9')](function(k){console[a1b('0x24a')](a1b('0x52'),k);});}},'pushUpScaling':function pushUpScaling(){var a=arguments[a1b('0xee')]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:'up';var b=arguments[a1b('0xee')]>0x1?arguments[0x1]:undefined;var c=arguments['length']>0x2?arguments[0x2]:undefined;var d=arguments['length']>0x3?arguments[0x3]:undefined;var f=this;var g=f[a1b('0x1b1')][c]&&f[a1b('0x1b1')][c][a1b('0xc6')]&&f[a1b('0x1b1')][c][a1b('0xc6')][b];if(g==null){f['assign_hierarchy'](f[a1b('0x1b1')],[c,a1b('0xc6'),b],d);}if(g!==d){var h=a1b('0x32')+a1b('0x27c')+c+a1b('0x1c4')+b+'\x22\x20}\x20'+d+'\x0a';axios[a1b('0x1c')](f['gtw_url']+a1b('0x15c')+encodeURIComponent(a)+f['generateGroupings']({'instance':c}),h)[a1b('0x1d9')](function(i){console[a1b('0x24a')](a1b('0xbb'),i);});}},'pushUpSAPInstance':function pushUpSAPInstance(){var a=arguments[a1b('0xee')]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:'up';var b=arguments[a1b('0xee')]>0x1?arguments[0x1]:undefined;var c=arguments[a1b('0xee')]>0x2?arguments[0x2]:undefined;var d=arguments[a1b('0xee')]>0x3?arguments[0x3]:undefined;var f=arguments[a1b('0xee')]>0x4?arguments[0x4]:undefined;var g=arguments['length']>0x5?arguments[0x5]:undefined;var h=this;var i='';g[a1b('0x225')](function(j){if(h[a1b('0x1b1')][c]&&h[a1b('0x1b1')][c]['status_instance_up']&&h[a1b('0x1b1')][c][a1b('0x2b1')][b+'+'+d+'+'+f+'+'+j[a1b('0x272')]]==null){h[a1b('0x11b')](h[a1b('0x1b1')],[c,a1b('0x2b1'),b+'+'+d+'+'+f+'+'+j[a1b('0x272')]],j['status']);}i+=a1b('0x4f')+c+a1b('0x1c4')+b+a1b('0x163')+f+a1b('0x288')+d+a1b('0x136')+j[a1b('0x272')]+'\x22}\x20'+j[a1b('0x23f')]+'\x0a';});if(i!=''){axios['post'](h[a1b('0x21c')]+'/metrics/job/'+encodeURIComponent(a)+h[a1b('0xc4')]({'instance':c}),a1b('0x25')+i)[a1b('0x1d9')](function(j){console[a1b('0x24a')]('pushUpSAPInstance\x20error:',j);});}},'pushInstance':function pushInstance(a,b,c){var d=this;if(d['metrics_caches'][b]){var f=Object[a1b('0x54')](d[a1b('0x2ac')][b])[a1b('0x18a')](function(g){return d[a1b('0x2ac')][b][g][a1b('0xee')]>0x0;});async[a1b('0x9c')](f,function(g,h){var i=a1b('0x24c')+g+'\x20gauge\x0a'+d['metrics_caches'][b][g][a1b('0x3d')](function(j){return g+'\x20'+j;})[a1b('0x252')]('\x0a')+'\x0a';axios[a1b('0x1c')](d['gtw_url']+a1b('0x15c')+encodeURIComponent(a)+d['generateGroupings']({'instance':b}),i)[a1b('0x162')](function(j){d[a1b('0x2ac')][b][g]=[];h();})[a1b('0x1d9')](function(j){d[a1b('0x2ac')][b][g]=[];h(j);});},function(g){if(g){console[a1b('0x24a')]('pushInstance\x20error:',g);}d[a1b('0x2ac')][b]={};if(c){c();}});}else if(c){c();}},'set':function set(a,b,c,d){var f=this;var g=b[a1b('0x274')](/-|\(|\)|\[|\]|\%|\+|\.|\s/g,'_');var h=c==null?0x0:isNaN(c)?Math[a1b('0x20')](parseInt(moment(c,'YYYY/MM/DD\x20hh:mm:ss')['format']('X'))):Math[a1b('0x20')](parseInt(c));if(!f[a1b('0x2ac')][d][g])f['metrics_caches'][d][g]=[];var i=f[a1b('0x2ac')][d][g]['map'](function(j){return j[a1b('0x56')]('\x20')[0x0];})[a1b('0x197')](a);if(i>=0x0){f['metrics_caches'][d][g]['splice'](i,0x1);}f['metrics_caches'][d][g][a1b('0x2a5')](a+'\x20'+h);},'del':function del(a,b){var c=this;axios[a1b('0x25c')](c['gtw_url']+a1b('0x15c')+encodeURIComponent(a)+c[a1b('0xc4')]({'instance':b}))[a1b('0x162')](function(d){})[a1b('0x1d9')](function(d){console[a1b('0x24a')]('pshgtw::del::error\x20:',d);});},'delSerie':function delSerie(a,b){var c=this;axios[a1b('0x25c')](c[a1b('0x21c')]+a1b('0x15c')+encodeURIComponent(a)+c['generateGroupings'](b))[a1b('0x162')](function(d){})['catch'](function(d){console[a1b('0x24a')](a1b('0x1cd'),d);});},'delInstance':function delInstance(a,b){var c=this;axios[a1b('0x25c')](c[a1b('0x21c')]+a1b('0x15c')+encodeURIComponent(a)+c['generateGroupings']({'instance':b}))['then'](function(d){})[a1b('0x1d9')](function(d){console[a1b('0x24a')](a1b('0x2d'),d);});}};var pushcli=PushCli;function _defineProperty(a,b,c){if(b in a){Object[a1b('0x175')](a,b,{'value':c,'enumerable':!![],'configurable':!![],'writable':!![]});}else{a[b]=c;}return a;}var sapcontrol_operations={'ABAPGetComponentList':function ABAPGetComponentList(a,b){this[a1b('0x1e9')](a,b);},'GetProcessList':function GetProcessList(a,b){this[a1b('0x17b')](a,b);},'GetAlerts':function GetAlerts(a,b){this['GetAlerts'](a,b);},'GetAlertTree':function GetAlertTree(a,b){this[a1b('0x10d')](a,b);},'GetEnvironment':function GetEnvironment(a,b){this[a1b('0x122')](a,b);},'GetVersionInfo':function GetVersionInfo(a,b){this[a1b('0x1b3')](a,b);},'GetQueueStatistic':function GetQueueStatistic(a,b){this[a1b('0x239')](a,b);},'GetInstanceProperties':function GetInstanceProperties(a,b){this[a1b('0x2a6')](a,b);},'ABAPGetWPTable':function ABAPGetWPTable(a,b){this['ABAPGetWPTable'](a,b);},'Start':function Start(a,b){this[a1b('0xb8')](a,b);},'Stop':function Stop(a,b){this[a1b('0x83')](a,b);},'RestartInstance':function RestartInstance(a,b){this[a1b('0x2b5')](a,b);},'GetSystemInstanceList':function GetSystemInstanceList(a,b){this[a1b('0x5')](a,b);},'ABAPGetSystemWPTable':function ABAPGetSystemWPTable(a,b){this[a1b('0x19d')](a,b);},'GetCallstack':function GetCallstack(a,b){this[a1b('0x27a')](a,b);},'J2EEGetProcessList2':function J2EEGetProcessList2(a,b){this[a1b('0x1c7')](a,b);},'J2EEGetThreadList2':function J2EEGetThreadList2(a,b){this['J2EEGetThreadList2'](a,b);},'J2EEGetWebSessionList':function J2EEGetWebSessionList(a,b){this[a1b('0x212')](a,b);},'J2EEGetCacheStatistic2':function J2EEGetCacheStatistic2(a,b){this[a1b('0x133')](a,b);},'J2EEGetVMHeapInfo':function J2EEGetVMHeapInfo(a,b){this[a1b('0x1fa')](a,b);},'J2EEGetEJBSessionList':function J2EEGetEJBSessionList(a,b){this['J2EEGetEJBSessionList'](a,b);},'J2EEGetRemoteObjectList':function J2EEGetRemoteObjectList(a,b){this[a1b('0x8c')](a,b);},'J2EEGetClusterMsgList':function J2EEGetClusterMsgList(a,b){this['J2EEGetClusterMsgList'](a,b);},'J2EEGetSharedTableInfo':function J2EEGetSharedTableInfo(a,b){this[a1b('0x258')](a,b);},'J2EEGetThreadCallStack':function J2EEGetThreadCallStack(a,b){this['J2EEGetThreadCallStack'](a,b);},'J2EEGetThreadTaskStack':function J2EEGetThreadTaskStack(a,b){this[a1b('0x195')](a,b);},'J2EEGetComponentList':function J2EEGetComponentList(a,b){this[a1b('0x1d5')](a,b);},'ICMGetThreadList':function ICMGetThreadList(a,b){this[a1b('0x1e6')](a,b);},'ICMGetConnectionList':function ICMGetConnectionList(a,b){this[a1b('0x25d')](a,b);},'ICMGetCacheEntries':function ICMGetCacheEntries(a,b){this['ICMGetCacheEntries'](a,b);},'ICMGetProxyConnectionList':function ICMGetProxyConnectionList(a,b){this[a1b('0xa3')](a,b);},'WebDispGetServerList':function WebDispGetServerList(a,b){this['WebDispGetServerList'](a,b);},'EnqGetLockTable':function EnqGetLockTable(a,b){this[a1b('0xc3')](a,b);},'EnqGetStatistic':function EnqGetStatistic(a,b){this[a1b('0x1c5')](a,b);}};var sapctrl_process_func=function(a,b,c,d,g,h,i,j,k,l){var m=this;if(a){console['error'](a1b('0x57')+c+'@'+d[a1b('0x15f')]+a1b('0x169')+a&&a[a1b('0x1b4')]);l();}else{switch(c){case'GetAlerts':case a1b('0x10d'):var n=-0x1;var o=[];var p=[];var q=[];var r=m[a1b('0xb7')];if(b[a1b('0xbf')]&&b[a1b('0xbf')][a1b('0x194')]){b[a1b('0xbf')]['item'][a1b('0x225')](function(z){if(z['parent']>n){o['push']({'idx':z[a1b('0x2af')],'name':b[a1b('0xbf')][a1b('0x194')][z[a1b('0x2af')]][a1b('0x20a')],'status':b[a1b('0xbf')][a1b('0x194')][z[a1b('0x2af')]][a1b('0x1a')]});var A=z[a1b('0x1e2')][a1b('0x56')]('\x20');if(A[0x0][a1b('0x197')](':')>0x0){A[a1b('0x225')](function(D){var E=D['split'](':');if(E[a1b('0xee')]==0x2&&E[0x1][a1b('0x2c8')](/[0-9]+(\.[0-9]+)?/g)){q=q[a1b('0x165')]([create_node(o,r,Object[a1b('0x241')](z,{'name':z[a1b('0x20a')]+r+E[0x0]}),[E[0x1]],h)]);}});}else{if(A[0x0][a1b('0x2c8')](/[0-9]+(\.[0-9]+)?/g)){q=q['concat']([create_node(o,r,z,[A['reduce'](function(D,E){return E[a1b('0x2c8')](/[0-9]+(\.[0-9]+)?/g)?D+E:D;},''),A[A['length']-0x1][a1b('0x274')](/\s|[0-9]/g,'',h)])]);}}n=z[a1b('0x2af')];}else if(z[a1b('0x2af')]==n){var B=z[a1b('0x1e2')][a1b('0x56')]('\x20');if(B[0x0]['indexOf'](':')>0x0){B['forEach'](function(D){var E=D['split'](':');if(E[a1b('0xee')]==0x2&&E[0x1][a1b('0x2c8')](/[0-9]+(\.[0-9]+)?/g)){q=q[a1b('0x165')]([create_node(o,r,Object[a1b('0x241')](z,{'name':z[a1b('0x20a')]+r+E[0x0]}),[E[0x1]],h)]);}});}else{if(B[0x0][a1b('0x2c8')](/[0-9]+(\.[0-9]+)?/g)){q=q[a1b('0x165')]([create_node(o,r,z,[B[a1b('0x1f8')](function(D,E){return E['match'](/[0-9]+(\.[0-9]+)?/g)?D+E:D;},''),B[B[a1b('0xee')]-0x1][a1b('0x274')](/\s|[0-9]/g,'',h)])]);}}}else{p=p[a1b('0x165')](q);var C=o[a1b('0xee')]-0x1;while(C>=0x0&&o[C][a1b('0x188')]>z[a1b('0x2af')]){o[a1b('0x1f')]();C--;}q=[];n=z[a1b('0x2af')];}});if(!j||j['length']==0x0){p[a1b('0x225')](function(z){if(z){var A=a1b('0x14c')+d[a1b('0x1da')]+a1b('0x163')+d[a1b('0x15f')]+'\x22,entity_id=\x22'+i+a1b('0x1aa')+g[a1b('0xd1')]+'\x22';if(g['sn']!=undefined)A+=a1b('0x24e')+g['sn']+'\x22';if(k!=undefined)A+=a1b('0xdb')+k+'\x22';if(g[a1b('0x287')]!=undefined)A+=',hostname=\x22'+g[a1b('0x287')]+'\x22';if(g[a1b('0x33')]!=undefined)A+=',ip_internal=\x22'+g['ip_internal']+'\x22';if(z[a1b('0x11d')]!=undefined)A+=a1b('0x1ed')+z['filesystem']+'\x22';if(z['network_int']!=undefined)A+=',network_int=\x22'+z[a1b('0x12f')]+'\x22';if(z[a1b('0x173')]!=undefined)A+=a1b('0x11e')+z[a1b('0x173')]+'\x22';if(z['db_datafile']!=undefined)A+=a1b('0xc9')+z[a1b('0x10f')]+'\x22';m[a1b('0x161')][a1b('0x275')]('{'+A+'}',def_kpi_name(m[a1b('0x19')],r,z),z[a1b('0x12b')],d[a1b('0x1da')]);}});}else{p[a1b('0x225')](function(z){if(z){var A=def_kpi_name(m[a1b('0x19')],r,z);if(j['indexOf'](A)>=0x0){var B='instance=\x22'+d[a1b('0x1da')]+a1b('0x163')+d[a1b('0x15f')]+a1b('0x1c4')+i+'\x22,features=\x22'+g[a1b('0xd1')]+'\x22';if(g['sn']!=undefined)B+=',sn=\x22'+g['sn']+'\x22';if(k!=undefined)B+=a1b('0xdb')+k+'\x22';if(g[a1b('0x287')]!=undefined)B+=a1b('0x181')+g[a1b('0x287')]+'\x22';if(g['ip_internal']!=undefined)B+=a1b('0x4c')+g[a1b('0x33')]+'\x22';if(z[a1b('0x11d')]!=undefined)B+=',filesystem=\x22'+z['filesystem']+'\x22';if(z['network_int']!=undefined)B+=a1b('0xf')+z[a1b('0x12f')]+'\x22';if(z[a1b('0x173')]!=undefined)B+=a1b('0x11e')+z[a1b('0x173')]+'\x22';if(z['db_datafile']!=undefined)B+=',db_datafile=\x22'+z[a1b('0x10f')]+'\x22';m[a1b('0x161')]['set']('{'+B+'}',A,z[a1b('0x12b')],d['_id']);}}});}}l();break;case'ABAPGetWPTable':var s=[a1b('0x7e'),'upd',a1b('0x9b'),a1b('0x247'),a1b('0x4a'),'spo'];var u=[a1b('0x21b'),a1b('0x149'),'run',a1b('0x168'),'ended',a1b('0x3c'),'down'];var v={};var w=function z(A,B){if(A[a1b('0x2b2')]()!='ALL'){return m['kpi_prefix_sap']+A[a1b('0x75')]()+a1b('0xc7')+B+a1b('0x152');}else{return m[a1b('0x19')]+'_workprocess_'+B+a1b('0x152');}};s[a1b('0x225')](function(A){u[a1b('0x225')](function(B){v[w(h,B)]=v[w(h,B)]?Object['assign']({},v[w(h,B)],_defineProperty({},A,0x0)):_defineProperty({},A,0x0);});});if(b['workprocess']&&b['workprocess']['item']){b[a1b('0x2c7')][a1b('0x194')][a1b('0x225')](function(A){if(v[w(h,A[a1b('0x264')][a1b('0x75')]())]&&v[w(h,A['Status'][a1b('0x75')]())][A[a1b('0x187')][a1b('0x75')]()]!=undefined){v[w(h,A['Status']['toLowerCase']())][A['Typ'][a1b('0x75')]()]++;}else{console[a1b('0x24a')](a1b('0x2b8'),w(h,A['Status'][a1b('0x75')]()));}});}var x=a1b('0x14c')+d[a1b('0x1da')]+a1b('0x163')+d[a1b('0x15f')]+a1b('0x296')+h+a1b('0x1c4')+i+'\x22';if(g[a1b('0x287')]!=undefined)x+=a1b('0x181')+g['hostname']+'\x22';if(g[a1b('0x33')]!=undefined)x+=a1b('0x4c')+g[a1b('0x33')]+'\x22';if(g['sn']!=undefined)x+=a1b('0x24e')+g['sn']+'\x22';if(k!=undefined)x+=a1b('0xdb')+k+'\x22';Object['keys'](v)[a1b('0x225')](function(A){if(!j||j['length']==0x0){s[a1b('0x225')](function(B){m['pushgtw_cli'][a1b('0x275')]('{'+x+a1b('0xdf')+B+'\x22}',A,v[A][B],d[a1b('0x1da')]);});}else{if(j['indexOf'](A)>=0x0){s[a1b('0x225')](function(B){m[a1b('0x161')][a1b('0x275')]('{'+x+',workproces=\x22'+B+'\x22}',A,v[A][B],d[a1b('0x1da')]);});}}});l();break;case a1b('0x19d'):console['log'](a1b('0x31')+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b[a1b('0x2c7')][a1b('0x194')]);l();break;case a1b('0x1c5'):var y=function A(B){if(B['toLowerCase']()[a1b('0x2c8')](/.*time$/)){return m[a1b('0x19')]+'enqueue_'+B[a1b('0x75')]()['replace'](/[^a-zA-Z0-9]/g,'_')+'__sec';}else{return m['kpi_prefix_sap']+a1b('0x2a9')+B[a1b('0x75')]()[a1b('0x274')](/[^a-zA-Z0-9]/g,'_')+a1b('0x152');}};var x=a1b('0x14c')+d['_id']+a1b('0x163')+d[a1b('0x15f')]+a1b('0x296')+h+a1b('0xfc')+company_id+a1b('0x1c4')+i+'\x22';if(g[a1b('0xd1')]!=undefined)x+=a1b('0x119')+g[a1b('0xd1')]+'\x22';if(g[a1b('0x287')]!=undefined)x+=',hostname=\x22'+g['hostname']+'\x22';if(g['ip_internal']!=undefined)x+=',ip_internal=\x22'+g[a1b('0x33')]+'\x22';if(g['sn']!=undefined)x+=a1b('0x24e')+g['sn']+'\x22';if(k!=undefined)x+=',rule_id=\x22'+k+'\x22';Object['keys'](b)['forEach'](function(B){m[a1b('0x161')][a1b('0x275')]('{'+x+'}',y(B),b[B],d[a1b('0x1da')]);});l();break;case'J2EEGetProcessList2':case'GetProcessList':console['log'](a1b('0x31')+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b[a1b('0x2ba')]['item']);l();break;case'J2EEGetComponentList':case a1b('0x1e9'):console[a1b('0x8a')](a1b('0x31')+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b[a1b('0x2ae')]['item']);l();break;case'GetQueueStatistic':console[a1b('0x8a')](a1b('0x31')+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b[a1b('0x1d6')][a1b('0x194')]);l();break;case'GetVersionInfo':console[a1b('0x8a')](a1b('0x31')+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b['version'][a1b('0x194')]);l();break;case a1b('0x5'):console['log'](a1b('0x31')+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b[a1b('0x1d7')][a1b('0x194')]);l();break;case a1b('0xa6'):console[a1b('0x8a')](a1b('0x31')+c+'@'+d['sid']+a1b('0x270'),b[a1b('0x171')]);l();break;case a1b('0x27a'):console[a1b('0x8a')]('Result\x20of\x20('+c+'@'+d[a1b('0x15f')]+')=\x20',b[a1b('0x6')][a1b('0x194')]);l();break;case a1b('0x122'):console[a1b('0x8a')](a1b('0x31')+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b['env']['item']);l();break;case a1b('0x25d'):case a1b('0xa3'):console['log'](a1b('0x31')+c+'@'+d['sid']+a1b('0x270'),b[a1b('0x1bf')]);l();break;case a1b('0x47'):console[a1b('0x8a')]('Result\x20of\x20('+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b['entry']['item']);l();break;case'ICMGetThreadList':console[a1b('0x8a')]('Result\x20of\x20('+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b[a1b('0x14e')][a1b('0x194')]);l();break;case a1b('0xc3'):console[a1b('0x8a')](a1b('0x31')+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b[a1b('0xc1')]);l();break;case a1b('0x2a6'):console['log'](a1b('0x31')+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b[a1b('0x107')][a1b('0x194')]);l();break;case a1b('0x133'):console[a1b('0x8a')](a1b('0x31')+c+'@'+d[a1b('0x15f')]+')=\x20',b['cache'][a1b('0x194')]);l();break;case a1b('0xd2'):console['log']('Result\x20of\x20('+c+'@'+d['sid']+a1b('0x270'),b[a1b('0x14e')]['item']);l();break;case'J2EEGetSharedTableInfo':console[a1b('0x8a')](a1b('0x31')+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b['jsf'][a1b('0x194')]);l();break;case a1b('0x1fa'):console[a1b('0x8a')](a1b('0x31')+c+'@'+d[a1b('0x15f')]+a1b('0x270'),b[a1b('0x13c')]['item']);l();break;case a1b('0x216'):case a1b('0x195'):console[a1b('0x8a')](a1b('0x31')+c+'@'+d[a1b('0x15f')]+')=\x20',b['name'],'\x20',b[a1b('0x6')][a1b('0x1a6')]);l();break;default:console[a1b('0x8a')]('Result\x20of\x20('+c+'@'+d['sid']+a1b('0x270'),b);l();}}};var def_kpi_name=function def_kpi_name(a,b,c){var d=c[a1b('0x69')]['replace'](/\%/g,a1b('0x120'))[a1b('0x274')](/\//g,'_per_')['replace'](/\W+/g,'')[a1b('0x75')]();if(d=='')d='nb';return a+c[a1b('0x81')][a1b('0x274')](/\W+/g,b)+'__'+d;};var create_node=function create_node(a,b,c,d,f){var g={'value':isNaN(d[0x0]['replace'](/\s/g,''))?0x0:Math[a1b('0x20')](parseInt(d[0x0][a1b('0x274')](/\s/g,''))),'type':f,'unit':d[a1b('0xee')]>0x1&&d[0x1]||''};if(c['parent']>0x1){if(a[a1b('0xee')]>=0x2){switch(a[0x1][a1b('0x20a')]){case a1b('0x2a1'):if(a[a1b('0xee')]>=0x4){switch(a[0x2][a1b('0x20a')]){case a1b('0xca'):return Object[a1b('0x241')](g,{'filesystem':a[0x3]['name'],'category':'OperatingSystem','kpi':a1b('0x1f9')+c[a1b('0x20a')]});case a1b('0x262'):return Object['assign'](g,{'network_int':a[0x3][a1b('0x20a')],'category':a1b('0x2a1'),'kpi':a1b('0x1eb')+c[a1b('0x20a')]});default:return Object['assign'](g,{'category':a[Math[a1b('0x5c')](a[a1b('0xee')]-0x2,0x1)][a1b('0x20a')],'kpi':a[a1b('0x5b')](Math[a1b('0x5c')](a[a1b('0xee')]-0x1,0x0),a['length'])['map'](function(i){return i['name'];})[a1b('0x252')](b)+b+c[a1b('0x20a')]});}}else{return Object[a1b('0x241')](g,{'category':a[Math[a1b('0x5c')](a[a1b('0xee')]-0x2,0x1)][a1b('0x20a')],'kpi':a[a1b('0x5b')](Math[a1b('0x5c')](a[a1b('0xee')]-0x1,0x0),a['length'])[a1b('0x3d')](function(i){return i[a1b('0x20a')];})[a1b('0x252')](b)+b+c[a1b('0x20a')]});}case'Microsoft\x20SQL\x20Server':if(a[a1b('0xee')]>=0x4){switch(a[0x2][a1b('0x20a')]){case'Space\x20management':var h=a[0x4][a1b('0x20a')][a1b('0x56')]('/')[a1b('0x1f')]();return Object[a1b('0x241')](g,{'database':a[0x3]['name'][a1b('0x56')](':')[0x1],'db_datafile':h,'category':a[0x2]['name'],'kpi':c['name']['replace'](new RegExp(h['replace'](/(\.[a-z]{3})$/gi,'')+'\x20','gi'),'')});case a1b('0x2c5'):if(a[0x3][a1b('0x20a')]==a1b('0x62')){return Object[a1b('0x241')](g,{'db_datafile':c[a1b('0x20a')]['substring'](0x15,c[a1b('0x20a')][a1b('0xee')]),'category':a[0x2][a1b('0x20a')],'kpi':a[0x3][a1b('0x20a')]});}else{return Object[a1b('0x241')](g,{'category':a[0x2][a1b('0x20a')],'kpi':a[0x3][a1b('0x20a')]+b+c['name']});}default:return Object[a1b('0x241')](g,{'category':a[Math[a1b('0x5c')](a['length']-0x2,0x1)][a1b('0x20a')],'kpi':a[a1b('0x5b')](Math[a1b('0x5c')](a['length']-0x1,0x0),a[a1b('0xee')])['map'](function(i){return i[a1b('0x20a')];})[a1b('0x252')](b)+b+c[a1b('0x20a')]});}}else{return Object['assign'](g,{'category':a[Math[a1b('0x5c')](a['length']-0x2,0x1)][a1b('0x20a')],'kpi':a[a1b('0x5b')](Math[a1b('0x5c')](a[a1b('0xee')]-0x1,0x0),a[a1b('0xee')])[a1b('0x3d')](function(i){return i[a1b('0x20a')];})[a1b('0x252')](b)+b+c[a1b('0x20a')]});}case a1b('0xba'):case a1b('0x164'):if(d[0x0]['match'](/^([0-9]|\s)+(\.[0-9]+)?$/g)){return Object[a1b('0x241')](g,{'category':a[0x1][a1b('0x20a')],'kpi':a[a1b('0x5b')](Math[a1b('0x5c')](a[a1b('0xee')]-0x1,0x0),a[a1b('0xee')])[a1b('0x3d')](function(i){return i['name'];})[a1b('0x252')](b)+b+c[a1b('0x20a')]});}break;case a1b('0x1f5'):if(a[a1b('0xee')]>=0x3&&a[0x2]['name']==a1b('0x179')){return Object['assign'](g,{'category':a1b('0x1f5'),'kpi':a['slice'](Math['max'](a[a1b('0xee')]-0x2,0x0),a[a1b('0xee')])[a1b('0x3d')](function(i){return i[a1b('0x20a')];})[a1b('0x252')](b)+b+c['name']});}else{return Object[a1b('0x241')](g,{'category':'R3Services','kpi':a['slice'](Math['max'](a[a1b('0xee')]-0x1,0x0),a['length'])['map'](function(i){return i[a1b('0x20a')];})[a1b('0x252')](b)+b+c['name']});}default:return Object[a1b('0x241')](g,{'category':a[Math['max'](a['length']-0x2,0x1)][a1b('0x20a')],'kpi':a['slice'](Math[a1b('0x5c')](a[a1b('0xee')]-0x1,0x0),a[a1b('0xee')])['map'](function(i){return i[a1b('0x20a')];})[a1b('0x252')](b)+b+c[a1b('0x20a')]});}}}else{return null;}};var sapctrl_helpers={'sapcontrol_operations':sapcontrol_operations,'sapctrl_process_func':sapctrl_process_func};function AWSMng(){var a=this;this['ec2']=new awsSdk[(a1b('0xcc'))]({'apiVersion':a1b('0xff'),'region':'eu-west-3'});this['mappings_ip_id']={};this[a1b('0x27d')]={'ec2_not_found':a1b('0x1cf'),'credentials_not_loaded':a1b('0xab'),'ec2_not_started':a1b('0x11f'),'ec2_not_stopped':a1b('0x158')};awsSdk[a1b('0x222')][a1b('0x26c')](function(b){if(b)console[a1b('0x24a')](a['_errors'][a1b('0x204')]+':',b[a1b('0x70')]);});}AWSMng[a1b('0x2c2')]={'Constructor':AWSMng,'discoverEC2Instances':function discoverEC2Instances(a,b){var c=this;async[a1b('0x63')]([function(d){console[a1b('0x8a')](a1b('0x97'),a);c[a1b('0x9f')][a1b('0x17f')]({'Filters':[{'Name':a1b('0xed'),'Values':[a]}]},d);},function(d,f){if(d&&d['Reservations']){var g=d[a1b('0x15d')][a1b('0x1f8')](function(h,i){return h['concat'](i[a1b('0x8b')][a1b('0x1f8')](function(j,k){j[a1b('0x2a5')]({'vpc_id':a,'ip_internal':k['PrivateIpAddress'],'cloud_instance_id':k['InstanceId'],'cloud_instance_type':k[a1b('0x248')],'state':k[a1b('0x1a5')]['Name'],'is_sap_or_down':k[a1b('0x1a5')][a1b('0x2b9')]!=a1b('0x95')});return j;},[]));},[]);f(null,g);}else{f(a1b('0x92'));}},function(d,f){async[a1b('0xf7')](d,function(g,h,i){if(g[a1b('0x209')]==a1b('0x95')){var j=http['get'](a1b('0xde')+g[a1b('0x33')]+a1b('0xf6'),{'timeout':0x3e8},function(k){if(k&&k[a1b('0x233')]==0xc8){d[h][a1b('0x5d')]=!![];i();}});j['on'](a1b('0x28e'),j[a1b('0x104')]);j['on'](a1b('0x24a'),function(k){i();});}else i();},function(g){f(null,d);});}],function(d,f){if(d){console[a1b('0x24a')](a1b('0x1ea'),d,f);b();}else{console[a1b('0x8a')]('list_private_props:',f);b(null,f);}});},'getEC2PrivateProps':function getEC2PrivateProps(a,b){var c=this;async[a1b('0x63')]([function(d){c[a1b('0x9f')][a1b('0x17f')]({'Filters':[{'Name':a1b('0xed'),'Values':[a['vpc_id']]}]},d);},function(d,f){if(d&&d[a1b('0x15d')]){var g=d[a1b('0x15d')]['reduce'](function(h,i){return h[a1b('0x165')](i[a1b('0x8b')][a1b('0x1f8')](function(j,k){j['push']({'ip_internal':k[a1b('0x254')],'cloud_instance_id':k['InstanceId'],'cloud_instance_type':k['InstanceType']});return j;},[]));},[]);f(null,g);}else{f(c['_errors']['ec2_not_found']);}}],function(d,f){if(d){console[a1b('0x24a')](a1b('0x2a3'),d,f);b();}else{b(f);}});},'isEC2sRunning':function isEC2sRunning(a,b){var c=this;async[a1b('0x63')]([function(d){c[a1b('0x9f')][a1b('0x105')]({'InstanceIds':Object[a1b('0x54')](c[a1b('0x193')])[a1b('0x18a')](function(f){return a[a1b('0x197')](f)>=0x0;})[a1b('0x3d')](function(f){return c[a1b('0x193')][f];}),'IncludeAllInstances':!![]},d);},function(d,f){var g={};d['InstanceStatuses'][a1b('0x225')](function(h){g[h[a1b('0x1f2')]]=h[a1b('0xa')][a1b('0x1e4')]==0x10&&h['InstanceStatus'][a1b('0x264')]=='ok'&&h[a1b('0x298')][a1b('0x264')]=='ok';});f(null,g);}],function(d,f){if(d){console['error'](a1b('0x109'),d);}b(f);});},'isEC2Running':function isEC2Running(a,b){var c=this;c[a1b('0x68')](a,function(d){if(d){c[a1b('0x43')](d,b);}else{console[a1b('0x24a')](c[a1b('0x27d')][a1b('0x89')]);b();}});},'isEC2RunningFromID':function isEC2RunningFromID(a,b){var c=this;async[a1b('0x63')]([function(d){c[a1b('0x9f')][a1b('0x105')]({'InstanceIds':[a],'IncludeAllInstances':!![]},d);},function(d,f){if(d[a1b('0x13')]&&d[a1b('0x13')][0x0]){f(null,d['InstanceStatuses'][0x0]['InstanceState'][a1b('0x1e4')]==0x10&&d[a1b('0x13')][0x0][a1b('0x1c6')][a1b('0x264')]=='ok'&&d[a1b('0x13')][0x0][a1b('0x298')][a1b('0x264')]=='ok');}else{f(c[a1b('0x27d')][a1b('0x89')]);}}],function(d,f){if(d){console[a1b('0x24a')](a1b('0x23'),d);}b(f);});},'isEC2Stopped':function isEC2Stopped(a,b){var c=this;c[a1b('0x68')](a,function(d){if(d){c['isEC2StoppedFromID'](d,b);}else{console[a1b('0x24a')](c['_errors']['ec2_not_found']);b();}});},'isEC2StoppedFromID':function isEC2StoppedFromID(a,b){var c=this;async[a1b('0x63')]([function(d){c[a1b('0x9f')][a1b('0x105')]({'InstanceIds':[a],'IncludeAllInstances':!![]},d);},function(d,f){if(d[a1b('0x13')]&&d[a1b('0x13')][0x0]){f(null,d[a1b('0x13')][0x0][a1b('0xa')][a1b('0x1e4')]==0x50);}else{f(c[a1b('0x27d')][a1b('0x89')]);}}],function(d,f){if(d){console[a1b('0x24a')](a1b('0x23e'),d);}b(f);});},'getEC2ID':function getEC2ID(a,b){var c=this;if(Object[a1b('0x54')](c[a1b('0x193')])['indexOf'](a)<0x0){async[a1b('0x63')]([function(d){c['ec2'][a1b('0x17f')]({'Filters':[{'Name':'private-ip-address','Values':[a]}]},d);},function(d,f){if(d&&d[a1b('0x15d')]&&d[a1b('0x15d')][0x0]&&d['Reservations'][0x0][a1b('0x8b')]&&d[a1b('0x15d')][0x0][a1b('0x8b')][0x0]){f(null,d['Reservations'][0x0][a1b('0x8b')][0x0][a1b('0x1f2')]);}else{f(c[a1b('0x27d')][a1b('0x89')]);}}],function(d,f){if(d||!f){console[a1b('0x24a')]('E\x20getEC2ID\x20error:',d,f);b();}else{c[a1b('0x193')][a]=f;b(f);}});}else{b(c[a1b('0x193')][a]);}},'getEC2ID_Type':function getEC2ID_Type(a,b){var c=this;async[a1b('0x63')]([function(d){c['ec2'][a1b('0x17f')]({'Filters':[{'Name':a1b('0x1b2'),'Values':[a]}]},d);},function(d,f){if(d&&d[a1b('0x15d')]&&d[a1b('0x15d')][0x0]&&d[a1b('0x15d')][0x0][a1b('0x8b')]&&d['Reservations'][0x0]['Instances'][0x0]){f(null,d[a1b('0x15d')][0x0][a1b('0x8b')][0x0]);}else{f(c[a1b('0x27d')][a1b('0x89')]);}}],function(d,f){if(d){console[a1b('0x24a')]('E\x20getEC2ID_Type\x20error',d);b();}else{c[a1b('0x193')][a]=f[a1b('0x1f2')];b({'instance_id':f[a1b('0x1f2')],'instance_type':f[a1b('0x248')]});}});},'stopEC2':function stopEC2(a,b){var c=this;c[a1b('0x68')](a,function(d){if(d){c[a1b('0x29d')](d,function(f){if(f){b();}else{c[a1b('0x9f')][a1b('0x1f3')]({'InstanceIds':[d]},function(g){if(g){console[a1b('0x24a')](c[a1b('0x27d')][a1b('0x94')],g);b(c[a1b('0x27d')][a1b('0x94')]);}else b();});}});}else b(c['_errors'][a1b('0x94')]);});},'startEC2':function startEC2(a,b){var c=this;c[a1b('0x68')](a,function(d){if(d){c['isEC2RunningFromID'](d,function(f){if(f){b();}else{c[a1b('0x9f')][a1b('0x191')]({'InstanceIds':[d]},function(g){if(g){console[a1b('0x24a')](c['_errors'][a1b('0x269')],g);b(c['_errors'][a1b('0x269')]);}else b();});}});}else b(c[a1b('0x27d')]['ec2_not_started']);});}};var awsmng=AWSMng;function Logger(){var a=arguments[a1b('0xee')]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:0x1;this['global_log_level']=a;this['__DEBUG__']=![];this[a1b('0x51')]=0x0;this[a1b('0x29e')]=0x1;this[a1b('0x115')]=0x2;this[a1b('0x14f')]=0x3;this['level_letter']=['E','M','I','D'];this[a1b('0x271')]='\x20:';}Logger['prototype']={'Constructor':Logger,'log':function log(a){var b=this;function c(d){switch(d){case b[a1b('0x51')]:return'E'+b[a1b('0x271')]+new Date()['toJSON']()+b[a1b('0x271')];case b['LOG_LEVEL_MIN']:return'M'+b[a1b('0x271')]+new Date()[a1b('0x26b')]()+b[a1b('0x271')];case b[a1b('0x115')]:return'I'+b['separator']+new Date()[a1b('0x26b')]()+b[a1b('0x271')];case b[a1b('0x14f')]:return'D'+b['separator']+new Date()['toJSON']()+b['separator'];default:return'';}}if(a<=b[a1b('0x148')]||b[a1b('0x11c')]){Array[a1b('0x2c2')][a1b('0x11a')][a1b('0x159')](arguments,0x0,0x1,c(a));console[a1b('0x8a')][a1b('0x78')](null,Array[a1b('0x2c2')][a1b('0x5b')][a1b('0x159')](arguments));}},'debug':function debug(a){console['log']('I\x20switching\x20debug\x20mode\x20'+a?'ON':'OFF');this[a1b('0x11c')]=a;}};var logger=Logger;var rdscmds={'APPEND':a1b('0x7d'),'ASKING':a1b('0x243'),'AUTH':'r59166c85971605a74b9e','BGREWRITEAOF':'r977f34a23a4c7dafd711','BGSAVE':a1b('0xb0'),'BITCOUNT':a1b('0x229'),'BITFIELD':a1b('0xa8'),'BITOP':a1b('0x111'),'BITPOS':a1b('0x45'),'BLPOP':a1b('0x114'),'BRPOP':a1b('0x20e'),'BRPOPLPUSH':'r4cedfdedff04f42371a3','BZPOPMAX':a1b('0x14a'),'BZPOPMIN':a1b('0x3e'),'CLIENT':'re2a09ccb04375117069c','CLUSTER':a1b('0x124'),'COMMAND':a1b('0x6f'),'CONFIG':a1b('0x23b'),'DBSIZE':'rcbeb52e1c23cbce73346','DEBUG':a1b('0x1bd'),'DECR':'r5d395572d2daf94d0ee2','DECRBY':a1b('0x5f'),'DEL':'r332cd69dadab050c7e03','DISCARD':a1b('0x277'),'DUMP':a1b('0x9e'),'ECHO':a1b('0x15e'),'EVAL':a1b('0x26a'),'EVALSHA':a1b('0x21'),'EXEC':'r50e64b10cdf172df702f','EXISTS':a1b('0x2'),'EXPIRE':a1b('0x2a4'),'EXPIREAT':a1b('0x1ac'),'FLUSHALL':a1b('0x22b'),'FLUSHDB':a1b('0x20c'),'GEOADD':a1b('0x2c3'),'GEODIST':a1b('0x7'),'GEOHASH':a1b('0x203'),'GEOPOS':a1b('0x208'),'GEORADIUS':a1b('0x142'),'GEORADIUS_RO':'r81ab714c7e51fc02a633','GEORADIUSBYMEMBER':'r9bae614fb830de88a71d','GEORADIUSBYMEMBER_RO':a1b('0xb9'),'GET':a1b('0x2c6'),'GETBIT':'r3da7e567487bbe4f3fa4','GETRANGE':a1b('0x24b'),'GETSET':'r35ec33085df5762700a0','HDEL':a1b('0x10a'),'HEXISTS':a1b('0x1cb'),'HGET':a1b('0x14'),'HGETALL':a1b('0x155'),'HINCRBY':a1b('0x1ce'),'HINCRBYFLOAT':'r7cefea74fb6a6b3ba2fe','HKEYS':a1b('0x261'),'HLEN':'r44515715af21b234f6e9','HMGET':a1b('0x19c'),'HMSET':'r6271d85d7ea5c2016537','HOST:':a1b('0xaf'),'HSCAN':a1b('0x12e'),'HSET':a1b('0x1de'),'HSETNX':a1b('0x72'),'HSTRLEN':a1b('0x295'),'HVALS':a1b('0x16a'),'INCR':'rdbf17cc155ced91fa2c0','INCRBY':a1b('0x28a'),'INCRBYFLOAT':a1b('0x21f'),'INFO':a1b('0x84'),'KEYS':a1b('0x1b5'),'LASTSAVE':'r8b0e6f19ee35972b7bac','LATENCY':a1b('0x1a1'),'LINDEX':a1b('0x125'),'LINSERT':a1b('0x102'),'LLEN':a1b('0x1b6'),'LOLWUT':'r90958e8cf18c41945d6b','LPOP':a1b('0x200'),'LPUSH':a1b('0x22c'),'LPUSHX':a1b('0x1ca'),'LRANGE':a1b('0x211'),'LREM':'rbb0a9b910059520d314a','LSET':a1b('0x77'),'LTRIM':a1b('0x49'),'MEMORY':a1b('0x1ab'),'MGET':'r963139d81e76a1db74a4','MIGRATE':'r0818532768d5ac4c862b','MODULE':a1b('0x14d'),'MONITOR':a1b('0x1f0'),'MOVE':a1b('0x1bb'),'MSET':a1b('0x2a0'),'MSETNX':a1b('0xa0'),'MULTI':'r0ea46cead6ed2044d5e6','OBJECT':a1b('0x2b4'),'PERSIST':a1b('0x10'),'PEXPIRE':a1b('0x1dc'),'PEXPIREAT':'r57a0a2089cded3b4fff7','PFADD':a1b('0x2a2'),'PFCOUNT':a1b('0x292'),'PFDEBUG':a1b('0x4e'),'PFMERGE':a1b('0x2ad'),'PFSELFTEST':a1b('0xe3'),'PING':'r8e880d60fadc492c52d0','POST':a1b('0x2c9'),'PSETEX':'rd0b5a0532e73176b6ec2','PSUBSCRIBE':a1b('0x286'),'PSYNC':a1b('0x2ab'),'PTTL':a1b('0x268'),'PUBLISH':a1b('0xa4'),'PUBSUB':a1b('0xec'),'PUNSUBSCRIBE':a1b('0xd8'),'RANDOMKEY':'r12a38cb3bcb8143e656b','READONLY':'r22cc19f9bd86c420755c','READWRITE':a1b('0x167'),'RENAME':a1b('0x37'),'RENAMENX':'r2dcb924dc3c52eaf4326','REPLCONF':a1b('0x299'),'REPLICAOF':a1b('0x180'),'RESTORE':'r5c35935afbc4ecb59f54','RESTORE-ASKING':a1b('0x18f'),'ROLE':a1b('0x1db'),'RPOP':'rbbdd4ae591afa6c96866','RPOPLPUSH':a1b('0x16'),'RPUSH':a1b('0xb1'),'RPUSHX':a1b('0x260'),'SADD':a1b('0xe0'),'SAVE':a1b('0xe6'),'SCAN':'r569298b21c9637769832','SCARD':a1b('0xb3'),'SCRIPT':'rce153ab447ff78bb63bd','SDIFF':'r0c3af3d708a2987a660b','SDIFFSTORE':a1b('0x4b'),'SELECT':a1b('0x214'),'SET':a1b('0x98'),'SETBIT':'rbbee446c0ca0e678607a','SETEX':a1b('0x6e'),'SETNX':'r0f6b51f5c3e0dc6a5333','SETRANGE':a1b('0x228'),'SHUTDOWN':a1b('0x245'),'SINTER':a1b('0x23c'),'SINTERSTORE':a1b('0x88'),'SISMEMBER':a1b('0x29c'),'SLAVEOF':'r72fd174d37c08265e5c1','SLOWLOG':'r437d51923772d10e4f97','SMEMBERS':'r1edcd9984a6482302f84','SMOVE':a1b('0x21d'),'SORT':'rd52fed8963807907af5b','SPOP':a1b('0xef'),'SRANDMEMBER':a1b('0x1ee'),'SREM':a1b('0x1ba'),'SSCAN':a1b('0x1fb'),'STRLEN':a1b('0x1a3'),'SUBSCRIBE':a1b('0x196'),'SUBSTR':a1b('0x80'),'SUNION':a1b('0x134'),'SUNIONSTORE':'r7cb8a66e6f7d1a2d81dc','SWAPDB':'r8115b24806a99207caa4','SYNC':a1b('0x112'),'TIME':a1b('0xf0'),'TOUCH':a1b('0x64'),'TTL':a1b('0x219'),'TYPE':a1b('0xce'),'UNLINK':a1b('0x24'),'UNSUBSCRIBE':a1b('0x1b7'),'UNWATCH':a1b('0x13d'),'WAIT':a1b('0x5e'),'WATCH':a1b('0x12'),'XACK':a1b('0x2bf'),'XADD':a1b('0x146'),'XCLAIM':'r77e4c1a01c6c040cd3ca','XDEL':a1b('0xc5'),'XGROUP':a1b('0xda'),'XINFO':a1b('0x7a'),'XLEN':'r841df2001c1ae836aaaa','XPENDING':a1b('0xd'),'XRANGE':a1b('0x17d'),'XREAD':a1b('0x25b'),'XREADGROUP':a1b('0xf8'),'XREVRANGE':a1b('0xf5'),'XSETID':a1b('0x41'),'XTRIM':a1b('0x118'),'ZADD':'rb5336953a9773c4fdc85','ZCARD':a1b('0x154'),'ZCOUNT':a1b('0x1e'),'ZINCRBY':'r763956de8cf90a3cf1a8','ZINTERSTORE':a1b('0xeb'),'ZLEXCOUNT':a1b('0x25a'),'ZPOPMAX':'ref0b5cdf20e3d8e2c56f','ZPOPMIN':a1b('0xad'),'ZRANGE':a1b('0x1d2'),'ZRANGEBYLEX':a1b('0x22'),'ZRANGEBYSCORE':a1b('0xb4'),'ZRANK':'r2443efd44b6a1ed32cea','ZREM':a1b('0x0'),'ZREMRANGEBYLEX':a1b('0x2a'),'ZREMRANGEBYRANK':a1b('0x117'),'ZREMRANGEBYSCORE':a1b('0x2b'),'ZREVRANGE':a1b('0x29b'),'ZREVRANGEBYLEX':'rfc2f355901f83dbc6f32','ZREVRANGEBYSCORE':'re3911909956e43ffcbb7','ZREVRANK':a1b('0x96'),'ZSCAN':'rcd25f69d8b71238c4f89','ZSCORE':'r07b493479fe344b5cf11','ZUNIONSTORE':'r3582a8e329efcb4b3c35'};function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError(a1b('0xe1'));}function _unsupportedIterableToArray(a,b){if(!a)return;if(typeof a===a1b('0x22a'))return _arrayLikeToArray(a,b);var c=Object['prototype'][a1b('0xcf')][a1b('0x159')](a)['slice'](0x8,-0x1);if(c===a1b('0x129')&&a[a1b('0x22e')])c=a[a1b('0x22e')][a1b('0x20a')];if(c===a1b('0x1a4')||c===a1b('0x11'))return Array[a1b('0x16e')](a);if(c===a1b('0x66')||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[a1b('0x1b0')](c))return _arrayLikeToArray(a,b);}function _iterableToArray(a){if(typeof Symbol!==a1b('0x1df')&&Symbol[a1b('0x7b')]in Object(a))return Array['from'](a);}function _arrayWithoutHoles(a){if(Array[a1b('0x255')](a))return _arrayLikeToArray(a);}function _arrayLikeToArray(a,b){if(b==null||b>a['length'])b=a[a1b('0xee')];for(var c=0x0,d=new Array(b);c<b;c++){d[c]=a[c];}return d;}var sapcontrol_operations$1=sapctrl_helpers[a1b('0x1e5')],sapctrl_process_func$1=sapctrl_helpers[a1b('0x1c1')];function ScaleDoer(){this[a1b('0x1d6')]=null;this[a1b('0x6c')]={};this[a1b('0x82')]='';this['region']='';this[a1b('0x1c2')]=0x1;this[a1b('0x137')]={};this[a1b('0x46')]={};this[a1b('0x38')]=0x3;this[a1b('0xd7')]=0x9c40;this[a1b('0x3b')]={};this[a1b('0x20b')]=0x1;this[a1b('0x131')]=0xa;this[a1b('0xb7')]='_';this[a1b('0x19')]=a1b('0x273')+this[a1b('0xb7')];this[a1b('0x231')]={'green':a1b('0x16b'),'yellow':a1b('0x53'),'red':a1b('0x284'),'gray':a1b('0x257')};this[a1b('0x27d')]={'soap_client_init':a1b('0x198'),'soap_client_getinstance':a1b('0x6b'),'conn_failed':'Connection\x20to\x20SAP\x20system\x20failed','ws_not_reachable':a1b('0x170'),'no_system_conn':a1b('0x1bc'),'no_active_instance':a1b('0xb'),'stop_ongoing':a1b('0x7c'),'start_ongoing':'Start\x20eligible\x20system\x20instance\x20already\x20ongoing','no_start_candidate':'No\x20eligible\x20system\x20instance\x20to\x20be\x20started','min_instances_reached':'Minimal\x20running\x20instances\x20reached','max_instances_reached':a1b('0x207')};this[a1b('0x279')]={'stop':{'begin':0x1,'counter_updated':0x2,'sap_stop_triggered':0x3,'ec2_stop_triggered':0x4},'start':{'begin':0x1,'counter_updated':0x2,'ec2_start_triggered':0x3,'sap_start_triggered':0x4}};this['certif_dir']=__dirname+'/.keys';this[a1b('0x15a')]=new awsmng();this[a1b('0x1ef')]=null;this[a1b('0x161')]=null;this[a1b('0x234')]=null;this[a1b('0xa7')]=new logger();this[a1b('0xa7')]['debug'](!![]);}ScaleDoer[a1b('0x2c2')]={'Constructor':ScaleDoer,'init':function init(a,b){var c=this;c[a1b('0x82')]=a[a1b('0x82')];c[a1b('0x141')]=a['agent'];c[a1b('0x1d1')]=a[a1b('0x1d1')];c['staging']=a[a1b('0x206')]||a1b('0x23d');c[a1b('0x6c')]={'collect_exec':a1b('0x67')+'_'+c['staging']+'_'+c[a1b('0x141')],'checkconn_exec':a1b('0x1f7')+'_'+c[a1b('0x141')],'discover_exec':'DISCOVER'+'_'+c[a1b('0x141')],'webhook_exec':'DO'+'_'+c[a1b('0x141')]};c[a1b('0x234')]=a[a1b('0x74')]['credentials'];c[a1b('0x1c2')]=a[a1b('0x250')];c[a1b('0xc0')]=a['db'];c[a1b('0xa7')][a1b('0x8a')](c[a1b('0xa7')][a1b('0x115')],a1b('0x236'));c[a1b('0xa7')][a1b('0x8a')](c[a1b('0xa7')][a1b('0x14f')],'company:'+c[a1b('0x82')]+a1b('0x76')+c[a1b('0x1d1')]+'\x20staging:'+c[a1b('0x206')]);async[a1b('0x15b')]([function(d){c['get_cloud_region'][a1b('0x159')](c,d);},function(d){c[a1b('0x1ef')]=redis[a1b('0x28f')](Object[a1b('0x241')](c[a1b('0xc0')],{'prefix':'q','db':0x2,'password':decrypt(c[a1b('0xc0')]['key'],c[a1b('0x82')]+c[a1b('0x234')][a1b('0x274')](':','')),'rename_commands':rdscmds}));c['redis_cli']['on'](a1b('0x24a'),function(f){c['logger']['log'](c[a1b('0xa7')]['LOG_LEVEL_ERROR'],a1b('0x27e')+f['code']+a1b('0x202')+f['command']+a1b('0x202')+f['origin']);});c[a1b('0x1d6')]=kue[a1b('0x20d')]({'prefix':'q','redis':Object[a1b('0x241')](c[a1b('0xc0')],{'auth':decrypt(c[a1b('0xc0')][a1b('0x2b6')],c['company']+c[a1b('0x234')][a1b('0x274')](':','')),'db':a['dbindex'],'options':{'rename_commands':rdscmds}})});c[a1b('0x1d6')][a1b('0x132')]();c['queue'][a1b('0x176')](c[a1b('0x1c2')]*0x2);c[a1b('0x1d6')]['on']('error',function(f){c['logger'][a1b('0x8a')](c['logger'][a1b('0x51')],'Oops\x20redis\x20queue\x20error:'+f[a1b('0xe7')]+a1b('0x202')+f[a1b('0x140')]+'\x20-\x20'+f[a1b('0x1a2')]);});d();},function(d){c['pushgtw_cli']=new pushcli(a[a1b('0x74')][a1b('0xa5')]+a1b('0x48')+(a[a1b('0x74')]['credentials']?a[a1b('0x74')]['credentials']+'@':'')+a[a1b('0x74')][a1b('0x87')]+':'+a[a1b('0x74')]['port']+a1b('0xd4'),c[a1b('0x1d1')],c[a1b('0x206')]);d();},function(d){if(!fs$1[a1b('0x189')](c[a1b('0x1c8')])){fs$1['mkdirSync'](c['certif_dir']);}d();}],function(){c[a1b('0xa7')][a1b('0x8a')](c[a1b('0xa7')][a1b('0x115')],a1b('0x205'),c['QUEUES']);b['call'](c);});},'connect_sap':function connect_sap(a,b,c){var d=this;process[a1b('0x253')][a1b('0x1')]='0';d['logger']['log'](d[a1b('0xa7')]['LOG_LEVEL_DEBUG'],'[PENDING]\x20{'+a[a1b('0xb6')][a1b('0x186')]+a1b('0x283'));async[a1b('0x63')]([function(f){d[a1b('0x221')](a[a1b('0xb6')]['syst_id'],a[a1b('0x4d')],f);},function(f){var g=a['system'][a1b('0xc')]?{'protocol':a1b('0x2a8'),'port_suffix':'14'}:{'protocol':a1b('0x61'),'port_suffix':'13'};var h=g[a1b('0x40')]+a1b('0x48')+(a[a1b('0xb6')][a1b('0x33')]||a[a1b('0xb6')]['hostname'])+':5'+a['system']['sn']+g[a1b('0x263')]+'/';d[a1b('0xa7')]['log'](d[a1b('0xa7')][a1b('0x14f')],a1b('0x18b'),h);d[a1b('0x161')][a1b('0xf9')](a['system'][a1b('0x186')]);d['new_soap_client'](h,{'method':a[a1b('0xb6')][a1b('0x16d')],'options':[{'user':a[a1b('0xb6')]['username'],'pwd':a[a1b('0xb6')][a1b('0x44')]},{'pfx':a[a1b('0xb6')][a1b('0x16d')]==0x1&&d['certif_dir']+'/'+a[a1b('0xb6')][a1b('0x186')]+a1b('0x1e1')}]},a,f);},function(f,g){f['soapcli'][a1b('0x5')]({},function(h,i){if(!h&&i&&i['instance']&&i[a1b('0x1d7')]['item']){var j=i['instance'][a1b('0x194')][a1b('0x3d')](function(l){var m=(''+l['instanceNr'])[a1b('0xd6')](0x2,'0');var n=a[a1b('0xb6')]['instances'][a1b('0x58')](function(o){return o[a1b('0x272')]==m;});return{'ip_internal':n&&n[a1b('0x33')],'hostname':l['hostname'],'instancenr':m,'features':l['features'][a1b('0x56')]('|'),'status':l[a1b('0x177')]==d[a1b('0x231')]['green']?0x1:l['dispstatus']==d[a1b('0x231')][a1b('0x13a')]?-0x1:0x0};});var k=d[a1b('0x2b3')](i['instance']['item']);if(k==d[a1b('0x231')]['red']||k==d[a1b('0x231')][a1b('0x16f')]){g(d[a1b('0x27d')][a1b('0x18e')],f['soapcli']);}else{d['pushgtw_cli'][a1b('0x144')]('up',a[a1b('0x1d0')],a[a1b('0xb6')][a1b('0x186')],d[a1b('0x1ae')],a['system'][a1b('0x15f')],0x1);d['conn_retries'][a[a1b('0xb6')][a1b('0x186')]]=0x0;g(null,j,a[a1b('0xb6')][a1b('0x16d')],a[a1b('0xb6')][a1b('0x27')],a[a1b('0xb6')][a1b('0x44')],a[a1b('0xb6')][a1b('0x16d')]==0x1?d[a1b('0x1c8')]+'/'+a[a1b('0xb6')][a1b('0x186')]+a1b('0x1e1'):null,{'is_encrypted':a[a1b('0xb6')][a1b('0xc')],'is_direct':a[a1b('0xb6')][a1b('0x282')]},a);}}else{g(d[a1b('0x27d')]['ws_not_reachable'],h&&h['address']+'\x20'+h[a1b('0x93')]);}});},function(f,g,h,i,j,k,l,m){d[a1b('0xa7')][a1b('0x8a')](d[a1b('0xa7')][a1b('0x14f')],'{'+a['system'][a1b('0x186')]+a1b('0xc2')+f[a1b('0x3d')](function(o){return o[a1b('0x33')]+'|'+o[a1b('0x287')]+'/'+o[a1b('0x272')]+'/'+o['status'];})[a1b('0x252')](',\x20'));var n=[];if(!f||f[a1b('0x18a')](function(o){return o['status']==0x1&&o[a1b('0xd1')][a1b('0x197')]('MESSAGESERVER')<0x0&&o[a1b('0xd1')][a1b('0x197')]('ENQUE')<0x0;})[a1b('0xee')]==0x0){d['pushgtw_cli'][a1b('0x1a0')](a1b('0x91'),l['system'][a1b('0x186')]);m(d[a1b('0x27d')][a1b('0x26')]);}else{async[a1b('0xf7')](f['filter'](function(o){return o[a1b('0x23f')]==0x1&&o[a1b('0xd1')]['indexOf'](a1b('0x178'))<0x0&&o['features'][a1b('0x197')]('ENQUE')<0x0;}),function(o,p,q){var r=k['is_encrypted']?{'protocol':'https','port_suffix':'14'}:{'protocol':'http','port_suffix':'13'};var s=r[a1b('0x40')]+a1b('0x48')+(o[a1b('0x33')]||o[a1b('0x287')])+':5'+o[a1b('0x272')]+r[a1b('0x263')]+'/';d[a1b('0x59')](s,{'method':g,'options':[{'user':h,'pwd':i},{'pfx':j}]},null,function(t,u){if(t){d['logger'][a1b('0x8a')](d['logger'][a1b('0x51')],'{'+a[a1b('0xb6')][a1b('0x186')]+a1b('0x22d')+o[a1b('0x287')]+'/'+o[a1b('0x272')]+':',t);f[p][a1b('0x23f')]=-0x1;f[p]=Object[a1b('0x241')](f[p],{'error':t,'occur_date':new Date()});q();}else{var v=a['system'][a1b('0x2bc')]['find'](function(w){return w[a1b('0x272')]==o[a1b('0x272')];});n[a1b('0x2a5')]({'c':u[a1b('0x28')],'f':o[a1b('0xd1')],'n':o[a1b('0x272')],'h':o[a1b('0x287')],'i':v&&v&&v[a1b('0x33')]});q();}});},function(){a[a1b('0xb6')][a1b('0x2bc')][a1b('0x225')](function(o,p){f[a1b('0x225')](function(q){if(o&&o['instancenr']==q['instancenr']){a[a1b('0xb6')][a1b('0x2bc')][p]=Object[a1b('0x241')](o,q);if(q['error']==undefined&&q[a1b('0x23f')]!=-0x1){delete a[a1b('0xb6')][a1b('0x2bc')][p][a1b('0x24a')];}}if(a[a1b('0xb6')][a1b('0x2bc')][a1b('0x3d')](function(r){return r&&r['instancenr'];})['indexOf'](q[a1b('0x272')])<0x0){a[a1b('0xb6')][a1b('0x2bc')][a1b('0x2a5')](q);}if(o&&f[a1b('0x3d')](function(r){return r[a1b('0x272')];})[a1b('0x197')](o[a1b('0x272')])<0x0){a['system']['instances'][p][a1b('0x23f')]=0x0;delete a[a1b('0xb6')][a1b('0x2bc')][p][a1b('0x24a')];}});});d[a1b('0x161')][a1b('0x172')]('up',a['entity_id'],a[a1b('0xb6')][a1b('0x186')],d[a1b('0x1ae')],a['system']['sid'],a['system'][a1b('0x2bc')]);async['each'](n,function(o,p){b(o,f,p);},function(o){if(o){d['logger']['log'](d[a1b('0xa7')]['LOG_LEVEL_ERROR'],'{'+a[a1b('0xb6')][a1b('0x186')]+a1b('0x42'),o);}d[a1b('0x161')]['pushInstance'](a1b('0x91'),a['system']['syst_id']);m(o,f);});});}}],function(f,g){if(f){switch(f){case d[a1b('0x27d')]['conn_failed']:d[a1b('0xa7')]['log'](d['logger'][a1b('0x51')],a1b('0x199')+a[a1b('0xb6')]['syst_id']+'}:',d[a1b('0x27d')]['conn_failed']);d[a1b('0x1ec')](g,a);break;case d['_errors'][a1b('0xa2')]:d[a1b('0xa7')]['log'](d[a1b('0xa7')][a1b('0x51')],a1b('0x199')+a[a1b('0xb6')][a1b('0x186')]+'}:',d['_errors'][a1b('0xa2')]);break;case d['_errors'][a1b('0x26')]:d['logger'][a1b('0x8a')](d[a1b('0xa7')][a1b('0x51')],a1b('0x199')+a[a1b('0xb6')][a1b('0x186')]+'}:',d[a1b('0x27d')][a1b('0x26')],g);d[a1b('0xbe')](a1b('0x91'),a['entity_id'],a['system'][a1b('0x186')],a[a1b('0xb6')][a1b('0x15f')],a[a1b('0xb6')][a1b('0x2bc')]['map'](function(h){return{'instancenr':h[a1b('0x272')],'status':0x0};}));break;case d[a1b('0x27d')][a1b('0x50')]:d[a1b('0xa7')]['log'](d[a1b('0xa7')][a1b('0x51')],a1b('0x199')+a[a1b('0xb6')][a1b('0x186')]+'}:',d['_errors'][a1b('0x50')],g);break;default:if(f[a1b('0x276')]=='ETIMEDOUT'){if(g===!![]){d[a1b('0xbe')](a1b('0x91'),a[a1b('0x1d0')],a[a1b('0xb6')][a1b('0x186')],a[a1b('0xb6')][a1b('0x15f')],a[a1b('0xb6')][a1b('0x2bc')][a1b('0x3d')](function(h){return{'instancenr':h['instancenr'],'status':0x0};}));}}else{d[a1b('0xa7')][a1b('0x8a')](d[a1b('0xa7')][a1b('0x51')],a1b('0x199')+a[a1b('0xb6')]['syst_id']+'}:',f,g);}break;}c(f[a1b('0xe7')]||f[a1b('0x276')]||f);}else{c(null,{'sending_sslcertifs':d[a1b('0x137')][a[a1b('0xb6')]['syst_id']],'instances':g,'syst_id':a[a1b('0xb6')][a1b('0x186')]});}});},'collect':function collect(){var a=this;a[a1b('0x1d6')][a1b('0x2ba')](a[a1b('0x6c')][a1b('0x9')],a[a1b('0x1c2')],function(b,c){if(b[a1b('0xd9')][a1b('0x1d3')]&&b[a1b('0xd9')][a1b('0xb6')]){a[a1b('0x221')](b['data'][a1b('0xb6')][a1b('0x186')],b[a1b('0xd9')][a1b('0x4d')],function(d){if(d){c(a1b('0x13e'));}else{a[a1b('0x123')](b['data'],function(f,g,h){if(f['f'][a1b('0x197')](b[a1b('0xd9')][a1b('0x1d3')][a1b('0x121')])>=0x0||b[a1b('0xd9')][a1b('0x1d3')][a1b('0x121')]==a1b('0x293')){a[a1b('0xa7')][a1b('0x8a')](a['logger']['LOG_LEVEL_DEBUG'],'[PENDING]\x20{'+b[a1b('0xd9')]['system']['syst_id']+a1b('0xdc')+b[a1b('0xd9')][a1b('0x1d3')]['name']+':\x20execution');sapcontrol_operations$1[b[a1b('0xd9')][a1b('0x1d3')][a1b('0x20a')]]['call'](f['c'],{},function(i,j){if(i){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],'[FAILED]\x20{'+b[a1b('0xd9')][a1b('0xb6')][a1b('0x186')]+a1b('0xdc')+b[a1b('0xd9')][a1b('0x1d3')][a1b('0x20a')]+a1b('0x220')+i[a1b('0x1b4')]?i[a1b('0x1b4')][a1b('0x2c8')](/<faultstring>(.*?)<\/faultstring>/)[0x1]:i);}sapctrl_process_func$1[a1b('0x159')](a,i,j,b[a1b('0xd9')][a1b('0x1d3')][a1b('0x20a')],{'_id':b[a1b('0xd9')]['system']['syst_id'],'sid':b['data'][a1b('0xb6')][a1b('0x15f')]},{'ip_internal':f['i'],'hostname':f['h'],'sn':f['n'],'features':f['f'][a1b('0x252')]('|')},b[a1b('0xd9')][a1b('0x1d3')][a1b('0x121')],b[a1b('0xd9')][a1b('0x1d0')],b[a1b('0xd9')][a1b('0x153')],b[a1b('0xd9')][a1b('0x6d')],h);});}else h();},c);}});}else{a[a1b('0xa7')]['log'](a['logger'][a1b('0x51')],a1b('0x199')+b[a1b('0xd9')][a1b('0xb6')][a1b('0x186')]+a1b('0x246'));c();}});},'sync':function sync(){var a=this;var b=0x2;function c(d,f,g,h,i){if(f<=0x0){i(a1b('0xbd'));}else{if(g[a1b('0xee')]==0x0){a[a1b('0x15a')][a1b('0x183')](d,function(k,l){if(l&&l[a1b('0xee')]>0x0){c(d,f-0x1,l,h,i);}else i(a1b('0xbd'));});}else{var j=[];g[a1b('0x225')](function(k){if(k[a1b('0xd0')]){h[a1b('0x225')](function(l){j[a1b('0x2a5')]({'ip':k[a1b('0x33')],'nr':l[a1b('0x272')],'hostname':l['hostname'],'cloud_instance_id':k[a1b('0x2f')],'cloud_instance_type':k[a1b('0x1d8')],'cloud_instance_is_sap_or_down':k[a1b('0xd0')],'status':![]});});}});a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x14f')],a1b('0x1be'),j);async[a1b('0xf7')](j,function(k,l,m){a['check_sapcontrol_listening'](k['ip'],k['nr'],k['hostname'],function(n){j[l]['status']=n;j[l][a1b('0x17e')]=n;m();});},function(k){if(k){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],a1b('0x65'),k);}a[a1b('0xa7')][a1b('0x8a')](a['logger']['LOG_LEVEL_DEBUG'],a1b('0xea'),j[a1b('0x18a')](function(m){return m[a1b('0x23f')];}));var l=h[a1b('0x3d')](function(m){var n=j[a1b('0x58')](function(o){return o[a1b('0x23f')]&&o[a1b('0x287')]==m[a1b('0x287')]&&o['nr']==m[a1b('0x272')];});if(n){return Object[a1b('0x241')](m,{'ip_internal':n['ip'],'cloud_instance_id':n[a1b('0x210')],'cloud_instance_type':n['cloud_instance_type']});}})['filter'](function(m){return m[a1b('0x33')];});if(l[a1b('0xee')]==0x0||l[a1b('0xee')]<h[a1b('0xee')]){a[a1b('0x15a')]['discoverEC2Instances'](d,function(m,n){if(!n||n[a1b('0xee')]==0x0){i(a1b('0xbd'));}else{var o=n[a1b('0x18a')](function(p){return!g['includes'](p[a1b('0x33')]);});if(o[a1b('0xee')]>0x0){c(d,f-0x1,o,h,i);}else i(a1b('0xbd'));}});}else{if(f==b){i(null,{'instances':l});}else{i(null,{'instances':l,'new_ec2':g});}}});}}}a[a1b('0x1d6')][a1b('0x2ba')](a['QUEUES'][a1b('0x242')],a['concurrency_nb'],function(d,f){if(d['data']['ip']!=undefined&&d[a1b('0xd9')]['nr']!=undefined&&d['data'][a1b('0x287')]!=undefined&&d[a1b('0xd9')][a1b('0x1b')]!=undefined){process['env'][a1b('0x1')]='0';a[a1b('0x166')](d[a1b('0xd9')]['ip'],d[a1b('0xd9')]['nr'],function(g,h){if(g){f(g);}else{try{var i=fs$1[a1b('0x8d')](__dirname+a1b('0x8e'))[a1b('0xcf')]();a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x14f')],a1b('0xf3'),i,d[a1b('0xd9')][a1b('0x1b')],h);c(i,b,d[a1b('0xd9')][a1b('0x1b')],h,f);}catch(j){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')]['LOG_LEVEL_ERROR'],a1b('0x16c'),j);f(a1b('0x19f'));}}});}else{f();}});a['queue'][a1b('0x2ba')](a[a1b('0x6c')][a1b('0x143')],a[a1b('0x1c2')],function(d,f){if(d[a1b('0xd9')][a1b('0x121')]!=undefined&&d['data'][a1b('0xb6')]){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x14f')],'[PENDING]\x20{'+d[a1b('0xd9')][a1b('0xb6')][a1b('0x186')]+a1b('0x19b'));switch(d[a1b('0xd9')][a1b('0x121')]){case 0x0:a[a1b('0x221')](d[a1b('0xd9')][a1b('0xb6')][a1b('0x186')],d['data'][a1b('0x4d')],function(g){if(g){f(a1b('0x13e'));}else{var h=0x2710;a['connect_sap'](d[a1b('0xd9')],function(i,j,k){var l=j[a1b('0x85')](function(m){return m['instancenr']==i['n'];});async['parallel']({'check':function m(n){i['c'][a1b('0xcd')]({'function':'Start'},function(o){if(o){a[a1b('0xa7')]['log'](a[a1b('0xa7')][a1b('0x51')],a1b('0x227')+i['h']+'/'+i['i']+'/'+i['n']);j[l][a1b('0x23f')]=-0x1;j[l]=Object['assign'](j[l],{'error':o[a1b('0x1b4')]?o[a1b('0x1b4')][a1b('0x2c8')](/<faultstring>(.*?)<\/faultstring>/)[0x1]:o,'occur_date':new Date()});}n();},{'timeout':h});},'ip':function n(o){async[a1b('0x63')]([function(p){i['c'][a1b('0x10d')]({},function(q,r){if(!q&&r&&r[a1b('0xbf')]){var s=r['tree'][a1b('0x194')]['filter'](function(t){return r['tree'][a1b('0x194')][t[a1b('0x2af')]]&&r[a1b('0xbf')][a1b('0x194')][t[a1b('0x2af')]][a1b('0x20a')][a1b('0x278')]()=='Server\x20Configuration'&&t[a1b('0x20a')][a1b('0x278')]()=='IP\x20Address';});if(s&&s[0x0]&&s[0x0][a1b('0x1e2')]){j[l][a1b('0x33')]=s[0x0][a1b('0x1e2')];p(null,s[0x0][a1b('0x1e2')]);}}else p(a1b('0x201')+q);});},function(p,q){a[a1b('0x15a')]['getEC2ID_Type'](p,function(r){return q(null,r);});},function(p,q){j[l][a1b('0x210')]=p[a1b('0x2f')];j[l]['cloud_instance_type']=p[a1b('0x1d8')];q();}],function(p){if(p){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],a1b('0xe2')+i['h']+'/'+i['i']+'/'+i['n']+':',p);}o();});}},function(){k();});},f);}});break;case 0x1:f();break;default:f();break;}}else{a[a1b('0xa7')]['log'](a[a1b('0xa7')][a1b('0x51')],a1b('0x199')+d['data'][a1b('0xb6')][a1b('0x186')]+'}\x20checkconn_exec:\x20no\x20data\x20provided');f();}});},'scale':function scale(){var a=this;var b=0x0;var c=0x1;var d=0x2;var f=0x3;var g=0x4;var h=0x5;var i=0x6;var j=0x7;var k=0x8;var l=[];l[b]=a1b('0x28c');l[c]=a1b('0xb2');l[d]=a1b('0x128');l[f]=a1b('0x2a7');l[g]='EC2\x20server\x20to\x20stop\x20cannot\x20be\x20found';l[h]=a1b('0x30');l[i]='Start\x20SAP\x20instance\x20operation\x20timeout';l[j]=a1b('0x223');l[k]=a1b('0x1fc');function m(v,w,x,y,z){if(w>0x0){setTimeout(function(){v[a1b('0x5')]({},function(A,B){if(!A){var C=B[a1b('0x1d7')][a1b('0x194')]&&B[a1b('0x1d7')][a1b('0x194')][a1b('0x18a')](function(D){return D[a1b('0x28d')]==y;});if(C&&C[0x0]&&C[0x0][a1b('0x177')]==a1b('0x257')){z();}else{m(v,w-0x1,x,y,z);}}else{m(v,w-0x1,x,y,z);}});},x);}else z(k);}function n(v,w,x,y,z){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x14f')],'check_start_sap_instance:',w,x,y);if(w>0x0){setTimeout(function(){v['GetSystemInstanceList']({},function(A,B){if(!A){var C=B[a1b('0x1d7')]['item']&&B[a1b('0x1d7')]['item'][a1b('0x18a')](function(D){return(''+D[a1b('0x28d')])[a1b('0xd6')](0x2,'0')==y+'';});if(C&&C[0x0]&&C[0x0][a1b('0x177')]==a[a1b('0x231')][a1b('0x259')]){z();}else{n(v,w-0x1,x,y,z);}}else{n(v,w-0x1,x,y,z);}});},x);}else z(i);}function o(v,w,x,y,z){a['logger'][a1b('0x8a')](a[a1b('0xa7')]['LOG_LEVEL_DEBUG'],a1b('0x13f'),w,x,y);if(w>0x0){setTimeout(function(){v[a1b('0x17a')](y,function(A){if(A!=undefined&&A!=null){if(A){z();}else o(v,w-0x1,x,y,z);}else z(c);});},x);}else z(b);}function p(v,w,x,y,z){if(w>0x0){setTimeout(function(){v['isEC2Stopped'](y,function(A){if(A!=undefined&&A!=null){if(A){z();}else p(v,w-0x1,x,y,z);}else z(g);});},x);}else z(f);}function q(v,w,x,y){var z=arguments[a1b('0xee')]>0x4&&arguments[0x4]!==undefined?arguments[0x4]:0x1;if(z>0x0){a[a1b('0x3b')][w[a1b('0x186')]][y][a1b('0x23f')]=0x3;sapcontrol_operations$1[a1b('0x2b5')][a1b('0x159')](v,{},function(A){if(A!==undefined&&A!==null){if(A['body']){var B=A[a1b('0x1b4')][a1b('0x2c8')](/<faultstring>(.*?)<\/faultstring>/)&&A[a1b('0x1b4')][a1b('0x2c8')](/<faultstring>(.*?)<\/faultstring>/)[0x1];if(B==a1b('0x235')){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x29e')],a1b('0xf4')+w[a1b('0x186')]+a1b('0x139')+z+a1b('0x1a8')+w[a1b('0x186')]+'/'+x[a1b('0x287')]+'/'+x['ip_internal']+'/'+x[a1b('0x272')]);a['updated_system_instances'][w[a1b('0x186')]][y][a1b('0x23f')]=0x1;a['save_resume_step'](w[a1b('0x186')],y,-0x1);}else{a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x51')],'[FAILED]\x20{'+w[a1b('0x186')]+a1b('0x39')+z+')\x20sap\x20instance\x20error:'+B);a[a1b('0x3b')][w['syst_id']][y][a1b('0x23f')]=-0x1;a[a1b('0x3b')][w[a1b('0x186')]][y][a1b('0x24a')]={'occur_date':Date[a1b('0xe9')](),'msg':l[h]+':'+B};q(v,w,x,y,z-0x1);}}else{a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')]['LOG_LEVEL_ERROR'],a1b('0x199')+w[a1b('0x186')]+a1b('0x39')+z+a1b('0xbc'),A);a[a1b('0x3b')][w[a1b('0x186')]][y][a1b('0x23f')]=-0x1;a[a1b('0x3b')][w[a1b('0x186')]][y][a1b('0x24a')]={'occur_date':Date['now'](),'msg':l[h]};q(v,w,x,y,z-0x1);}}else{var C=0x14;var D=0x12c;var E=Math[a1b('0x127')](D/C);a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x14f')],'[PENDING]\x20{'+w[a1b('0x186')]+a1b('0x39')+z+a1b('0x135')+D+a1b('0x90')+x['hostname']+'/'+x[a1b('0x33')]+'/'+x[a1b('0x272')]);n(v,E,C*0x3e8,x[a1b('0x272')],function(F){if(F){a[a1b('0x3b')][w[a1b('0x186')]][y][a1b('0x23f')]=-0x1;a[a1b('0x3b')][w[a1b('0x186')]][y][a1b('0x24a')]={'occur_date':Date[a1b('0xe9')](),'msg':l[i]};a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x29e')],'[COMPLETED]\x20{'+w['syst_id']+'}\x20(restart-'+z+a1b('0x244')+w[a1b('0x186')]+'/'+x[a1b('0x287')]+'/'+x['ip_internal']+'/'+x[a1b('0x272')]+a1b('0x10c'),l[i]);q(v,w,x,y,z-0x1);}else{a[a1b('0x3b')][w[a1b('0x186')]][y][a1b('0x23f')]=0x1;delete a[a1b('0x3b')][w['syst_id']][y][a1b('0x24a')];a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x29e')],a1b('0xf4')+w['syst_id']+a1b('0x139')+z+a1b('0x6a')+w[a1b('0x186')]+'/'+x[a1b('0x287')]+'/'+x['ip_internal']+'/'+x[a1b('0x272')]);a[a1b('0x184')](w[a1b('0x186')],y,-0x1);}});}});}else{a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x29e')],a1b('0xf4')+w[a1b('0x186')]+a1b('0x139')+z+')\x20all\x20retries\x20completed:'+w[a1b('0x186')]+'/'+x[a1b('0x287')]+'/'+x[a1b('0x33')]+'/'+x['instancenr']);a[a1b('0x3b')][w[a1b('0x186')]][y][a1b('0x23f')]=-0x1;a[a1b('0x3b')][w[a1b('0x186')]][y]['error']={'occur_date':Date[a1b('0xe9')](),'msg':l[i]};a[a1b('0x184')](w[a1b('0x186')],y,-0x1);}}function r(v,w){var x=arguments[a1b('0xee')]>0x2&&arguments[0x2]!==undefined?arguments[0x2]:![];var y=arguments[a1b('0xee')]>0x3&&arguments[0x3]!==undefined?arguments[0x3]:-0x1;process[a1b('0x253')][a1b('0x1')]='0';var z=v[a1b('0x130')];var A=v['system'];var B=z[a1b('0x2c1')][a1b('0x1d7')];var C=z[a1b('0x2c1')][a1b('0x1d0')];var D=A['instances'][a1b('0x58')](function(F){return F['instancenr']==z[a1b('0x2c1')]['sn'];});var E=x?'<-':'';if(a[a1b('0x3b')][B]==undefined||a[a1b('0x3b')][B][a1b('0xee')]==0x0){a[a1b('0x3b')][B]=_toConsumableArray(A[a1b('0x2bc')]);}if(A&&D){a[a1b('0xa7')][a1b('0x8a')](a['logger']['LOG_LEVEL_INFO'],a1b('0x126')+A['syst_id']+'}\x20(stop'+E+a1b('0x108')+D[a1b('0x287')]+'/'+D[a1b('0x272')]+'/'+D[a1b('0x23f')]+a1b('0xae')+z[a1b('0x2c1')][a1b('0x1f4')]+'\x20'+z[a1b('0x2c1')]['sn']+a1b('0x202')+z[a1b('0x2c1')]['ip_internal']+'\x20'+z['labels']['hostname']);async[a1b('0x63')]([function(F){a[a1b('0x221')](v['system'][a1b('0x186')],v[a1b('0x4d')],F);},function(F){var G={'protocol':a1b('0x2a8'),'port_suffix':'14'};var H=G[a1b('0x40')]+'://'+(D[a1b('0x33')]||D[a1b('0x287')])+':5'+D[a1b('0x272')]+G[a1b('0x263')]+'/';a[a1b('0x161')][a1b('0xf9')](v[a1b('0xb6')][a1b('0x186')]);a[a1b('0x59')](H,{'method':0x1,'options':[{},{'pfx':a['certif_dir']+'/'+v[a1b('0xb6')][a1b('0x186')]+a1b('0x1e1')}]},v,F);},function(F,G){if(!F||!F[a1b('0x28')]){a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x51')],'[PENDING]\x20{'+A[a1b('0x186')]+a1b('0x215')+E+a1b('0x19e')+B);async_cb(a[a1b('0x27d')][a1b('0x60')]);}else{F[a1b('0x28')][a1b('0x5')]({},function(H,I){if(!H&&I&&I['instance']&&I[a1b('0x1d7')][a1b('0x194')]){var J=a['check_system_status'](I[a1b('0x1d7')][a1b('0x194')]);if(J==a['_sap_statuses'][a1b('0x226')]||J==a[a1b('0x231')][a1b('0x16f')]){G(a[a1b('0x27d')]['conn_failed'],F[a1b('0x28')]);}else{a[a1b('0x161')][a1b('0x144')]('up',C,v[a1b('0xb6')]['syst_id'],a['region'],v['system'][a1b('0x15f')],0x1);a['conn_retries'][v[a1b('0xb6')][a1b('0x186')]]=0x0;var K={};var L=I[a1b('0x1d7')]['item'][a1b('0x3d')](function(M){return{'hostname':M[a1b('0x287')],'instancenr':(''+M[a1b('0x28d')])[a1b('0xd6')](0x2,'0'),'features':M[a1b('0xd1')][a1b('0x56')]('|'),'status':M[a1b('0x177')]==a['_sap_statuses'][a1b('0x259')]?0x1:M['dispstatus']==a['_sap_statuses'][a1b('0x13a')]?-0x1:0x0};});a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x14f')],a1b('0x126')+A['syst_id']+a1b('0x215')+E+')\x20-\x20all\x20instances\x20of\x20system:'+L[a1b('0x3d')](function(M){return M['hostname']+'/'+M[a1b('0x272')]+'/'+M['status'];})[a1b('0x252')](',\x20'));L['filter'](function(M){return M['status']==0x1;})[a1b('0x225')](function(M){K[M['instancenr']]=M['features'][a1b('0x252')]('/');});if(Object[a1b('0xdd')](K)['filter'](function(M){return M==K[z[a1b('0x2c1')]['sn']];})['length']>a['min_instance_running']||x&&y>=a[a1b('0x279')]['stop'][a1b('0x27f')]){F[a1b('0xd3')]=Object[a1b('0x241')](F[a1b('0xd3')],{'instances':L});G(null,F);}else{G(a[a1b('0x27d')][a1b('0x17c')]);}}}else{G(a[a1b('0x27d')][a1b('0x50')],H&&H[a1b('0x26e')]+'\x20'+H[a1b('0x93')]);}});}},function(F,G){if(x||a['updated_system_instances'][B]['filter'](function(K){return K[a1b('0x23f')]==0x2&&K['instancenr']==z['labels']['sn'];})['length']==0x0){var H=a['updated_system_instances'][B]['map'](function(K){return K[a1b('0x272')];})[a1b('0x197')](D[a1b('0x272')]);if(H<0x0){H=a[a1b('0x3b')][B]['push'](Object[a1b('0x241')]({},D,{'status':0x2,'resume_on_step':a[a1b('0x279')][a1b('0x168')][a1b('0xaa')],'resume_context':v}))-0x1;}else{a[a1b('0x3b')][B][H]=Object[a1b('0x241')]({},a[a1b('0x3b')][B][H],{'status':0x2,'resume_on_step':a[a1b('0x279')]['stop'][a1b('0xaa')],'resume_context':v});}a[a1b('0xa7')][a1b('0x8a')](a['logger']['LOG_LEVEL_INFO'],'[PENDING]\x20{'+A[a1b('0x186')]+a1b('0x215')+E+a1b('0x20f')+a[a1b('0x3b')][B][a1b('0x3d')](function(K){return K[a1b('0x287')]+'/'+K['instancenr']+'/'+K['status'];})['join'](','));G();var I=v[a1b('0x17')][a1b('0x58')](function(K){return K[a1b('0x272')]==z[a1b('0x2c1')]['sn'];});var J=I?I['value']:0x0;a[a1b('0xa7')]['log'](a['logger'][a1b('0x29e')],'[PENDING]\x20{'+B+a1b('0x215')+E+a1b('0x2c4')+z[a1b('0x2c1')][a1b('0x1f4')]+'/'+z['labels'][a1b('0x287')]+'/'+z[a1b('0x2c1')]['sn']+a1b('0xe4')+parseInt(J)+0x1+a1b('0xcb')+C+')');async[a1b('0x174')]([function(K){if(!x||a[a1b('0x294')](B,H,a[a1b('0x279')][a1b('0x168')]['counter_updated'])){a[a1b('0x161')]['pushCounter']('counter',a1b('0x168'),C,B,z['labels']['sn'],z[a1b('0x2c1')][a1b('0x1f4')],parseInt(J)+0x1);a['save_resume_step'](B,H,a['_resume_on_step'][a1b('0x168')][a1b('0xfd')]);}K();},function(K){if(!x||a['resume_here_on_interruption'](B,H,a[a1b('0x279')][a1b('0x168')][a1b('0x27f')])){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')]['LOG_LEVEL_INFO'],'[PENDING]\x20{'+B+a1b('0x215')+E+a1b('0x29f')+z[a1b('0x2c1')][a1b('0x33')]+'/'+z[a1b('0x2c1')][a1b('0x287')]+'/'+z[a1b('0x2c1')]['sn']);sapcontrol_operations$1[v[a1b('0x15')]['name']]['call'](F[a1b('0x28')],{},function(L){a[a1b('0x184')](B,H,a['_resume_on_step'][a1b('0x168')][a1b('0x27f')]);if(L){K(j);}else{K();}});}else K();},function(K){var L=0x14;var M=0x12c;var N=Math[a1b('0x127')](M/L);a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')]['LOG_LEVEL_INFO'],a1b('0x126')+B+a1b('0x215')+E+a1b('0x213')+M+a1b('0x24d')+z[a1b('0x2c1')][a1b('0x33')]+'/'+z[a1b('0x2c1')][a1b('0x287')]+'/'+z[a1b('0x2c1')]['sn']);m(F['soapcli'],N,L*0x3e8,z[a1b('0x2c1')]['sn'],K);},function(K){if(!x||a[a1b('0x294')](B,H,a[a1b('0x279')][a1b('0x168')][a1b('0x18')])){a[a1b('0xa7')]['log'](a[a1b('0xa7')][a1b('0x115')],a1b('0x126')+B+a1b('0x215')+E+')\x20triggered\x20EC2\x20instance:'+z['labels'][a1b('0x33')]);a[a1b('0x15a')]['stopEC2'](z['labels'][a1b('0x33')],K);a[a1b('0x184')](B,H,a[a1b('0x279')][a1b('0x168')]['ec2_stop_triggered']);}else K();}],function(K){if(K){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],a1b('0x199')+B+a1b('0x215')+E+'):',K);switch(K){case j:a[a1b('0x3b')][B][H][a1b('0x23f')]=-0x1;a[a1b('0x3b')][B][H][a1b('0x24a')]={'occur_date':Date['now'](),'msg':l[j]};break;case l[k]:a['updated_system_instances'][B][H][a1b('0x23f')]=-0x1;a[a1b('0x3b')][B][H][a1b('0x24a')]={'occur_date':Date['now'](),'msg':l[k]};break;case a[a1b('0x15a')]['_errors'][a1b('0x94')]:a[a1b('0x3b')][B][H]['status']=-0x1;a['updated_system_instances'][B][H][a1b('0x24a')]={'occur_date':Date[a1b('0xe9')](),'msg':l[d]};break;}a[a1b('0x184')](B,H,-0x1);}else{var L=0x14;var M=0x12c;var N=Math[a1b('0x127')](M/L);a[a1b('0x3b')][B][H]['status']=0x0;p(a[a1b('0x15a')],N,L*0x3e8,z[a1b('0x2c1')][a1b('0x33')],function(O){if(O){a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x29e')],a1b('0xf4')+B+a1b('0x215')+E+a1b('0x1a7')+z[a1b('0x2c1')]['ip_internal']+'/'+z['labels'][a1b('0x287')]+'/'+z[a1b('0x2c1')]['sn']+a1b('0x10c'),l[O]);a[a1b('0x3b')][B][H][a1b('0x24a')]={'occur_date':Date['now'](),'msg':l[O]};}else{delete a[a1b('0x3b')][B][H][a1b('0x24a')];a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x29e')],a1b('0xf4')+B+a1b('0x215')+E+')\x20fully\x20stopped:'+z[a1b('0x2c1')][a1b('0x33')]+'/'+z[a1b('0x2c1')][a1b('0x287')]+'/'+z[a1b('0x2c1')]['sn']);}a[a1b('0x184')](B,H,-0x1);});}});}else{a[a1b('0xa7')]['log'](a['logger'][a1b('0x115')],a1b('0xac')+B+a1b('0x215')+E+a1b('0x281'));G(a[a1b('0x27d')][a1b('0x251')]);}}],function(F){if(F){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],a1b('0x7f')+B+a1b('0x215')+E+a1b('0x1d')+A[a1b('0x33')]+'/'+A[a1b('0x15f')]+':',F);switch(F){case a[a1b('0x27d')]['soap_client_init']:case a[a1b('0x27d')][a1b('0x18e')]:case a[a1b('0x27d')][a1b('0x50')]:case a[a1b('0x27d')][a1b('0x17c')]:case a[a1b('0x27d')][a1b('0x251')]:default:w(F);break;}}else{w(null,{'sending_sslcertifs':a['sending_sslcertifs'][A['syst_id']+''],'instances':a[a1b('0x3b')],'syst_id':A[a1b('0x186')]});}});}else{a['logger'][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],a1b('0xac')+B+a1b('0x215')+E+a1b('0x1f1'));w(a1b('0x3a'));}}function s(v,w){var x=arguments['length']>0x2&&arguments[0x2]!==undefined?arguments[0x2]:![];var y=arguments[a1b('0xee')]>0x3&&arguments[0x3]!==undefined?arguments[0x3]:-0x1;process[a1b('0x253')][a1b('0x1')]='0';var z=v['alert'];var A=v['system'];var B=z[a1b('0x2c1')][a1b('0x1d7')];var C=z[a1b('0x2c1')][a1b('0x1d0')];var D=x?'<-':'';if(a[a1b('0x3b')][B]==undefined||a['updated_system_instances'][B][a1b('0xee')]==0x0){a[a1b('0x3b')][B]=_toConsumableArray(A[a1b('0x2bc')]);}if(A){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x115')],'[PENDING]\x20{'+A['syst_id']+a1b('0x22f')+D+')\x20requested\x20for\x20instance:'+A[a1b('0x33')]+'-'+A[a1b('0x15f')]);async[a1b('0x63')]([function(E){async[a1b('0x15b')]({'normal_instance_to_start':function F(G){if(x)G();else{async[a1b('0x63')]([function(H){var I=a[a1b('0x3b')][B][a1b('0x18a')](function(J){return J['status']==0x0&&J[a1b('0xd1')]['indexOf'](a1b('0x178'))<0x0&&J[a1b('0xd1')][a1b('0x197')](a1b('0x8f'))<0x0;});if(I&&I[a1b('0xee')]>0x0){H();}else{a['logger'][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],a1b('0x199')+A[a1b('0x186')]+'}\x20(start'+D+'):'+a[a1b('0x27d')][a1b('0x297')]);H(a[a1b('0x27d')][a1b('0x297')]);}},function(H){a[a1b('0x221')](v[a1b('0xb6')][a1b('0x186')],v[a1b('0x4d')],H);},function(H){var I=v[a1b('0xb6')]['is_encrypted']?{'protocol':a1b('0x2a8'),'port_suffix':'14'}:{'protocol':a1b('0x61'),'port_suffix':'13'};var J=I[a1b('0x40')]+a1b('0x48')+(v['system'][a1b('0x33')]||v[a1b('0xb6')][a1b('0x287')])+':5'+v['system']['sn']+I[a1b('0x263')]+'/';a[a1b('0x161')][a1b('0xf9')](v[a1b('0xb6')]['syst_id']);a[a1b('0x59')](J,{'method':v[a1b('0xb6')][a1b('0x16d')],'options':[{'user':v[a1b('0xb6')][a1b('0x27')],'pwd':v['system'][a1b('0x44')]},{'pfx':v[a1b('0xb6')][a1b('0x16d')]==0x1&&a[a1b('0x1c8')]+'/'+v['system'][a1b('0x186')]+a1b('0x1e1')}]},v,H);},function(H,I){H[a1b('0x28')][a1b('0x5')]({},function(J,K){if(!J&&K&&K[a1b('0x1d7')]&&K[a1b('0x1d7')]['item']){var L=K[a1b('0x1d7')][a1b('0x194')][a1b('0x3d')](function(N){return{'hostname':N[a1b('0x287')],'instancenr':(''+N[a1b('0x28d')])['padStart'](0x2,'0'),'features':N[a1b('0xd1')][a1b('0x56')]('|'),'status':N['dispstatus']==a[a1b('0x231')][a1b('0x259')]?0x1:N[a1b('0x177')]==a['_sap_statuses'][a1b('0x13a')]?-0x1:0x0};});var M=a['check_system_status'](K[a1b('0x1d7')][a1b('0x194')]);if(M==a[a1b('0x231')][a1b('0x226')]||M==a[a1b('0x231')][a1b('0x16f')]){I(a[a1b('0x27d')][a1b('0x18e')],H['soapcli']);}else{a[a1b('0x161')][a1b('0x144')]('up',C,v[a1b('0xb6')][a1b('0x186')],a[a1b('0x1ae')],v[a1b('0xb6')][a1b('0x15f')],0x1);a[a1b('0x46')][v['system']['syst_id']]=0x0;I(null,L);}}else{I(a['_errors']['ws_not_reachable'],J&&J[a1b('0x26e')]+'\x20'+J['port']);}});},function(H,I){var J={};H[a1b('0x18a')](function(K){return K['status']==0x1;})[a1b('0x225')](function(K){J[K[a1b('0x272')]]=K[a1b('0xd1')]['join']('|');});if(Object[a1b('0xdd')](J)['filter'](function(K){return!RegExp(a1b('0x178'))[a1b('0x1b0')](K)&&!RegExp(a1b('0x8f'))[a1b('0x1b0')](K);})[a1b('0xee')]<a[a1b('0x131')]){I(null,H);}else{I(a[a1b('0x27d')][a1b('0x1b8')]);}},function(H,I){a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x14f')],a1b('0x126')+A[a1b('0x186')]+a1b('0x22f')+D+')\x20all\x20instances\x20of\x20system:'+H['map'](function(K){return K[a1b('0x287')]+'/'+K['instancenr']+'/'+K['status'];})['join'](','));var J=a['updated_system_instances'][B][a1b('0x18a')](function(K){return K[a1b('0x23f')]==0x0&&K[a1b('0xd1')][a1b('0x197')]('MESSAGESERVER')<0x0&&K['features'][a1b('0x197')](a1b('0x8f'))<0x0;})['filter'](function(K){return H[a1b('0x18a')](function(L){return L[a1b('0x23f')]==0x0;})[a1b('0x85')](function(L){return L[a1b('0x272')]==K[a1b('0x272')];})>=0x0||H['findIndex'](function(L){return L[a1b('0x272')]==K[a1b('0x272')];})<0x0;});a['logger'][a1b('0x8a')](a[a1b('0xa7')][a1b('0x14f')],a1b('0x126')+A[a1b('0x186')]+a1b('0x22f')+D+a1b('0x26d')+J[a1b('0x3d')](function(K){return K[a1b('0x287')]+'/'+K[a1b('0x272')]+'/'+K[a1b('0x23f')];})[a1b('0x252')](','));if(J&&J[a1b('0xee')]>0x0){I(null,J[0x0]);}else{I(a[a1b('0x27d')][a1b('0x297')]);}}],function(H,I){if(H){G(H);}else G(null,I);});}},'resume_instance_to_start':function G(H){if(x)H(null,a[a1b('0x3b')][B][y]);else H();}},function(H,I){E(H,I[a1b('0x21a')]||I[a1b('0x1c9')]);});},function(E,F){a['logger'][a1b('0x8a')](a[a1b('0xa7')][a1b('0x14f')],a1b('0x126')+A[a1b('0x186')]+a1b('0x22f')+D+a1b('0x285')+a['updated_system_instances'][B][a1b('0x3d')](function(J){return J[a1b('0x287')]+'/'+J['instancenr']+'/'+J[a1b('0x23f')];})[a1b('0x252')](','));if(x||a['updated_system_instances'][B][a1b('0x18a')](function(J){return J[a1b('0x23f')]==0x3;})[a1b('0xee')]==0x0){a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x115')],'[PENDING]\x20{'+A['syst_id']+a1b('0x22f')+D+a1b('0xe8')+z[a1b('0x2c1')][a1b('0x1f4')]+a1b('0x28b')+E[a1b('0x287')]+'/'+E[a1b('0x33')]+'/'+E[a1b('0x272')]);var G=a[a1b('0x3b')][B]['map'](function(J){return J[a1b('0x272')];})['indexOf'](E['instancenr']);if(G<0x0){G=a[a1b('0x3b')][B][a1b('0x2a5')](Object[a1b('0x241')]({},E,{'status':0x3,'resume_on_step':a['_resume_on_step']['start']['begin'],'resume_context':v}))-0x1;}else{a[a1b('0x3b')][B][G]=Object[a1b('0x241')]({},a[a1b('0x3b')][B][G],{'status':0x3,'resume_on_step':a[a1b('0x279')][a1b('0x1ad')][a1b('0xaa')],'resume_context':v});}a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x115')],a1b('0x126')+A[a1b('0x186')]+a1b('0x22f')+D+a1b('0x20f')+a[a1b('0x3b')][B][a1b('0x3d')](function(J){return J[a1b('0x287')]+'/'+J[a1b('0x272')]+'/'+J[a1b('0x23f')];})[a1b('0x252')](','));F();var H=v[a1b('0x17')][a1b('0x58')](function(J){return J[a1b('0x272')]==E['instancenr'];});var I=H?H[a1b('0x12b')]:0x0;a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x29e')],'[PENDING]\x20{'+A[a1b('0x186')]+a1b('0x22f')+D+')\x20triggered:'+B+'/'+E[a1b('0x33')]+'/'+E[a1b('0x287')]+'/'+E['instancenr']+a1b('0xe4')+(parseInt(I)+0x1)+a1b('0xcb')+C+')');async[a1b('0x174')]({'incr':function J(K){if(!x||a[a1b('0x294')](B,G,a[a1b('0x279')][a1b('0x1ad')][a1b('0xfd')])){a[a1b('0x161')]['pushCounter'](a1b('0x17'),a1b('0x1ad'),C,B,E['instancenr'],z[a1b('0x2c1')][a1b('0x1f4')],parseInt(I)+0x1);a[a1b('0x184')](B,G,a[a1b('0x279')][a1b('0x1ad')][a1b('0xfd')]);}K();},'start':function K(L){if(!x||a[a1b('0x294')](B,G,a[a1b('0x279')]['start'][a1b('0x238')])){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x115')],a1b('0x126')+A['syst_id']+a1b('0x22f')+D+')\x20trigger\x20EC2\x20instance:'+E[a1b('0x33')]);a[a1b('0x15a')][a1b('0xa9')](E['ip_internal'],L);a[a1b('0x184')](B,G,a['_resume_on_step'][a1b('0x1ad')]['ec2_start_triggered']);}else L();},'check':function L(M){var N=0x14;var O=0x12c;var P=Math[a1b('0x127')](O/N);a['logger'][a1b('0x8a')](a[a1b('0xa7')]['LOG_LEVEL_DEBUG'],a1b('0x126')+A[a1b('0x186')]+'}\x20(start'+D+a1b('0x291')+O+a1b('0x90')+E[a1b('0x33')]);o(a['aws_cli'],P,N*0x3e8,E[a1b('0x33')],M);},'soap':function M(N){var O=null;var P=A['is_encrypted']?{'protocol':a1b('0x2a8'),'port_suffix':'14'}:{'protocol':a1b('0x61'),'port_suffix':'13'};var Q=P[a1b('0x40')]+a1b('0x48')+(E[a1b('0x33')]||E[a1b('0x287')])+':5'+E[a1b('0x272')]+P[a1b('0x263')]+'/';if(A[a1b('0x16d')]==0x1){O=a[a1b('0x1c8')]+'/'+A[a1b('0x186')]+a1b('0x1e1');}a[a1b('0x59')](Q,{'method':A[a1b('0x16d')],'options':[{'user':A['username'],'pwd':A[a1b('0x44')]},{'pfx':O}]},{},N);}},function(N,O){var P=O[a1b('0x55')];if(N||!P){a[a1b('0xa7')]['log'](a[a1b('0xa7')]['LOG_LEVEL_ERROR'],a1b('0x199')+A[a1b('0x186')]+a1b('0x22f')+D+a1b('0x36'),N);switch(N){case a[a1b('0x15a')][a1b('0x27d')]['ec2_not_started']:a[a1b('0x3b')][B][G][a1b('0x23f')]=-0x1;a[a1b('0x3b')][B][G]['error']={'occur_date':Date[a1b('0xe9')](),'msg':a[a1b('0x15a')][a1b('0x27d')]['ec2_not_started']};break;case a['_errors']['soap_client_init']:a[a1b('0x3b')][B][G][a1b('0x23f')]=-0x1;a['updated_system_instances'][B][G][a1b('0x24a')]={'occur_date':Date[a1b('0xe9')](),'msg':a[a1b('0x27d')]['soap_client_init']};break;case c:case b:default:a[a1b('0x3b')][B][G][a1b('0x23f')]=-0x1;a[a1b('0x3b')][B][G]['error']={'occur_date':Date[a1b('0xe9')](),'msg':l[N]};break;}a[a1b('0x184')](B,G,-0x1);}else{a[a1b('0xa7')]['log'](a[a1b('0xa7')][a1b('0x115')],a1b('0x126')+A['syst_id']+'}\x20(start'+D+')\x20trigger\x20start\x20SAP\x20instance:'+E[a1b('0x287')]+'/'+E[a1b('0x33')]+'/'+E[a1b('0x272')]);async['series']([function(Q){if(!x||a[a1b('0x294')](B,G,a[a1b('0x279')][a1b('0x1ad')][a1b('0x237')])){sapcontrol_operations$1[v[a1b('0x15')][a1b('0x20a')]][a1b('0x159')](P['soapcli'],{},function(R){a[a1b('0x184')](B,G,a[a1b('0x279')][a1b('0x1ad')][a1b('0x237')]);if(R!==undefined&&R!==null){if(R[a1b('0x1b4')]){var S=R[a1b('0x1b4')][a1b('0x2c8')](/<faultstring>(.*?)<\/faultstring>/)&&R[a1b('0x1b4')][a1b('0x2c8')](/<faultstring>(.*?)<\/faultstring>/)[0x1];if(S==a1b('0x235')){a[a1b('0x3b')][B][G][a1b('0x23f')]=0x1;}else{a['logger'][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],a1b('0x199')+A[a1b('0x186')]+'}\x20(start'+D+a1b('0xbc')+S);a[a1b('0x3b')][B][G][a1b('0x23f')]=-0x1;a[a1b('0x3b')][B][G][a1b('0x24a')]={'occur_date':Date[a1b('0xe9')](),'msg':l[h]+':'+S};}}else{a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],a1b('0x199')+A['syst_id']+a1b('0x22f')+D+a1b('0xbc'),R);a[a1b('0x3b')][B][G][a1b('0x23f')]=-0x1;a[a1b('0x3b')][B][G][a1b('0x24a')]={'occur_date':Date[a1b('0xe9')](),'msg':l[h]};}a[a1b('0x184')](B,G,-0x1);Q(R);}else{Q();}});}else Q();},function(Q){var R=0x14;var S=0x12c;var T=Math['ceil'](S/R);a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x14f')],a1b('0x126')+A['syst_id']+a1b('0x22f')+D+a1b('0x135')+S+'\x20sec:'+E[a1b('0x287')]+'/'+E[a1b('0x33')]+'/'+E[a1b('0x272')]);n(P['soapcli'],T,R*0x3e8,E[a1b('0x272')],function(U){if(U){a[a1b('0x3b')][B][G][a1b('0x23f')]=-0x1;a[a1b('0x3b')][B][G][a1b('0x24a')]={'occur_date':Date[a1b('0xe9')](),'msg':l[i]};a[a1b('0xa7')]['log'](a[a1b('0xa7')][a1b('0x29e')],a1b('0xf4')+A['syst_id']+a1b('0x22f')+D+a1b('0x244')+B+'/'+E[a1b('0x287')]+'/'+E[a1b('0x33')]+'/'+E['instancenr']+a1b('0x10c'),l[i]);q(P['soapcli'],A,E,G,0x1);}else{a[a1b('0x3b')][B][G][a1b('0x23f')]=0x1;delete a[a1b('0x3b')][B][G][a1b('0x24a')];a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x29e')],'[COMPLETED]\x20{'+A[a1b('0x186')]+a1b('0x22f')+D+')\x20fully\x20started:'+B+'/'+E['hostname']+'/'+E['ip_internal']+'/'+E[a1b('0x272')]);a[a1b('0x184')](B,G,-0x1);}Q();});}]);}});}else{F(a[a1b('0x27d')][a1b('0xf2')]);}}],function(E){if(E){a['logger'][a1b('0x8a')](a['logger'][a1b('0x51')],'[CHECKS\x20FAILED]\x20{'+A[a1b('0x186')]+'}\x20(start'+D+a1b('0x1d')+A[a1b('0x33')]+'-'+A['sid']+':',E);w(E);}else{w(null,{'sending_sslcertifs':a[a1b('0x137')][A['syst_id']+''],'instances':a[a1b('0x3b')],'syst_id':A[a1b('0x186')]});}});}else{a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')]['LOG_LEVEL_ERROR'],a1b('0x145')+D+a1b('0x18c'));w(a1b('0x3a'));}}function t(v,w){if(a['updated_system_instances'][v[a1b('0x186')]]){var x=a['updated_system_instances'][v['syst_id']]['filter'](function(y){return y['instancenr']==v[a1b('0x290')];})[0x0];if(x){a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x14f')],a1b('0x126')+v[a1b('0x186')]+a1b('0xe5')+x['hostname']+'/'+x[a1b('0x272')]+'/'+x[a1b('0x23f')]);if(x[a1b('0x23f')]==-0x1){async[a1b('0x63')]([function(y){a[a1b('0x221')](v['syst_id'],v[a1b('0x4d')],y);},function(y){var z={'protocol':a1b('0x2a8'),'port_suffix':'14'};var A=z[a1b('0x40')]+'://'+(x[a1b('0x33')]||x[a1b('0x287')])+':5'+v[a1b('0x290')]+z[a1b('0x263')]+'/';a['new_soap_client'](A,{'method':0x1,'options':[{},{'pfx':a[a1b('0x1c8')]+'/'+v[a1b('0x186')]+a1b('0x1e1')}]},v,y);},function(y,z){y[a1b('0x28')][a1b('0x5')]({},function(A,B){if(!A&&B&&B[a1b('0x1d7')]&&B[a1b('0x1d7')][a1b('0x194')]){z(null,B['instance'][a1b('0x194')][a1b('0x58')](function(C){return(''+C[a1b('0x28d')])['padStart'](0x2,'0')==v[a1b('0x290')];}));}else{z();}});}],function(y,z){if(y){w(a1b('0x113')+y);}else{w(null,{'sending_sslcertifs':a[a1b('0x137')][v[a1b('0x186')]+''],'instance':z?Object['assign'](x,{'status':z[a1b('0x177')]==a[a1b('0x231')]['green']?0x1:z[a1b('0x177')]==a['_sap_statuses'][a1b('0x13a')]?-0x1:0x0},{'resume_context':null,'resume_on_step':null}):Object[a1b('0x241')](x,{'resume_context':null,'resume_on_step':null}),'syst_id':v[a1b('0x186')]});}});}else{w(null,{'sending_sslcertifs':a[a1b('0x137')][v[a1b('0x186')]+''],'instance':x,'syst_id':v[a1b('0x186')]});}}else{a[a1b('0xa7')]['log'](a[a1b('0xa7')][a1b('0x51')],a1b('0x199')+v['syst_id']+'}\x20(update)\x20system\x20not\x20indexed:'+v[a1b('0x290')]);w(a1b('0x1a9'));}}else{a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],'[FAILED]\x20{'+v[a1b('0x186')]+a1b('0x1ff')+v[a1b('0x186')]);w(a1b('0x29a'));}}function u(v){var w=null;var x={};var y=v['action'][a1b('0x218')][a1b('0x79')];switch(v['action']['name']){case'slack':var z=function A(B,C){var D=[];if(C[a1b('0xee')]>0x0){D[a1b('0x2a5')]({'type':'section','text':{'type':a1b('0x1c3'),'text':a1b('0x9d')+B+'>'}});C['forEach'](function(E){D['push']({'type':'section','block_id':E['fingerprint'],'fields':[{'type':'mrkdwn','text':a1b('0x2aa')+E[a1b('0x2c1')][a1b('0x1f4')]},{'type':a1b('0x1c3'),'text':a1b('0xe')+E[a1b('0x2c1')][a1b('0x15f')]+(E[a1b('0x2c1')][a1b('0x287')]!=undefined&&E[a1b('0x2c1')][a1b('0x287')]!=''?'@'+E['labels'][a1b('0x287')]:'')+(E[a1b('0x2c1')]['sn']!=undefined&&E[a1b('0x2c1')]['sn']!=''?'\x20['+E[a1b('0x2c1')]['sn']+']':'')}]});});D[a1b('0x2a5')]({'type':'divider'});}return D;};w={'text':v[a1b('0xb5')][a1b('0xee')]+a1b('0xc8')+(v[a1b('0xb5')][a1b('0xee')]>0x1&&'s'||'')+'(\x20'+v[a1b('0xb5')][a1b('0x18a')](function(B){return B[a1b('0x23f')]==a1b('0x8');})['length']+a1b('0x1f6'),'blocks':z(a1b('0x9a'),v[a1b('0xb5')]['filter'](function(B){return B[a1b('0x23f')]==a1b('0x8');}))};break;case a1b('0x12c'):w=Object[a1b('0x241')](v,v[a1b('0x15')][a1b('0x218')]);x={'headers':{'x-api-key':'ZqDvnKwJhCz69koeSUSB59jIhyDMjHm3RMHyg675'}};break;}if(w!=null){axios[a1b('0x1c')](y,w,x)[a1b('0x162')](function(B){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')]['LOG_LEVEL_INFO'],a1b('0xf4')+v[a1b('0x15')][a1b('0x20a')]+a1b('0x2c0'));})[a1b('0x1d9')](function(B){if(B){a[a1b('0xa7')][a1b('0x8a')](a['logger']['LOG_LEVEL_ERROR'],'[FAILED]\x20{'+v[a1b('0x15')][a1b('0x20a')]+a1b('0x240'),B);}});}}async[a1b('0x174')]([function(v){a[a1b('0xa7')]['log'](a[a1b('0xa7')][a1b('0x29e')],'loading\x20resume\x20processing\x20data...');async['waterfall']([function(w){a[a1b('0x1ef')][a1b('0xa1')](a[a1b('0x82')],w);},function(w,x){a['updated_system_instances']=JSON[a1b('0x192')](w)&&JSON[a1b('0x192')](w)[a1b('0x230')]||{};a[a1b('0x1ef')]['set'](a[a1b('0x82')],a1b('0x10e'),x);}],function(w){if(w){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')]['LOG_LEVEL_ERROR'],'redis\x20client\x20get/set\x20error:',w);}a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x29e')],'loaded\x20from\x20cache\x20:',a[a1b('0x3b')]);v();});},function(v){if(a[a1b('0x3b')]&&Object[a1b('0x54')](a[a1b('0x3b')])['length']>0x0){v();Object[a1b('0x54')](a[a1b('0x3b')])['forEach'](function(w){async[a1b('0xf7')](a[a1b('0x3b')][w],function(x,y,z){if(x[a1b('0xfe')]>0x0){a['logger']['log'](a['logger']['LOG_LEVEL_MIN'],a1b('0x232'),x[a1b('0x23f')]);switch(x['status']){case 0x2:a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x29e')],a1b('0xf1'),x);z();r(x[a1b('0x249')],function(A,B){if(A){a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x51')],a1b('0x25e'),A);}else{a[a1b('0xa7')][a1b('0x8a')](a['logger']['LOG_LEVEL_DEBUG'],'(resume)\x20stop\x20OK:',B);}},!![],x[a1b('0xfe')]);break;case 0x3:a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x29e')],'(resume)\x20start\x20on:',x);z();s(x['resume_context'],function(A,B){if(A){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],'(resume)\x20start\x20error\x20:',A);}else{a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')]['LOG_LEVEL_DEBUG'],a1b('0x23a'),B);}},!![],y);break;default:a['logger'][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],a1b('0x156'),x[a1b('0x23f')]);z();break;}}else{delete a[a1b('0x3b')][w][y];z();}},function(x){if(x)a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')]['LOG_LEVEL_ERROR'],a1b('0x190'),x);a[a1b('0x3b')][w]=a[a1b('0x3b')][w]['filter'](function(y){return y!=undefined;});});});}else v();},function(v){a[a1b('0x1d6')][a1b('0x2ba')](a[a1b('0x6c')]['webhook_exec'],a['concurrency_nb'],function(w,x){if(w[a1b('0xd9')][a1b('0x15')]){switch(w[a1b('0xd9')][a1b('0x15')][a1b('0x121')]){case 0x0:u(w['data']);x();break;case 0x1:var y=w[a1b('0xd9')]['system']?w['data']['system'][a1b('0x186')]:w[a1b('0xd9')][a1b('0x186')];a[a1b('0x221')](y,w[a1b('0xd9')]['keys_buff'],function(z){if(z){x(a1b('0x13e'));}else{switch(w['data'][a1b('0x15')]['name']){case a1b('0x83'):a[a1b('0xa7')][a1b('0x8a')](a['logger'][a1b('0x14f')],'stop\x20action\x20data:',w[a1b('0xd9')]);if(!w[a1b('0xd9')][a1b('0xb5')])x();else r(w[a1b('0xd9')],x);break;case a1b('0xb8'):a[a1b('0xa7')]['log'](a[a1b('0xa7')][a1b('0x14f')],a1b('0xfa'),w[a1b('0xd9')]);if(!w[a1b('0xd9')][a1b('0xb5')])x();else s(w[a1b('0xd9')],x);break;case a1b('0x100'):t(w[a1b('0xd9')],x);break;default:x();break;}}});break;default:a['logger'][a1b('0x8a')](a[a1b('0xa7')][a1b('0x51')],'action\x20type\x20not\x20supported:',w[a1b('0xd9')][a1b('0x15')]['type']);x();break;}}else{a['logger']['log'](a[a1b('0xa7')]['LOG_LEVEL_ERROR'],a1b('0x3'));x();}});v();}]);},'get_cloud_region':function get_cloud_region(a){var b=this;var c=0x1;switch(c){case 0x0:break;case 0x1:var d='http://169.254.169.254/latest/meta-data/placement/availability-zone';axios[a1b('0xa1')](d)[a1b('0x162')](function(f){if(f['data']){b[a1b('0xa7')][a1b('0x8a')](b[a1b('0xa7')][a1b('0x115')],'get_cloud_region\x20',f[a1b('0xd9')]);b['region']=f['data'][a1b('0x5b')](0x0,-0x1);a();}else{b[a1b('0xa7')][a1b('0x8a')](b[a1b('0xa7')]['LOG_LEVEL_ERROR'],a1b('0x4'));a();}})[a1b('0x1d9')](function(f){if(f){b[a1b('0xa7')][a1b('0x8a')](b[a1b('0xa7')][a1b('0x51')],a1b('0x116'),f);}a();});break;}},'deletePrometheus':function deletePrometheus(a,b,c,d,f){var g=this;if(g[a1b('0x46')][c]==undefined){g[a1b('0x46')][c]=0x0;}g[a1b('0xa7')][a1b('0x8a')](g[a1b('0xa7')][a1b('0x115')],a1b('0x2be')+c+a1b('0x29')+a+a1b('0x138'));g[a1b('0x161')][a1b('0x13b')](a,{'instance':c});g[a1b('0x161')]['pushUpSAPInstance']('up',b,c,g[a1b('0x1ae')],d,f['map'](function(h){return Object[a1b('0x241')](h,{'status':0x0});}));g['conn_retries'][c]=0x0;},'new_soap_client':function new_soap_client(a,b,c,d){var f=this;try{soap[a1b('0x28f')](a+a1b('0x1b9'),{'returnFault':!![]},function(g,h){if(g||!h){f[a1b('0xa7')][a1b('0x8a')](f['logger'][a1b('0x14f')],'Error\x20connecting\x20to\x20WSDL\x20:'+a+a1b('0x1b9'));d(f[a1b('0x27d')][a1b('0x60')],c);}else{switch(b[a1b('0x10b')]){case 0x0:h['setSecurity'](new soap[(a1b('0x110'))](b[a1b('0x265')][0x0][a1b('0x185')],b[a1b('0x265')][0x0]['pwd']));break;case 0x1:h[a1b('0x151')](new soap[(a1b('0x1fe'))](b[a1b('0x265')][0x1][a1b('0x1c0')],null,{'rejectUnauthorized':![]}));break;default:h['setSecurity'](new soap['ClientSSLSecurityPFX'](b[a1b('0x265')][0x1][a1b('0x1c0')],null,{'rejectUnauthorized':![]}));}h[a1b('0x1e3')](a+a1b('0x26f'));d(null,{'soapcli':h,'payload':c});}});}catch(g){if(g){f['logger'][a1b('0x8a')](f[a1b('0xa7')][a1b('0x51')],a1b('0x1cc'),g);d(f[a1b('0x27d')][a1b('0x60')],c);}}},'get_sap_instances':function get_sap_instances(a,b,c){var d=this;var f='https://'+a+':5'+b+'14';try{soap[a1b('0x28f')](f+a1b('0x182'),{'returnFault':!![]},function(g,h){if(g||!h){c(d[a1b('0x27d')][a1b('0x60')],[]);}else{h[a1b('0x5')]({},function(i,j){if(!i&&j&&j['instance']&&j['instance'][a1b('0x194')]){var k=j['instance'][a1b('0x194')]['map'](function(l){return{'hostname':l[a1b('0x287')],'instancenr':(''+l[a1b('0x28d')])[a1b('0xd6')](0x2,'0'),'features':l[a1b('0xd1')][a1b('0x56')]('|'),'status':l['dispstatus']==d[a1b('0x231')][a1b('0x259')]?0x1:l[a1b('0x177')]==d[a1b('0x231')][a1b('0x13a')]?-0x1:0x0};});c(null,k);}else{c(d[a1b('0x27d')][a1b('0x256')],[]);}});}});}catch(g){if(g){d[a1b('0xa7')]['log'](d[a1b('0xa7')][a1b('0x51')],'check_sapcontrol_listening:\x20SOAP\x20client\x20init\x20exception:',g);}c(d[a1b('0x27d')][a1b('0x256')],[]);}},'check_sapcontrol_listening':function check_sapcontrol_listening(a,b,c,d){var f=this;try{var g=http[a1b('0xa1')](a1b('0xde')+a+':5'+b+'13/?wsdl',{'timeout':0x3e8},function(h){f[a1b('0xa7')][a1b('0x8a')](f[a1b('0xa7')][a1b('0x14f')],a1b('0x147')+a+':'+b,h[a1b('0x233')]);if(h&&h[a1b('0x233')]==0xc8){var i=a1b('0x12a')+a+':5'+b+'14';soap[a1b('0x28f')](i+a1b('0x182'),{'returnFault':!![]},function(j,k){if(j||!k){d(![]);}else{k[a1b('0x5')]({},function(l,m){if(!l&&m&&m['instance']&&m[a1b('0x1d7')][a1b('0x194')]){d(m[a1b('0x1d7')]['item'][a1b('0x3d')](function(n){return n['hostname'];})['includes'](c));}else{d(![]);}},{'timeout':0x7d0});}});}});g['on'](a1b('0x28e'),function(){g['abort']();});g['on'](a1b('0x24a'),function(h){f[a1b('0xa7')][a1b('0x8a')](f[a1b('0xa7')][a1b('0x14f')],'\x20WSDL\x20checking\x20error\x20of\x20'+a+':'+b,h);d(![]);});}catch(h){if(h){f[a1b('0xa7')]['log'](f[a1b('0xa7')]['LOG_LEVEL_ERROR'],a1b('0x3f'),h);}d(![]);}},'update_sending_ssl':function update_sending_ssl(a,b,c){var d=this;if(a){fs$1['access'](d[a1b('0x1c8')]+'/'+a+a1b('0x1e1'),fs$1[a1b('0x157')],function(f){if(f){if(b){fs$1[a1b('0x24f')](d[a1b('0x1c8')]+'/'+a+a1b('0x1e1'),new Buffer[(a1b('0x16e'))](JSON['parse'](b)),function(g){d[a1b('0x137')][a]=!!g;c();});}else{d['logger'][a1b('0x8a')](d[a1b('0xa7')][a1b('0x51')],a1b('0x1e8')+a);d[a1b('0x137')][a]=!![];c('no\x20pfx\x20provided');}}else{d['sending_sslcertifs'][a]=![];c();}});}else c('no\x20system\x20provided');},'check_system_status':function check_system_status(a){var b=this;var c=[];var d=![];for(var f=0x0,g=a['length'];f<g;f++){if(a[f][a1b('0xd1')][a1b('0x56')]('|')['indexOf'](a1b('0x178'))>=0x0||a[f][a1b('0xd1')]['split']('|')['indexOf'](a1b('0x8f'))>=0x0){if(a[f][a1b('0x177')]!=b[a1b('0x231')][a1b('0x259')]){d=!![];break;}}else{c['push']({'instancenr':(''+a[f][a1b('0x28d')])[a1b('0xd6')](0x2,'0'),'status':a[f][a1b('0x177')]==b[a1b('0x231')][a1b('0x259')]?0x1:0x0});}}if(d||c[a1b('0x1f8')](function(h,i){return h+i;},0x0)==0x0){return b[a1b('0x231')]['red'];}return b[a1b('0x231')][a1b('0x259')];},'check_failed_conn':function check_failed_conn(a,b){var c=this;if(c[a1b('0x46')][b[a1b('0xb6')]['syst_id']]<=c['conn_retries_max']){setTimeout(function(){a[a1b('0x5')]({},function(d,f){if(d||!f||!f[a1b('0x1d7')]||!f['instance']['item']){c[a1b('0x46')][b[a1b('0xb6')][a1b('0x186')]]++;c[a1b('0x1ec')](a,b);}else{var g=c[a1b('0x2b3')](f[a1b('0x1d7')][a1b('0x194')]);if(g==c[a1b('0x231')][a1b('0x226')]||g==c[a1b('0x231')][a1b('0x16f')]){c['conn_retries'][b['system'][a1b('0x186')]]++;c[a1b('0x1ec')](a,b);}else c[a1b('0x161')][a1b('0x144')]('up',b[a1b('0x1d0')],b['system'][a1b('0x186')],c['region'],b[a1b('0xb6')]['sid'],0x1);}});},0x4e20);}else{c[a1b('0xbe')]('scale',b['entity_id'],b['system'][a1b('0x186')],b[a1b('0xb6')][a1b('0x15f')],b['system']['instances']['map'](function(d){return{'instancenr':d['instancenr'],'status':0x0};}));c[a1b('0x161')][a1b('0x144')]('up',b[a1b('0x1d0')],b[a1b('0xb6')][a1b('0x186')],c[a1b('0x1ae')],b[a1b('0xb6')][a1b('0x15f')],0x0);}},'debug':function debug(a){if(this[a1b('0xa7')]){this[a1b('0xa7')][a1b('0x1d4')](a);}},'save_resume_step':function save_resume_step(a,b,c){var d=this;var f=c<0x0?{'resume_on_step':c,'resume_context':null}:{'resume_on_step':c};d[a1b('0x3b')][a][b]=Object['assign']({},d[a1b('0x3b')][a][b],f);},'resume_here_on_interruption':function resume_here_on_interruption(a,b,c){var d=this;if(d[a1b('0x3b')][a]&&d[a1b('0x3b')][a][b]){return d[a1b('0x3b')][a][b][a1b('0xfe')]<c;}else return![];},'graceful_shutdown':function graceful_shutdown(){var a=this;if(a[a1b('0x3b')]&&Object['keys'](a[a1b('0x3b')])[a1b('0xee')]>0x0){a[a1b('0x1ef')]['set'](a[a1b('0x82')],JSON[a1b('0x73')]({'root':a['updated_system_instances']}),function(b){if(b){a['logger']['log'](a[a1b('0xa7')][a1b('0x51')],'redis\x20client\x20get\x20error:',b);}else{a['logger'][a1b('0x8a')](a['logger'][a1b('0x14f')],'system\x20instances\x20buffer\x20saved');}});}if(a[a1b('0x1d6')])a[a1b('0x1d6')]['shutdown'](0x1388,function(b){a[a1b('0xa7')][a1b('0x8a')](a[a1b('0xa7')][a1b('0x29e')],'Kue\x20shutdown:\x20',b||'');});if(a[a1b('0x1ef')])a['redis_cli'][a1b('0x21e')]();}};function decrypt(a,b){var c=Buffer['from'](a['substring'](0x62,a[a1b('0xee')]-0xe),a1b('0x224'));var d=Buffer[a1b('0x16e')](a[a1b('0x2c')](0x2,a[a1b('0xee')]-0x20-0xe),a1b('0x224'));var f=crypto[a1b('0x1fd')]('aes-256-cbc',Buffer[a1b('0x16e')](b[a1b('0x2c')](0x0,0x20)),c);var g=f[a1b('0x267')](d);return Buffer[a1b('0x165')]([g,f[a1b('0x2bd')]()])[a1b('0xcf')]();}var scaledoer=ScaleDoer;try{var ScaleDoer$1=scaledoer,fs=fs$1,config_file=__dirname+a1b('0x2b0');if(!fs[a1b('0x189')](config_file)){console[a1b('0x24a')](a1b('0x1e0'),config_file);throw{'code':0x2};}else{var localconf=JSON[a1b('0x192')](fs['readFileSync'](config_file));var myenv=process[a1b('0x253')][a1b('0x5a')]||a1b('0x23d');var collectScaler=new ScaleDoer$1();collectScaler[a1b('0x2e')](Object[a1b('0x241')](localconf[myenv],{'dbindex':0x0}),collectScaler[a1b('0x1dd')]);process['on'](a1b('0x103'),function(){console[a1b('0x8a')](a1b('0x150'));collectScaler[a1b('0x1d4')](!![]);});process['on'](a1b('0x280'),function(){console['log']('I\x20switching\x20debug\x20mode\x20OFF');collectScaler[a1b('0x1d4')](![]);});}}catch(a1c){console['error']('Exception\x20raised:',a1c['code']||a1c);process[a1b('0x71')](0x1);}process['on'](a1b('0x71'),function(a){return console[a1b('0x8a')](a1b('0x101')+a);});